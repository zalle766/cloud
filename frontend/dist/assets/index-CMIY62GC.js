function _m(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function jm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vx(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Sm={exports:{}},_o={},Nm={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=Symbol.for("react.element"),Kx=Symbol.for("react.portal"),Qx=Symbol.for("react.fragment"),Jx=Symbol.for("react.strict_mode"),Gx=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Yx=Symbol.for("react.context"),Zx=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.memo"),rw=Symbol.for("react.lazy"),rh=Symbol.iterator;function nw(e){return e===null||typeof e!="object"?null:(e=rh&&e[rh]||e["@@iterator"],typeof e=="function"?e:null)}var km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Em=Object.assign,Cm={};function us(e,t,r){this.props=e,this.context=t,this.refs=Cm,this.updater=r||km}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Om(){}Om.prototype=us.prototype;function fu(e,t,r){this.props=e,this.context=t,this.refs=Cm,this.updater=r||km}var mu=fu.prototype=new Om;mu.constructor=fu;Em(mu,us.prototype);mu.isPureReactComponent=!0;var nh=Array.isArray,Rm=Object.prototype.hasOwnProperty,pu={current:null},Pm={key:!0,ref:!0,__self:!0,__source:!0};function Tm(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Rm.call(t,n)&&!Pm.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:wi,type:e,key:i,ref:a,props:s,_owner:pu.current}}function sw(e,t){return{$$typeof:wi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gu(e){return typeof e=="object"&&e!==null&&e.$$typeof===wi}function iw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sh=/\/+/g;function ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iw(""+e.key):t.toString(36)}function pa(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case wi:case Kx:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+ol(a,0):n,nh(s)?(r="",e!=null&&(r=e.replace(sh,"$&/")+"/"),pa(s,t,r,"",function(u){return u})):s!=null&&(gu(s)&&(s=sw(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(sh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",nh(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+ol(i,l);a+=pa(i,t,r,c,s)}else if(c=nw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+ol(i,l++),a+=pa(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Mi(e,t,r){if(e==null)return e;var n=[],s=0;return pa(e,n,"","",function(i){return t.call(r,i,s++)}),n}function aw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},ga={transition:null},ow={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:ga,ReactCurrentOwner:pu};function Am(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Mi,forEach:function(e,t,r){Mi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mi(e,function(){t++}),t},toArray:function(e){return Mi(e,function(t){return t})||[]},only:function(e){if(!gu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=us;ne.Fragment=Qx;ne.Profiler=Gx;ne.PureComponent=fu;ne.StrictMode=Jx;ne.Suspense=ew;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow;ne.act=Am;ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Em({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=pu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Rm.call(t,c)&&!Pm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:wi,type:e.type,key:s,ref:i,props:n,_owner:a}};ne.createContext=function(e){return e={$$typeof:Yx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xx,_context:e},e.Consumer=e};ne.createElement=Tm;ne.createFactory=function(e){var t=Tm.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Zx,render:e}};ne.isValidElement=gu;ne.lazy=function(e){return{$$typeof:rw,_payload:{_status:-1,_result:e},_init:aw}};ne.memo=function(e,t){return{$$typeof:tw,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=ga.transition;ga.transition={};try{e()}finally{ga.transition=t}};ne.unstable_act=Am;ne.useCallback=function(e,t){return nt.current.useCallback(e,t)};ne.useContext=function(e){return nt.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};ne.useEffect=function(e,t){return nt.current.useEffect(e,t)};ne.useId=function(){return nt.current.useId()};ne.useImperativeHandle=function(e,t,r){return nt.current.useImperativeHandle(e,t,r)};ne.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return nt.current.useMemo(e,t)};ne.useReducer=function(e,t,r){return nt.current.useReducer(e,t,r)};ne.useRef=function(e){return nt.current.useRef(e)};ne.useState=function(e){return nt.current.useState(e)};ne.useSyncExternalStore=function(e,t,r){return nt.current.useSyncExternalStore(e,t,r)};ne.useTransition=function(){return nt.current.useTransition()};ne.version="18.3.1";Nm.exports=ne;var N=Nm.exports;const _e=jm(N),lw=_m({__proto__:null,default:_e},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=N,uw=Symbol.for("react.element"),dw=Symbol.for("react.fragment"),hw=Object.prototype.hasOwnProperty,fw=cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mw={key:!0,ref:!0,__self:!0,__source:!0};function Lm(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)hw.call(t,n)&&!mw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:uw,type:e,key:i,ref:a,props:s,_owner:fw.current}}_o.Fragment=dw;_o.jsx=Lm;_o.jsxs=Lm;Sm.exports=_o;var o=Sm.exports,Kl={},Im={exports:{}},St={},$m={exports:{}},Um={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,V){var G=F.length;F.push(V);e:for(;0<G;){var se=G-1>>>1,ie=F[se];if(0<s(ie,V))F[se]=V,F[G]=ie,G=se;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var V=F[0],G=F.pop();if(G!==V){F[0]=G;e:for(var se=0,ie=F.length,Wt=ie>>>1;se<Wt;){var it=2*(se+1)-1,ye=F[it],Ne=it+1,Sn=F[Ne];if(0>s(ye,G))Ne<ie&&0>s(Sn,ye)?(F[se]=Sn,F[Ne]=G,se=Ne):(F[se]=ye,F[it]=G,se=it);else if(Ne<ie&&0>s(Sn,G))F[se]=Sn,F[Ne]=G,se=Ne;else break e}}return V}function s(F,V){var G=F.sortIndex-V.sortIndex;return G!==0?G:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,m=null,p=3,v=!1,b=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=F)n(u),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(u)}}function S(F){if(j=!1,w(F),!b)if(r(c)!==null)b=!0,K(E);else{var V=r(u);V!==null&&fe(S,V.startTime-F)}}function E(F,V){b=!1,j&&(j=!1,f(C),C=-1),v=!0;var G=p;try{for(w(V),m=r(c);m!==null&&(!(m.expirationTime>V)||F&&!U());){var se=m.callback;if(typeof se=="function"){m.callback=null,p=m.priorityLevel;var ie=se(m.expirationTime<=V);V=e.unstable_now(),typeof ie=="function"?m.callback=ie:m===r(c)&&n(c),w(V)}else n(c);m=r(c)}if(m!==null)var Wt=!0;else{var it=r(u);it!==null&&fe(S,it.startTime-V),Wt=!1}return Wt}finally{m=null,p=G,v=!1}}var R=!1,P=null,C=-1,I=5,T=-1;function U(){return!(e.unstable_now()-T<I)}function D(){if(P!==null){var F=e.unstable_now();T=F;var V=!0;try{V=P(!0,F)}finally{V?Y():(R=!1,P=null)}}else R=!1}var Y;if(typeof y=="function")Y=function(){y(D)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ve=oe.port2;oe.port1.onmessage=D,Y=function(){Ve.postMessage(null)}}else Y=function(){_(D,0)};function K(F){P=F,R||(R=!0,Y())}function fe(F,V){C=_(function(){F(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,K(E))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return F()}finally{p=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=p;p=F;try{return V()}finally{p=G}},e.unstable_scheduleCallback=function(F,V,G){var se=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?se+G:se):G=se,F){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=G+ie,F={id:h++,callback:V,priorityLevel:F,startTime:G,expirationTime:ie,sortIndex:-1},G>se?(F.sortIndex=G,t(u,F),r(c)===null&&F===r(u)&&(j?(f(C),C=-1):j=!0,fe(S,G-se))):(F.sortIndex=ie,t(c,F),b||v||(b=!0,K(E))),F},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(F){var V=p;return function(){var G=p;p=V;try{return F.apply(this,arguments)}finally{p=G}}}})(Um);$m.exports=Um;var pw=$m.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw=N,bt=pw;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fm=new Set,Ys={};function _n(e,t){Zn(e,t),Zn(e+"Capture",t)}function Zn(e,t){for(Ys[e]=t,e=0;e<t.length;e++)Fm.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,vw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ih={},ah={};function yw(e){return Ql.call(ah,e)?!0:Ql.call(ih,e)?!1:vw.test(e)?ah[e]=!0:(ih[e]=!0,!1)}function xw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ww(e,t,r,n){if(t===null||typeof t>"u"||xw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var vu=/[\-:]([a-z])/g;function yu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vu,yu);We[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vu,yu);We[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vu,yu);We[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function xu(e,t,r,n){var s=We.hasOwnProperty(t)?We[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ww(t,r,s,n)&&(r=null),n||s===null?yw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vr=gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Di=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),wu=Symbol.for("react.strict_mode"),Jl=Symbol.for("react.profiler"),Mm=Symbol.for("react.provider"),Dm=Symbol.for("react.context"),bu=Symbol.for("react.forward_ref"),Gl=Symbol.for("react.suspense"),Xl=Symbol.for("react.suspense_list"),_u=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),Bm=Symbol.for("react.offscreen"),oh=Symbol.iterator;function Ns(e){return e===null||typeof e!="object"?null:(e=oh&&e[oh]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,ll;function Ls(e){if(ll===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ll=t&&t[1]||""}return`
`+ll+e}var cl=!1;function ul(e,t){if(!e||cl)return"";cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{cl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ls(e):""}function bw(e){switch(e.tag){case 5:return Ls(e.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return e=ul(e.type,!1),e;case 11:return e=ul(e.type.render,!1),e;case 1:return e=ul(e.type,!0),e;default:return""}}function Yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case In:return"Fragment";case Ln:return"Portal";case Jl:return"Profiler";case wu:return"StrictMode";case Gl:return"Suspense";case Xl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dm:return(e.displayName||"Context")+".Consumer";case Mm:return(e._context.displayName||"Context")+".Provider";case bu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _u:return t=e.displayName||null,t!==null?t:Yl(e.type)||"Memo";case br:t=e._payload,e=e._init;try{return Yl(e(t))}catch{}}return null}function _w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yl(t);case 8:return t===wu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jw(e){var t=zm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bi(e){e._valueTracker||(e._valueTracker=jw(e))}function qm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function La(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zl(e,t){var r=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Br(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hm(e,t){t=t.checked,t!=null&&xu(e,"checked",t,!1)}function ec(e,t){Hm(e,t);var r=Br(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tc(e,t.type,r):t.hasOwnProperty("defaultValue")&&tc(e,t.type,Br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ch(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function tc(e,t,r){(t!=="number"||La(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Is=Array.isArray;function Vn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Br(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Is(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Br(r)}}function Wm(e,t){var r=Br(t.value),n=Br(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zi,Km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zi=zi||document.createElement("div"),zi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sw=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(e){Sw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ms[t]=Ms[e]})});function Qm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ms.hasOwnProperty(e)&&Ms[e]?(""+t).trim():t+"px"}function Jm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Qm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Nw=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sc(e,t){if(t){if(Nw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function ic(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ac=null;function ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oc=null,Kn=null,Qn=null;function hh(e){if(e=ji(e)){if(typeof oc!="function")throw Error($(280));var t=e.stateNode;t&&(t=Eo(t),oc(e.stateNode,e.type,t))}}function Gm(e){Kn?Qn?Qn.push(e):Qn=[e]:Kn=e}function Xm(){if(Kn){var e=Kn,t=Qn;if(Qn=Kn=null,hh(e),t)for(e=0;e<t.length;e++)hh(t[e])}}function Ym(e,t){return e(t)}function Zm(){}var dl=!1;function ep(e,t,r){if(dl)return e(t,r);dl=!0;try{return Ym(e,t,r)}finally{dl=!1,(Kn!==null||Qn!==null)&&(Zm(),Xm())}}function ei(e,t){var r=e.stateNode;if(r===null)return null;var n=Eo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var lc=!1;if(dr)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){lc=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{lc=!1}function kw(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Ds=!1,Ia=null,$a=!1,cc=null,Ew={onError:function(e){Ds=!0,Ia=e}};function Cw(e,t,r,n,s,i,a,l,c){Ds=!1,Ia=null,kw.apply(Ew,arguments)}function Ow(e,t,r,n,s,i,a,l,c){if(Cw.apply(this,arguments),Ds){if(Ds){var u=Ia;Ds=!1,Ia=null}else throw Error($(198));$a||($a=!0,cc=u)}}function jn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fh(e){if(jn(e)!==e)throw Error($(188))}function Rw(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return fh(s),e;if(i===n)return fh(s),t;i=i.sibling}throw Error($(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function rp(e){return e=Rw(e),e!==null?np(e):null}function np(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=np(e);if(t!==null)return t;e=e.sibling}return null}var sp=bt.unstable_scheduleCallback,mh=bt.unstable_cancelCallback,Pw=bt.unstable_shouldYield,Tw=bt.unstable_requestPaint,Ce=bt.unstable_now,Aw=bt.unstable_getCurrentPriorityLevel,Su=bt.unstable_ImmediatePriority,ip=bt.unstable_UserBlockingPriority,Ua=bt.unstable_NormalPriority,Lw=bt.unstable_LowPriority,ap=bt.unstable_IdlePriority,jo=null,Xt=null;function Iw(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(jo,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Fw,$w=Math.log,Uw=Math.LN2;function Fw(e){return e>>>=0,e===0?32:31-($w(e)/Uw|0)|0}var qi=64,Hi=4194304;function $s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fa(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=$s(l):(i&=a,i!==0&&(n=$s(i)))}else a=r&~s,a!==0?n=$s(a):i!==0&&(n=$s(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Bt(t),s=1<<r,n|=e[r],t&=~s;return n}function Mw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Bt(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=Mw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function uc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function op(){var e=qi;return qi<<=1,!(qi&4194240)&&(qi=64),e}function hl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=r}function Bw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Bt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Nu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Bt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ue=0;function lp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cp,ku,up,dp,hp,dc=!1,Wi=[],Tr=null,Ar=null,Lr=null,ti=new Map,ri=new Map,Sr=[],zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ph(e,t){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":ti.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ri.delete(t.pointerId)}}function Es(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ji(t),t!==null&&ku(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function qw(e,t,r,n,s){switch(t){case"focusin":return Tr=Es(Tr,e,t,r,n,s),!0;case"dragenter":return Ar=Es(Ar,e,t,r,n,s),!0;case"mouseover":return Lr=Es(Lr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ti.set(i,Es(ti.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ri.set(i,Es(ri.get(i)||null,e,t,r,n,s)),!0}return!1}function fp(e){var t=an(e.target);if(t!==null){var r=jn(t);if(r!==null){if(t=r.tag,t===13){if(t=tp(r),t!==null){e.blockedOn=t,hp(e.priority,function(){up(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ac=n,r.target.dispatchEvent(n),ac=null}else return t=ji(r),t!==null&&ku(t),e.blockedOn=r,!1;t.shift()}return!0}function gh(e,t,r){va(e)&&r.delete(t)}function Hw(){dc=!1,Tr!==null&&va(Tr)&&(Tr=null),Ar!==null&&va(Ar)&&(Ar=null),Lr!==null&&va(Lr)&&(Lr=null),ti.forEach(gh),ri.forEach(gh)}function Cs(e,t){e.blockedOn===t&&(e.blockedOn=null,dc||(dc=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,Hw)))}function ni(e){function t(s){return Cs(s,e)}if(0<Wi.length){Cs(Wi[0],e);for(var r=1;r<Wi.length;r++){var n=Wi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Tr!==null&&Cs(Tr,e),Ar!==null&&Cs(Ar,e),Lr!==null&&Cs(Lr,e),ti.forEach(t),ri.forEach(t),r=0;r<Sr.length;r++)n=Sr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)fp(r),r.blockedOn===null&&Sr.shift()}var Jn=vr.ReactCurrentBatchConfig,Ma=!0;function Ww(e,t,r,n){var s=ue,i=Jn.transition;Jn.transition=null;try{ue=1,Eu(e,t,r,n)}finally{ue=s,Jn.transition=i}}function Vw(e,t,r,n){var s=ue,i=Jn.transition;Jn.transition=null;try{ue=4,Eu(e,t,r,n)}finally{ue=s,Jn.transition=i}}function Eu(e,t,r,n){if(Ma){var s=hc(e,t,r,n);if(s===null)_l(e,t,n,Da,r),ph(e,n);else if(qw(s,e,t,r,n))n.stopPropagation();else if(ph(e,n),t&4&&-1<zw.indexOf(e)){for(;s!==null;){var i=ji(s);if(i!==null&&cp(i),i=hc(e,t,r,n),i===null&&_l(e,t,n,Da,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else _l(e,t,n,null,r)}}var Da=null;function hc(e,t,r,n){if(Da=null,e=ju(n),e=an(e),e!==null)if(t=jn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Da=e,null}function mp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Aw()){case Su:return 1;case ip:return 4;case Ua:case Lw:return 16;case ap:return 536870912;default:return 16}default:return 16}}var Cr=null,Cu=null,ya=null;function pp(){if(ya)return ya;var e,t=Cu,r=t.length,n,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return ya=s.slice(e,1<n?1-n:void 0)}function xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function vh(){return!1}function Nt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vi:vh,this.isPropagationStopped=vh,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=Nt(ds),_i=Se({},ds,{view:0,detail:0}),Kw=Nt(_i),fl,ml,Os,So=Se({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Os&&(Os&&e.type==="mousemove"?(fl=e.screenX-Os.screenX,ml=e.screenY-Os.screenY):ml=fl=0,Os=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),yh=Nt(So),Qw=Se({},So,{dataTransfer:0}),Jw=Nt(Qw),Gw=Se({},_i,{relatedTarget:0}),pl=Nt(Gw),Xw=Se({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Yw=Nt(Xw),Zw=Se({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e1=Nt(Zw),t1=Se({},ds,{data:0}),xh=Nt(t1),r1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s1[e])?!!t[e]:!1}function Ru(){return i1}var a1=Se({},_i,{key:function(e){if(e.key){var t=r1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o1=Nt(a1),l1=Se({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wh=Nt(l1),c1=Se({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),u1=Nt(c1),d1=Se({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),h1=Nt(d1),f1=Se({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m1=Nt(f1),p1=[9,13,27,32],Pu=dr&&"CompositionEvent"in window,Bs=null;dr&&"documentMode"in document&&(Bs=document.documentMode);var g1=dr&&"TextEvent"in window&&!Bs,gp=dr&&(!Pu||Bs&&8<Bs&&11>=Bs),bh=" ",_h=!1;function vp(e,t){switch(e){case"keyup":return p1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function v1(e,t){switch(e){case"compositionend":return yp(t);case"keypress":return t.which!==32?null:(_h=!0,bh);case"textInput":return e=t.data,e===bh&&_h?null:e;default:return null}}function y1(e,t){if($n)return e==="compositionend"||!Pu&&vp(e,t)?(e=pp(),ya=Cu=Cr=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gp&&t.locale!=="ko"?null:t.data;default:return null}}var x1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x1[e.type]:t==="textarea"}function xp(e,t,r,n){Gm(n),t=Ba(t,"onChange"),0<t.length&&(r=new Ou("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zs=null,si=null;function w1(e){Rp(e,0)}function No(e){var t=Mn(e);if(qm(t))return e}function b1(e,t){if(e==="change")return t}var wp=!1;if(dr){var gl;if(dr){var vl="oninput"in document;if(!vl){var Sh=document.createElement("div");Sh.setAttribute("oninput","return;"),vl=typeof Sh.oninput=="function"}gl=vl}else gl=!1;wp=gl&&(!document.documentMode||9<document.documentMode)}function Nh(){zs&&(zs.detachEvent("onpropertychange",bp),si=zs=null)}function bp(e){if(e.propertyName==="value"&&No(si)){var t=[];xp(t,si,e,ju(e)),ep(w1,t)}}function _1(e,t,r){e==="focusin"?(Nh(),zs=t,si=r,zs.attachEvent("onpropertychange",bp)):e==="focusout"&&Nh()}function j1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return No(si)}function S1(e,t){if(e==="click")return No(t)}function N1(e,t){if(e==="input"||e==="change")return No(t)}function k1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:k1;function ii(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ql.call(t,s)||!qt(e[s],t[s]))return!1}return!0}function kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eh(e,t){var r=kh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kh(r)}}function _p(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_p(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jp(){for(var e=window,t=La();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=La(e.document)}return t}function Tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E1(e){var t=jp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_p(r.ownerDocument.documentElement,r)){if(n!==null&&Tu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Eh(r,i);var a=Eh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var C1=dr&&"documentMode"in document&&11>=document.documentMode,Un=null,fc=null,qs=null,mc=!1;function Ch(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mc||Un==null||Un!==La(n)||(n=Un,"selectionStart"in n&&Tu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qs&&ii(qs,n)||(qs=n,n=Ba(fc,"onSelect"),0<n.length&&(t=new Ou("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Un)))}function Ki(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fn={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionend:Ki("Transition","TransitionEnd")},yl={},Sp={};dr&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function ko(e){if(yl[e])return yl[e];if(!Fn[e])return e;var t=Fn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Sp)return yl[e]=t[r];return e}var Np=ko("animationend"),kp=ko("animationiteration"),Ep=ko("animationstart"),Cp=ko("transitionend"),Op=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){Op.set(e,t),_n(t,[e])}for(var xl=0;xl<Oh.length;xl++){var wl=Oh[xl],O1=wl.toLowerCase(),R1=wl[0].toUpperCase()+wl.slice(1);qr(O1,"on"+R1)}qr(Np,"onAnimationEnd");qr(kp,"onAnimationIteration");qr(Ep,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(Cp,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_n("onBeforeInput",["compositionend","keypress","textInput","paste"]);_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function Rh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ow(n,t,void 0,e),e.currentTarget=null}function Rp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Rh(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Rh(s,l,u),i=c}}}if($a)throw e=cc,$a=!1,cc=null,e}function me(e,t){var r=t[xc];r===void 0&&(r=t[xc]=new Set);var n=e+"__bubble";r.has(n)||(Pp(t,e,2,!1),r.add(n))}function bl(e,t,r){var n=0;t&&(n|=4),Pp(r,e,n,t)}var Qi="_reactListening"+Math.random().toString(36).slice(2);function ai(e){if(!e[Qi]){e[Qi]=!0,Fm.forEach(function(r){r!=="selectionchange"&&(P1.has(r)||bl(r,!1,e),bl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qi]||(t[Qi]=!0,bl("selectionchange",!1,t))}}function Pp(e,t,r,n){switch(mp(t)){case 1:var s=Ww;break;case 4:s=Vw;break;default:s=Eu}r=s.bind(null,t,r,e),s=void 0,!lc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function _l(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=an(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}ep(function(){var u=i,h=ju(r),m=[];e:{var p=Op.get(e);if(p!==void 0){var v=Ou,b=e;switch(e){case"keypress":if(xa(r)===0)break e;case"keydown":case"keyup":v=o1;break;case"focusin":b="focus",v=pl;break;case"focusout":b="blur",v=pl;break;case"beforeblur":case"afterblur":v=pl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=u1;break;case Np:case kp:case Ep:v=Yw;break;case Cp:v=h1;break;case"scroll":v=Kw;break;case"wheel":v=m1;break;case"copy":case"cut":case"paste":v=e1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=wh}var j=(t&4)!==0,_=!j&&e==="scroll",f=j?p!==null?p+"Capture":null:p;j=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,f!==null&&(S=ei(y,f),S!=null&&j.push(oi(y,S,w)))),_)break;y=y.return}0<j.length&&(p=new v(p,b,null,r,h),m.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==ac&&(b=r.relatedTarget||r.fromElement)&&(an(b)||b[hr]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(b=r.relatedTarget||r.toElement,v=u,b=b?an(b):null,b!==null&&(_=jn(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(j=yh,S="onMouseLeave",f="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(j=wh,S="onPointerLeave",f="onPointerEnter",y="pointer"),_=v==null?p:Mn(v),w=b==null?p:Mn(b),p=new j(S,y+"leave",v,r,h),p.target=_,p.relatedTarget=w,S=null,an(h)===u&&(j=new j(f,y+"enter",b,r,h),j.target=w,j.relatedTarget=_,S=j),_=S,v&&b)t:{for(j=v,f=b,y=0,w=j;w;w=kn(w))y++;for(w=0,S=f;S;S=kn(S))w++;for(;0<y-w;)j=kn(j),y--;for(;0<w-y;)f=kn(f),w--;for(;y--;){if(j===f||f!==null&&j===f.alternate)break t;j=kn(j),f=kn(f)}j=null}else j=null;v!==null&&Ph(m,p,v,j,!1),b!==null&&_!==null&&Ph(m,_,b,j,!0)}}e:{if(p=u?Mn(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var E=b1;else if(jh(p))if(wp)E=N1;else{E=j1;var R=_1}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=S1);if(E&&(E=E(e,u))){xp(m,E,r,h);break e}R&&R(e,p,u),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&tc(p,"number",p.value)}switch(R=u?Mn(u):window,e){case"focusin":(jh(R)||R.contentEditable==="true")&&(Un=R,fc=u,qs=null);break;case"focusout":qs=fc=Un=null;break;case"mousedown":mc=!0;break;case"contextmenu":case"mouseup":case"dragend":mc=!1,Ch(m,r,h);break;case"selectionchange":if(C1)break;case"keydown":case"keyup":Ch(m,r,h)}var P;if(Pu)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else $n?vp(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(gp&&r.locale!=="ko"&&($n||C!=="onCompositionStart"?C==="onCompositionEnd"&&$n&&(P=pp()):(Cr=h,Cu="value"in Cr?Cr.value:Cr.textContent,$n=!0)),R=Ba(u,C),0<R.length&&(C=new xh(C,e,null,r,h),m.push({event:C,listeners:R}),P?C.data=P:(P=yp(r),P!==null&&(C.data=P)))),(P=g1?v1(e,r):y1(e,r))&&(u=Ba(u,"onBeforeInput"),0<u.length&&(h=new xh("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:u}),h.data=P))}Rp(m,t)})}function oi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ba(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ei(e,r),i!=null&&n.unshift(oi(e,i,s)),i=ei(e,t),i!=null&&n.push(oi(e,i,s))),e=e.return}return n}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ph(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ei(r,i),c!=null&&a.unshift(oi(r,c,l))):s||(c=ei(r,i),c!=null&&a.push(oi(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var T1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function Th(e){return(typeof e=="string"?e:""+e).replace(T1,`
`).replace(A1,"")}function Ji(e,t,r){if(t=Th(t),Th(e)!==t&&r)throw Error($(425))}function za(){}var pc=null,gc=null;function vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,Ah=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ah<"u"?function(e){return Ah.resolve(null).then(e).catch($1)}:yc;function $1(e){setTimeout(function(){throw e})}function jl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ni(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ni(t)}function Ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Jt="__reactFiber$"+hs,li="__reactProps$"+hs,hr="__reactContainer$"+hs,xc="__reactEvents$"+hs,U1="__reactListeners$"+hs,F1="__reactHandles$"+hs;function an(e){var t=e[Jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hr]||r[Jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Lh(e);e!==null;){if(r=e[Jt])return r;e=Lh(e)}return t}e=r,r=e.parentNode}return null}function ji(e){return e=e[Jt]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Eo(e){return e[li]||null}var wc=[],Dn=-1;function Hr(e){return{current:e}}function pe(e){0>Dn||(e.current=wc[Dn],wc[Dn]=null,Dn--)}function he(e,t){Dn++,wc[Dn]=e.current,e.current=t}var zr={},Ye=Hr(zr),lt=Hr(!1),gn=zr;function es(e,t){var r=e.type.contextTypes;if(!r)return zr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ct(e){return e=e.childContextTypes,e!=null}function qa(){pe(lt),pe(Ye)}function Ih(e,t,r){if(Ye.current!==zr)throw Error($(168));he(Ye,t),he(lt,r)}function Tp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error($(108,_w(e)||"Unknown",s));return Se({},r,n)}function Ha(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,gn=Ye.current,he(Ye,e),he(lt,lt.current),!0}function $h(e,t,r){var n=e.stateNode;if(!n)throw Error($(169));r?(e=Tp(e,t,gn),n.__reactInternalMemoizedMergedChildContext=e,pe(lt),pe(Ye),he(Ye,e)):pe(lt),he(lt,r)}var ar=null,Co=!1,Sl=!1;function Ap(e){ar===null?ar=[e]:ar.push(e)}function M1(e){Co=!0,Ap(e)}function Wr(){if(!Sl&&ar!==null){Sl=!0;var e=0,t=ue;try{var r=ar;for(ue=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ar=null,Co=!1}catch(s){throw ar!==null&&(ar=ar.slice(e+1)),sp(Su,Wr),s}finally{ue=t,Sl=!1}}return null}var Bn=[],zn=0,Wa=null,Va=0,kt=[],Et=0,vn=null,or=1,lr="";function en(e,t){Bn[zn++]=Va,Bn[zn++]=Wa,Wa=e,Va=t}function Lp(e,t,r){kt[Et++]=or,kt[Et++]=lr,kt[Et++]=vn,vn=e;var n=or;e=lr;var s=32-Bt(n)-1;n&=~(1<<s),r+=1;var i=32-Bt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,or=1<<32-Bt(t)+s|r<<s|n,lr=i+e}else or=1<<i|r<<s|n,lr=e}function Au(e){e.return!==null&&(en(e,1),Lp(e,1,0))}function Lu(e){for(;e===Wa;)Wa=Bn[--zn],Bn[zn]=null,Va=Bn[--zn],Bn[zn]=null;for(;e===vn;)vn=kt[--Et],kt[Et]=null,lr=kt[--Et],kt[Et]=null,or=kt[--Et],kt[Et]=null}var xt=null,vt=null,ve=!1,Dt=null;function Ip(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,vt=Ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vn!==null?{id:or,overflow:lr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xt=e,vt=null,!0):!1;default:return!1}}function bc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _c(e){if(ve){var t=vt;if(t){var r=t;if(!Uh(e,t)){if(bc(e))throw Error($(418));t=Ir(r.nextSibling);var n=xt;t&&Uh(e,t)?Ip(n,r):(e.flags=e.flags&-4097|2,ve=!1,xt=e)}}else{if(bc(e))throw Error($(418));e.flags=e.flags&-4097|2,ve=!1,xt=e}}}function Fh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Gi(e){if(e!==xt)return!1;if(!ve)return Fh(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vc(e.type,e.memoizedProps)),t&&(t=vt)){if(bc(e))throw $p(),Error($(418));for(;t;)Ip(e,t),t=Ir(t.nextSibling)}if(Fh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=Ir(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=xt?Ir(e.stateNode.nextSibling):null;return!0}function $p(){for(var e=vt;e;)e=Ir(e.nextSibling)}function ts(){vt=xt=null,ve=!1}function Iu(e){Dt===null?Dt=[e]:Dt.push(e)}var D1=vr.ReactCurrentBatchConfig;function Rs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function Xi(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mh(e){var t=e._init;return t(e._payload)}function Up(e){function t(f,y){if(e){var w=f.deletions;w===null?(f.deletions=[y],f.flags|=16):w.push(y)}}function r(f,y){if(!e)return null;for(;y!==null;)t(f,y),y=y.sibling;return null}function n(f,y){for(f=new Map;y!==null;)y.key!==null?f.set(y.key,y):f.set(y.index,y),y=y.sibling;return f}function s(f,y){return f=Mr(f,y),f.index=0,f.sibling=null,f}function i(f,y,w){return f.index=w,e?(w=f.alternate,w!==null?(w=w.index,w<y?(f.flags|=2,y):w):(f.flags|=2,y)):(f.flags|=1048576,y)}function a(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,y,w,S){return y===null||y.tag!==6?(y=Pl(w,f.mode,S),y.return=f,y):(y=s(y,w),y.return=f,y)}function c(f,y,w,S){var E=w.type;return E===In?h(f,y,w.props.children,S,w.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===br&&Mh(E)===y.type)?(S=s(y,w.props),S.ref=Rs(f,y,w),S.return=f,S):(S=ka(w.type,w.key,w.props,null,f.mode,S),S.ref=Rs(f,y,w),S.return=f,S)}function u(f,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Tl(w,f.mode,S),y.return=f,y):(y=s(y,w.children||[]),y.return=f,y)}function h(f,y,w,S,E){return y===null||y.tag!==7?(y=fn(w,f.mode,S,E),y.return=f,y):(y=s(y,w),y.return=f,y)}function m(f,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Pl(""+y,f.mode,w),y.return=f,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Di:return w=ka(y.type,y.key,y.props,null,f.mode,w),w.ref=Rs(f,null,y),w.return=f,w;case Ln:return y=Tl(y,f.mode,w),y.return=f,y;case br:var S=y._init;return m(f,S(y._payload),w)}if(Is(y)||Ns(y))return y=fn(y,f.mode,w,null),y.return=f,y;Xi(f,y)}return null}function p(f,y,w,S){var E=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:l(f,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Di:return w.key===E?c(f,y,w,S):null;case Ln:return w.key===E?u(f,y,w,S):null;case br:return E=w._init,p(f,y,E(w._payload),S)}if(Is(w)||Ns(w))return E!==null?null:h(f,y,w,S,null);Xi(f,w)}return null}function v(f,y,w,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(w)||null,l(y,f,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Di:return f=f.get(S.key===null?w:S.key)||null,c(y,f,S,E);case Ln:return f=f.get(S.key===null?w:S.key)||null,u(y,f,S,E);case br:var R=S._init;return v(f,y,w,R(S._payload),E)}if(Is(S)||Ns(S))return f=f.get(w)||null,h(y,f,S,E,null);Xi(y,S)}return null}function b(f,y,w,S){for(var E=null,R=null,P=y,C=y=0,I=null;P!==null&&C<w.length;C++){P.index>C?(I=P,P=null):I=P.sibling;var T=p(f,P,w[C],S);if(T===null){P===null&&(P=I);break}e&&P&&T.alternate===null&&t(f,P),y=i(T,y,C),R===null?E=T:R.sibling=T,R=T,P=I}if(C===w.length)return r(f,P),ve&&en(f,C),E;if(P===null){for(;C<w.length;C++)P=m(f,w[C],S),P!==null&&(y=i(P,y,C),R===null?E=P:R.sibling=P,R=P);return ve&&en(f,C),E}for(P=n(f,P);C<w.length;C++)I=v(P,f,C,w[C],S),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?C:I.key),y=i(I,y,C),R===null?E=I:R.sibling=I,R=I);return e&&P.forEach(function(U){return t(f,U)}),ve&&en(f,C),E}function j(f,y,w,S){var E=Ns(w);if(typeof E!="function")throw Error($(150));if(w=E.call(w),w==null)throw Error($(151));for(var R=E=null,P=y,C=y=0,I=null,T=w.next();P!==null&&!T.done;C++,T=w.next()){P.index>C?(I=P,P=null):I=P.sibling;var U=p(f,P,T.value,S);if(U===null){P===null&&(P=I);break}e&&P&&U.alternate===null&&t(f,P),y=i(U,y,C),R===null?E=U:R.sibling=U,R=U,P=I}if(T.done)return r(f,P),ve&&en(f,C),E;if(P===null){for(;!T.done;C++,T=w.next())T=m(f,T.value,S),T!==null&&(y=i(T,y,C),R===null?E=T:R.sibling=T,R=T);return ve&&en(f,C),E}for(P=n(f,P);!T.done;C++,T=w.next())T=v(P,f,C,T.value,S),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?C:T.key),y=i(T,y,C),R===null?E=T:R.sibling=T,R=T);return e&&P.forEach(function(D){return t(f,D)}),ve&&en(f,C),E}function _(f,y,w,S){if(typeof w=="object"&&w!==null&&w.type===In&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Di:e:{for(var E=w.key,R=y;R!==null;){if(R.key===E){if(E=w.type,E===In){if(R.tag===7){r(f,R.sibling),y=s(R,w.props.children),y.return=f,f=y;break e}}else if(R.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===br&&Mh(E)===R.type){r(f,R.sibling),y=s(R,w.props),y.ref=Rs(f,R,w),y.return=f,f=y;break e}r(f,R);break}else t(f,R);R=R.sibling}w.type===In?(y=fn(w.props.children,f.mode,S,w.key),y.return=f,f=y):(S=ka(w.type,w.key,w.props,null,f.mode,S),S.ref=Rs(f,y,w),S.return=f,f=S)}return a(f);case Ln:e:{for(R=w.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(f,y.sibling),y=s(y,w.children||[]),y.return=f,f=y;break e}else{r(f,y);break}else t(f,y);y=y.sibling}y=Tl(w,f.mode,S),y.return=f,f=y}return a(f);case br:return R=w._init,_(f,y,R(w._payload),S)}if(Is(w))return b(f,y,w,S);if(Ns(w))return j(f,y,w,S);Xi(f,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(f,y.sibling),y=s(y,w),y.return=f,f=y):(r(f,y),y=Pl(w,f.mode,S),y.return=f,f=y),a(f)):r(f,y)}return _}var rs=Up(!0),Fp=Up(!1),Ka=Hr(null),Qa=null,qn=null,$u=null;function Uu(){$u=qn=Qa=null}function Fu(e){var t=Ka.current;pe(Ka),e._currentValue=t}function jc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gn(e,t){Qa=e,$u=qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if($u!==e)if(e={context:e,memoizedValue:t,next:null},qn===null){if(Qa===null)throw Error($(308));qn=e,Qa.dependencies={lanes:0,firstContext:e}}else qn=qn.next=e;return t}var on=null;function Mu(e){on===null?on=[e]:on.push(e)}function Mp(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Mu(t)):(r.next=s.next,s.next=r),t.interleaved=r,fr(e,n)}function fr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _r=!1;function Du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $r(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,fr(e,r)}return s=n.interleaved,s===null?(t.next=t,Mu(n)):(t.next=s.next,s.next=t),n.interleaved=t,fr(e,r)}function wa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nu(e,r)}}function Dh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ja(e,t,r,n){var s=e.updateQueue;_r=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;a=0,h=u=c=null,l=i;do{var p=l.lane,v=l.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,j=l;switch(p=t,v=r,j.tag){case 1:if(b=j.payload,typeof b=="function"){m=b.call(v,m,p);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=j.payload,p=typeof b=="function"?b.call(v,m,p):b,p==null)break e;m=Se({},m,p);break e;case 2:_r=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=m):h=h.next=v,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);xn|=a,e.lanes=a,e.memoizedState=m}}function Bh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error($(191,s));s.call(n)}}}var Si={},Yt=Hr(Si),ci=Hr(Si),ui=Hr(Si);function ln(e){if(e===Si)throw Error($(174));return e}function Bu(e,t){switch(he(ui,t),he(ci,e),he(Yt,Si),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nc(t,e)}pe(Yt),he(Yt,t)}function ns(){pe(Yt),pe(ci),pe(ui)}function Bp(e){ln(ui.current);var t=ln(Yt.current),r=nc(t,e.type);t!==r&&(he(ci,e),he(Yt,r))}function zu(e){ci.current===e&&(pe(Yt),pe(ci))}var be=Hr(0);function Ga(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nl=[];function qu(){for(var e=0;e<Nl.length;e++)Nl[e]._workInProgressVersionPrimary=null;Nl.length=0}var ba=vr.ReactCurrentDispatcher,kl=vr.ReactCurrentBatchConfig,yn=0,je=null,$e=null,Me=null,Xa=!1,Hs=!1,di=0,B1=0;function Ke(){throw Error($(321))}function Hu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qt(e[r],t[r]))return!1;return!0}function Wu(e,t,r,n,s,i){if(yn=i,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ba.current=e===null||e.memoizedState===null?W1:V1,e=r(n,s),Hs){i=0;do{if(Hs=!1,di=0,25<=i)throw Error($(301));i+=1,Me=$e=null,t.updateQueue=null,ba.current=K1,e=r(n,s)}while(Hs)}if(ba.current=Ya,t=$e!==null&&$e.next!==null,yn=0,Me=$e=je=null,Xa=!1,t)throw Error($(300));return e}function Vu(){var e=di!==0;return di=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?je.memoizedState=Me=e:Me=Me.next=e,Me}function Pt(){if($e===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Me===null?je.memoizedState:Me.next;if(t!==null)Me=t,$e=e;else{if(e===null)throw Error($(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Me===null?je.memoizedState=Me=e:Me=Me.next=e}return Me}function hi(e,t){return typeof t=="function"?t(e):t}function El(e){var t=Pt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=$e,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((yn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,a=n):c=c.next=m,je.lanes|=h,xn|=h}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,qt(n,t.memoizedState)||(ot=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,je.lanes|=i,xn|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cl(e){var t=Pt(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);qt(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function zp(){}function qp(e,t){var r=je,n=Pt(),s=t(),i=!qt(n.memoizedState,s);if(i&&(n.memoizedState=s,ot=!0),n=n.queue,Ku(Vp.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,fi(9,Wp.bind(null,r,n,s,t),void 0,null),De===null)throw Error($(349));yn&30||Hp(r,t,s)}return s}function Hp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Wp(e,t,r,n){t.value=r,t.getSnapshot=n,Kp(t)&&Qp(e)}function Vp(e,t,r){return r(function(){Kp(t)&&Qp(e)})}function Kp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qt(e,r)}catch{return!0}}function Qp(e){var t=fr(e,1);t!==null&&zt(t,e,1,-1)}function zh(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t.queue=e,e=e.dispatch=H1.bind(null,je,e),[t.memoizedState,e]}function fi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Jp(){return Pt().memoizedState}function _a(e,t,r,n){var s=Qt();je.flags|=e,s.memoizedState=fi(1|t,r,void 0,n===void 0?null:n)}function Oo(e,t,r,n){var s=Pt();n=n===void 0?null:n;var i=void 0;if($e!==null){var a=$e.memoizedState;if(i=a.destroy,n!==null&&Hu(n,a.deps)){s.memoizedState=fi(t,r,i,n);return}}je.flags|=e,s.memoizedState=fi(1|t,r,i,n)}function qh(e,t){return _a(8390656,8,e,t)}function Ku(e,t){return Oo(2048,8,e,t)}function Gp(e,t){return Oo(4,2,e,t)}function Xp(e,t){return Oo(4,4,e,t)}function Yp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zp(e,t,r){return r=r!=null?r.concat([e]):null,Oo(4,4,Yp.bind(null,t,e),r)}function Qu(){}function e0(e,t){var r=Pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t0(e,t){var r=Pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r0(e,t,r){return yn&21?(qt(r,t)||(r=op(),je.lanes|=r,xn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=r)}function z1(e,t){var r=ue;ue=r!==0&&4>r?r:4,e(!0);var n=kl.transition;kl.transition={};try{e(!1),t()}finally{ue=r,kl.transition=n}}function n0(){return Pt().memoizedState}function q1(e,t,r){var n=Fr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s0(e))i0(t,r);else if(r=Mp(e,t,r,n),r!==null){var s=rt();zt(r,e,n,s),a0(r,t,n)}}function H1(e,t,r){var n=Fr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s0(e))i0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,qt(l,a)){var c=t.interleaved;c===null?(s.next=s,Mu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Mp(e,t,s,n),r!==null&&(s=rt(),zt(r,e,n,s),a0(r,t,n))}}function s0(e){var t=e.alternate;return e===je||t!==null&&t===je}function i0(e,t){Hs=Xa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function a0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nu(e,r)}}var Ya={readContext:Rt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},W1={readContext:Rt,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:qh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,_a(4194308,4,Yp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _a(4194308,4,e,t)},useInsertionEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var r=Qt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=q1.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:zh,useDebugValue:Qu,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=zh(!1),t=e[0];return e=z1.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=je,s=Qt();if(ve){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),De===null)throw Error($(349));yn&30||Hp(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,qh(Vp.bind(null,n,i,e),[e]),n.flags|=2048,fi(9,Wp.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Qt(),t=De.identifierPrefix;if(ve){var r=lr,n=or;r=(n&~(1<<32-Bt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=di++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=B1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},V1={readContext:Rt,useCallback:e0,useContext:Rt,useEffect:Ku,useImperativeHandle:Zp,useInsertionEffect:Gp,useLayoutEffect:Xp,useMemo:t0,useReducer:El,useRef:Jp,useState:function(){return El(hi)},useDebugValue:Qu,useDeferredValue:function(e){var t=Pt();return r0(t,$e.memoizedState,e)},useTransition:function(){var e=El(hi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:zp,useSyncExternalStore:qp,useId:n0,unstable_isNewReconciler:!1},K1={readContext:Rt,useCallback:e0,useContext:Rt,useEffect:Ku,useImperativeHandle:Zp,useInsertionEffect:Gp,useLayoutEffect:Xp,useMemo:t0,useReducer:Cl,useRef:Jp,useState:function(){return Cl(hi)},useDebugValue:Qu,useDeferredValue:function(e){var t=Pt();return $e===null?t.memoizedState=e:r0(t,$e.memoizedState,e)},useTransition:function(){var e=Cl(hi)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:zp,useSyncExternalStore:qp,useId:n0,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ro={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rt(),s=Fr(e),i=ur(n,s);i.payload=t,r!=null&&(i.callback=r),t=$r(e,i,s),t!==null&&(zt(t,e,s,n),wa(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rt(),s=Fr(e),i=ur(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=$r(e,i,s),t!==null&&(zt(t,e,s,n),wa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),n=Fr(e),s=ur(r,n);s.tag=2,t!=null&&(s.callback=t),t=$r(e,s,n),t!==null&&(zt(t,e,n,r),wa(t,e,n))}};function Hh(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!ii(r,n)||!ii(s,i):!0}function o0(e,t,r){var n=!1,s=zr,i=t.contextType;return typeof i=="object"&&i!==null?i=Rt(i):(s=ct(t)?gn:Ye.current,n=t.contextTypes,i=(n=n!=null)?es(e,s):zr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ro,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function Nc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Du(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Rt(i):(i=ct(t)?gn:Ye.current,s.context=es(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Sc(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ro.enqueueReplaceState(s,s.state,null),Ja(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ss(e,t){try{var r="",n=t;do r+=bw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ol(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function kc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Q1=typeof WeakMap=="function"?WeakMap:Map;function l0(e,t,r){r=ur(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){eo||(eo=!0,$c=n),kc(e,t)},r}function c0(e,t,r){r=ur(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){kc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){kc(e,t),typeof n!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Vh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Q1;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=lb.bind(null,e,t,r),t.then(e,e))}function Kh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qh(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ur(-1,1),t.tag=2,$r(r,t,1))),r.lanes|=1),e)}var J1=vr.ReactCurrentOwner,ot=!1;function et(e,t,r,n){t.child=e===null?Fp(t,null,r,n):rs(t,e.child,r,n)}function Jh(e,t,r,n,s){r=r.render;var i=t.ref;return Gn(t,s),n=Wu(e,t,r,n,i,s),r=Vu(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mr(e,t,s)):(ve&&r&&Au(t),t.flags|=1,et(e,t,n,s),t.child)}function Gh(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!rd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,u0(e,t,i,n,s)):(e=ka(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ii,r(a,n)&&e.ref===t.ref)return mr(e,t,s)}return t.flags|=1,e=Mr(i,n),e.ref=t.ref,e.return=t,t.child=e}function u0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ii(i,n)&&e.ref===t.ref)if(ot=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,mr(e,t,s)}return Ec(e,t,r,n,s)}function d0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Wn,mt),mt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Wn,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,he(Wn,mt),mt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,he(Wn,mt),mt|=n;return et(e,t,s,r),t.child}function h0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ec(e,t,r,n,s){var i=ct(r)?gn:Ye.current;return i=es(t,i),Gn(t,s),r=Wu(e,t,r,n,i,s),n=Vu(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mr(e,t,s)):(ve&&n&&Au(t),t.flags|=1,et(e,t,r,s),t.child)}function Xh(e,t,r,n,s){if(ct(r)){var i=!0;Ha(t)}else i=!1;if(Gn(t,s),t.stateNode===null)ja(e,t),o0(t,r,n),Nc(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=ct(r)?gn:Ye.current,u=es(t,u));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Wh(t,a,n,u),_r=!1;var p=t.memoizedState;a.state=p,Ja(t,n,a,s),c=t.memoizedState,l!==n||p!==c||lt.current||_r?(typeof h=="function"&&(Sc(t,r,h,n),c=t.memoizedState),(l=_r||Hh(t,r,l,n,p,c,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Dp(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$t(t.type,l),a.props=u,m=t.pendingProps,p=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Rt(c):(c=ct(r)?gn:Ye.current,c=es(t,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||p!==c)&&Wh(t,a,n,c),_r=!1,p=t.memoizedState,a.state=p,Ja(t,n,a,s);var b=t.memoizedState;l!==m||p!==b||lt.current||_r?(typeof v=="function"&&(Sc(t,r,v,n),b=t.memoizedState),(u=_r||Hh(t,r,u,n,p,b,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),a.props=n,a.state=b,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Cc(e,t,r,n,i,s)}function Cc(e,t,r,n,s,i){h0(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&$h(t,r,!1),mr(e,t,i);n=t.stateNode,J1.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,l,i)):et(e,t,l,i),t.memoizedState=n.state,s&&$h(t,r,!0),t.child}function f0(e){var t=e.stateNode;t.pendingContext?Ih(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ih(e,t.context,!1),Bu(e,t.containerInfo)}function Yh(e,t,r,n,s){return ts(),Iu(s),t.flags|=256,et(e,t,r,n),t.child}var Oc={dehydrated:null,treeContext:null,retryLane:0};function Rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function m0(e,t,r){var n=t.pendingProps,s=be.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),he(be,s&1),e===null)return _c(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ao(a,n,0,null),e=fn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Rc(r),t.memoizedState=Oc,e):Ju(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return G1(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Mr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Mr(l,i):(i=fn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Rc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Oc,n}return i=e.child,e=i.sibling,n=Mr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ju(e,t){return t=Ao({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yi(e,t,r,n){return n!==null&&Iu(n),rs(t,e.child,null,r),e=Ju(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function G1(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Ol(Error($(422))),Yi(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ao({mode:"visible",children:n.children},s,0,null),i=fn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&rs(t,e.child,null,a),t.child.memoizedState=Rc(a),t.memoizedState=Oc,i);if(!(t.mode&1))return Yi(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error($(419)),n=Ol(i,n,void 0),Yi(e,t,a,n)}if(l=(a&e.childLanes)!==0,ot||l){if(n=De,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fr(e,s),zt(n,e,s,-1))}return td(),n=Ol(Error($(421))),Yi(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vt=Ir(s.nextSibling),xt=t,ve=!0,Dt=null,e!==null&&(kt[Et++]=or,kt[Et++]=lr,kt[Et++]=vn,or=e.id,lr=e.overflow,vn=t),t=Ju(t,n.children),t.flags|=4096,t)}function Zh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jc(e.return,t,r)}function Rl(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function p0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(et(e,t,n.children,r),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zh(e,r,t);else if(e.tag===19)Zh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(he(be,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ga(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Rl(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ga(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Rl(t,!0,r,null,i);break;case"together":Rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=Mr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function X1(e,t,r){switch(t.tag){case 3:f0(t),ts();break;case 5:Bp(t);break;case 1:ct(t.type)&&Ha(t);break;case 4:Bu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;he(Ka,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(he(be,be.current&1),t.flags|=128,null):r&t.child.childLanes?m0(e,t,r):(he(be,be.current&1),e=mr(e,t,r),e!==null?e.sibling:null);he(be,be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return p0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,d0(e,t,r)}return mr(e,t,r)}var g0,Pc,v0,y0;g0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Pc=function(){};v0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ln(Yt.current);var i=null;switch(r){case"input":s=Zl(e,s),n=Zl(e,n),i=[];break;case"select":s=Se({},s,{value:void 0}),n=Se({},n,{value:void 0}),i=[];break;case"textarea":s=rc(e,s),n=rc(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=za)}sc(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ys.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ys.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&me("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};y0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ps(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Y1(e,t,r){var n=t.pendingProps;switch(Lu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return ct(t.type)&&qa(),Qe(t),null;case 3:return n=t.stateNode,ns(),pe(lt),pe(Ye),qu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(Mc(Dt),Dt=null))),Pc(e,t),Qe(t),null;case 5:zu(t);var s=ln(ui.current);if(r=t.type,e!==null&&t.stateNode!=null)v0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($(166));return Qe(t),null}if(e=ln(Yt.current),Gi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Jt]=t,n[li]=i,e=(t.mode&1)!==0,r){case"dialog":me("cancel",n),me("close",n);break;case"iframe":case"object":case"embed":me("load",n);break;case"video":case"audio":for(s=0;s<Us.length;s++)me(Us[s],n);break;case"source":me("error",n);break;case"img":case"image":case"link":me("error",n),me("load",n);break;case"details":me("toggle",n);break;case"input":lh(n,i),me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},me("invalid",n);break;case"textarea":uh(n,i),me("invalid",n)}sc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ji(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ji(n.textContent,l,e),s=["children",""+l]):Ys.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&me("scroll",n)}switch(r){case"input":Bi(n),ch(n,i,!0);break;case"textarea":Bi(n),dh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=za)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Jt]=t,e[li]=n,g0(e,t,!1,!1),t.stateNode=e;e:{switch(a=ic(r,n),r){case"dialog":me("cancel",e),me("close",e),s=n;break;case"iframe":case"object":case"embed":me("load",e),s=n;break;case"video":case"audio":for(s=0;s<Us.length;s++)me(Us[s],e);s=n;break;case"source":me("error",e),s=n;break;case"img":case"image":case"link":me("error",e),me("load",e),s=n;break;case"details":me("toggle",e),s=n;break;case"input":lh(e,n),s=Zl(e,n),me("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Se({},n,{value:void 0}),me("invalid",e);break;case"textarea":uh(e,n),s=rc(e,n),me("invalid",e);break;default:s=n}sc(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Jm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Km(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Zs(e,c):typeof c=="number"&&Zs(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ys.hasOwnProperty(i)?c!=null&&i==="onScroll"&&me("scroll",e):c!=null&&xu(e,i,c,a))}switch(r){case"input":Bi(e),ch(e,n,!1);break;case"textarea":Bi(e),dh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Br(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Vn(e,!!n.multiple,i,!1):n.defaultValue!=null&&Vn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=za)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)y0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($(166));if(r=ln(ui.current),ln(Yt.current),Gi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jt]=t,(i=n.nodeValue!==r)&&(e=xt,e!==null))switch(e.tag){case 3:Ji(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ji(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jt]=t,t.stateNode=n}return Qe(t),null;case 13:if(pe(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&vt!==null&&t.mode&1&&!(t.flags&128))$p(),ts(),t.flags|=98560,i=!1;else if(i=Gi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Jt]=t}else ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),i=!1}else Dt!==null&&(Mc(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Fe===0&&(Fe=3):td())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return ns(),Pc(e,t),e===null&&ai(t.stateNode.containerInfo),Qe(t),null;case 10:return Fu(t.type._context),Qe(t),null;case 17:return ct(t.type)&&qa(),Qe(t),null;case 19:if(pe(be),i=t.memoizedState,i===null)return Qe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ps(i,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ga(e),a!==null){for(t.flags|=128,Ps(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return he(be,be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ce()>is&&(t.flags|=128,n=!0,Ps(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ga(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ps(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ve)return Qe(t),null}else 2*Ce()-i.renderingStartTime>is&&r!==1073741824&&(t.flags|=128,n=!0,Ps(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ce(),t.sibling=null,r=be.current,he(be,n?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return ed(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Z1(e,t){switch(Lu(t),t.tag){case 1:return ct(t.type)&&qa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ns(),pe(lt),pe(Ye),qu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zu(t),null;case 13:if(pe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(be),null;case 4:return ns(),null;case 10:return Fu(t.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var Zi=!1,Ge=!1,eb=typeof WeakSet=="function"?WeakSet:Set,B=null;function Hn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ee(e,t,n)}else r.current=null}function Tc(e,t,r){try{r()}catch(n){Ee(e,t,n)}}var ef=!1;function tb(e,t){if(pc=Ma,e=jp(),Tu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,m=e,p=null;t:for(;;){for(var v;m!==r||s!==0&&m.nodeType!==3||(l=a+s),m!==i||n!==0&&m.nodeType!==3||(c=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===e)break t;if(p===r&&++u===s&&(l=a),p===i&&++h===n&&(c=a),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(gc={focusedElem:e,selectionRange:r},Ma=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var j=b.memoizedProps,_=b.memoizedState,f=t.stateNode,y=f.getSnapshotBeforeUpdate(t.elementType===t.type?j:$t(t.type,j),_);f.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(S){Ee(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return b=ef,ef=!1,b}function Ws(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Tc(t,r,i)}s=s.next}while(s!==n)}}function Po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ac(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function x0(e){var t=e.alternate;t!==null&&(e.alternate=null,x0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[li],delete t[xc],delete t[U1],delete t[F1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w0(e){return e.tag===5||e.tag===3||e.tag===4}function tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=za));else if(n!==4&&(e=e.child,e!==null))for(Lc(e,t,r),e=e.sibling;e!==null;)Lc(e,t,r),e=e.sibling}function Ic(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ic(e,t,r),e=e.sibling;e!==null;)Ic(e,t,r),e=e.sibling}var ze=null,Ft=!1;function xr(e,t,r){for(r=r.child;r!==null;)b0(e,t,r),r=r.sibling}function b0(e,t,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(jo,r)}catch{}switch(r.tag){case 5:Ge||Hn(r,t);case 6:var n=ze,s=Ft;ze=null,xr(e,t,r),ze=n,Ft=s,ze!==null&&(Ft?(e=ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ze.removeChild(r.stateNode));break;case 18:ze!==null&&(Ft?(e=ze,r=r.stateNode,e.nodeType===8?jl(e.parentNode,r):e.nodeType===1&&jl(e,r),ni(e)):jl(ze,r.stateNode));break;case 4:n=ze,s=Ft,ze=r.stateNode.containerInfo,Ft=!0,xr(e,t,r),ze=n,Ft=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Tc(r,t,a),s=s.next}while(s!==n)}xr(e,t,r);break;case 1:if(!Ge&&(Hn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ee(r,t,l)}xr(e,t,r);break;case 21:xr(e,t,r);break;case 22:r.mode&1?(Ge=(n=Ge)||r.memoizedState!==null,xr(e,t,r),Ge=n):xr(e,t,r);break;default:xr(e,t,r)}}function rf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eb),t.forEach(function(n){var s=ub.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function At(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,Ft=!1;break e;case 3:ze=l.stateNode.containerInfo,Ft=!0;break e;case 4:ze=l.stateNode.containerInfo,Ft=!0;break e}l=l.return}if(ze===null)throw Error($(160));b0(i,a,s),ze=null,Ft=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ee(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_0(t,e),t=t.sibling}function _0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Vt(e),n&4){try{Ws(3,e,e.return),Po(3,e)}catch(j){Ee(e,e.return,j)}try{Ws(5,e,e.return)}catch(j){Ee(e,e.return,j)}}break;case 1:At(t,e),Vt(e),n&512&&r!==null&&Hn(r,r.return);break;case 5:if(At(t,e),Vt(e),n&512&&r!==null&&Hn(r,r.return),e.flags&32){var s=e.stateNode;try{Zs(s,"")}catch(j){Ee(e,e.return,j)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Hm(s,i),ic(l,a);var u=ic(l,i);for(a=0;a<c.length;a+=2){var h=c[a],m=c[a+1];h==="style"?Jm(s,m):h==="dangerouslySetInnerHTML"?Km(s,m):h==="children"?Zs(s,m):xu(s,h,m,u)}switch(l){case"input":ec(s,i);break;case"textarea":Wm(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Vn(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Vn(s,!!i.multiple,i.defaultValue,!0):Vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[li]=i}catch(j){Ee(e,e.return,j)}}break;case 6:if(At(t,e),Vt(e),n&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(j){Ee(e,e.return,j)}}break;case 3:if(At(t,e),Vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(j){Ee(e,e.return,j)}break;case 4:At(t,e),Vt(e);break;case 13:At(t,e),Vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yu=Ce())),n&4&&rf(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Ge=(u=Ge)||h,At(t,e),Ge=u):At(t,e),Vt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(B=e,h=e.child;h!==null;){for(m=B=h;B!==null;){switch(p=B,v=p.child,p.tag){case 0:case 11:case 14:case 15:Ws(4,p,p.return);break;case 1:Hn(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(j){Ee(n,r,j)}}break;case 5:Hn(p,p.return);break;case 22:if(p.memoizedState!==null){sf(m);continue}}v!==null?(v.return=p,B=v):sf(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Qm("display",a))}catch(j){Ee(e,e.return,j)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(j){Ee(e,e.return,j)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:At(t,e),Vt(e),n&4&&rf(e);break;case 21:break;default:At(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(w0(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Zs(s,""),n.flags&=-33);var i=tf(e);Ic(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=tf(e);Lc(e,l,a);break;default:throw Error($(161))}}catch(c){Ee(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rb(e,t,r){B=e,j0(e)}function j0(e,t,r){for(var n=(e.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Zi;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ge;l=Zi;var u=Ge;if(Zi=a,(Ge=c)&&!u)for(B=s;B!==null;)a=B,c=a.child,a.tag===22&&a.memoizedState!==null?af(s):c!==null?(c.return=a,B=c):af(s);for(;i!==null;)B=i,j0(i),i=i.sibling;B=s,Zi=l,Ge=u}nf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):nf(e)}}function nf(e){for(;B!==null;){var t=B;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Po(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ge)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:$t(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bh(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Bh(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&ni(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ge||t.flags&512&&Ac(t)}catch(p){Ee(t,t.return,p)}}if(t===e){B=null;break}if(r=t.sibling,r!==null){r.return=t.return,B=r;break}B=t.return}}function sf(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var r=t.sibling;if(r!==null){r.return=t.return,B=r;break}B=t.return}}function af(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Po(4,t)}catch(c){Ee(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ee(t,s,c)}}var i=t.return;try{Ac(t)}catch(c){Ee(t,i,c)}break;case 5:var a=t.return;try{Ac(t)}catch(c){Ee(t,a,c)}}}catch(c){Ee(t,t.return,c)}if(t===e){B=null;break}var l=t.sibling;if(l!==null){l.return=t.return,B=l;break}B=t.return}}var nb=Math.ceil,Za=vr.ReactCurrentDispatcher,Gu=vr.ReactCurrentOwner,Ot=vr.ReactCurrentBatchConfig,ae=0,De=null,Le=null,He=0,mt=0,Wn=Hr(0),Fe=0,mi=null,xn=0,To=0,Xu=0,Vs=null,at=null,Yu=0,is=1/0,sr=null,eo=!1,$c=null,Ur=null,ea=!1,Or=null,to=0,Ks=0,Uc=null,Sa=-1,Na=0;function rt(){return ae&6?Ce():Sa!==-1?Sa:Sa=Ce()}function Fr(e){return e.mode&1?ae&2&&He!==0?He&-He:D1.transition!==null?(Na===0&&(Na=op()),Na):(e=ue,e!==0||(e=window.event,e=e===void 0?16:mp(e.type)),e):1}function zt(e,t,r,n){if(50<Ks)throw Ks=0,Uc=null,Error($(185));bi(e,r,n),(!(ae&2)||e!==De)&&(e===De&&(!(ae&2)&&(To|=r),Fe===4&&Nr(e,He)),ut(e,n),r===1&&ae===0&&!(t.mode&1)&&(is=Ce()+500,Co&&Wr()))}function ut(e,t){var r=e.callbackNode;Dw(e,t);var n=Fa(e,e===De?He:0);if(n===0)r!==null&&mh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&mh(r),t===1)e.tag===0?M1(of.bind(null,e)):Ap(of.bind(null,e)),I1(function(){!(ae&6)&&Wr()}),r=null;else{switch(lp(n)){case 1:r=Su;break;case 4:r=ip;break;case 16:r=Ua;break;case 536870912:r=ap;break;default:r=Ua}r=P0(r,S0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function S0(e,t){if(Sa=-1,Na=0,ae&6)throw Error($(327));var r=e.callbackNode;if(Xn()&&e.callbackNode!==r)return null;var n=Fa(e,e===De?He:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ro(e,n);else{t=n;var s=ae;ae|=2;var i=k0();(De!==e||He!==t)&&(sr=null,is=Ce()+500,hn(e,t));do try{ab();break}catch(l){N0(e,l)}while(!0);Uu(),Za.current=i,ae=s,Le!==null?t=0:(De=null,He=0,t=Fe)}if(t!==0){if(t===2&&(s=uc(e),s!==0&&(n=s,t=Fc(e,s))),t===1)throw r=mi,hn(e,0),Nr(e,n),ut(e,Ce()),r;if(t===6)Nr(e,n);else{if(s=e.current.alternate,!(n&30)&&!sb(s)&&(t=ro(e,n),t===2&&(i=uc(e),i!==0&&(n=i,t=Fc(e,i))),t===1))throw r=mi,hn(e,0),Nr(e,n),ut(e,Ce()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error($(345));case 2:tn(e,at,sr);break;case 3:if(Nr(e,n),(n&130023424)===n&&(t=Yu+500-Ce(),10<t)){if(Fa(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yc(tn.bind(null,e,at,sr),t);break}tn(e,at,sr);break;case 4:if(Nr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Bt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nb(n/1960))-n,10<n){e.timeoutHandle=yc(tn.bind(null,e,at,sr),n);break}tn(e,at,sr);break;case 5:tn(e,at,sr);break;default:throw Error($(329))}}}return ut(e,Ce()),e.callbackNode===r?S0.bind(null,e):null}function Fc(e,t){var r=Vs;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=ro(e,t),e!==2&&(t=at,at=r,t!==null&&Mc(t)),e}function Mc(e){at===null?at=e:at.push.apply(at,e)}function sb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!qt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nr(e,t){for(t&=~Xu,t&=~To,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Bt(t),n=1<<r;e[r]=-1,t&=~n}}function of(e){if(ae&6)throw Error($(327));Xn();var t=Fa(e,0);if(!(t&1))return ut(e,Ce()),null;var r=ro(e,t);if(e.tag!==0&&r===2){var n=uc(e);n!==0&&(t=n,r=Fc(e,n))}if(r===1)throw r=mi,hn(e,0),Nr(e,t),ut(e,Ce()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tn(e,at,sr),ut(e,Ce()),null}function Zu(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(is=Ce()+500,Co&&Wr())}}function wn(e){Or!==null&&Or.tag===0&&!(ae&6)&&Xn();var t=ae;ae|=1;var r=Ot.transition,n=ue;try{if(Ot.transition=null,ue=1,e)return e()}finally{ue=n,Ot.transition=r,ae=t,!(ae&6)&&Wr()}}function ed(){mt=Wn.current,pe(Wn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,L1(r)),Le!==null)for(r=Le.return;r!==null;){var n=r;switch(Lu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qa();break;case 3:ns(),pe(lt),pe(Ye),qu();break;case 5:zu(n);break;case 4:ns();break;case 13:pe(be);break;case 19:pe(be);break;case 10:Fu(n.type._context);break;case 22:case 23:ed()}r=r.return}if(De=e,Le=e=Mr(e.current,null),He=mt=t,Fe=0,mi=null,Xu=To=xn=0,at=Vs=null,on!==null){for(t=0;t<on.length;t++)if(r=on[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}on=null}return e}function N0(e,t){do{var r=Le;try{if(Uu(),ba.current=Ya,Xa){for(var n=je.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Xa=!1}if(yn=0,Me=$e=je=null,Hs=!1,di=0,Gu.current=null,r===null||r.return===null){Fe=1,mi=t,Le=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=He,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Kh(a);if(v!==null){v.flags&=-257,Qh(v,a,l,i,t),v.mode&1&&Vh(i,u,t),t=v,c=u;var b=t.updateQueue;if(b===null){var j=new Set;j.add(c),t.updateQueue=j}else b.add(c);break e}else{if(!(t&1)){Vh(i,u,t),td();break e}c=Error($(426))}}else if(ve&&l.mode&1){var _=Kh(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Qh(_,a,l,i,t),Iu(ss(c,l));break e}}i=c=ss(c,l),Fe!==4&&(Fe=2),Vs===null?Vs=[i]:Vs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=l0(i,c,t);Dh(i,f);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ur===null||!Ur.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=c0(i,l,t);Dh(i,S);break e}}i=i.return}while(i!==null)}C0(r)}catch(E){t=E,Le===r&&r!==null&&(Le=r=r.return);continue}break}while(!0)}function k0(){var e=Za.current;return Za.current=Ya,e===null?Ya:e}function td(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),De===null||!(xn&268435455)&&!(To&268435455)||Nr(De,He)}function ro(e,t){var r=ae;ae|=2;var n=k0();(De!==e||He!==t)&&(sr=null,hn(e,t));do try{ib();break}catch(s){N0(e,s)}while(!0);if(Uu(),ae=r,Za.current=n,Le!==null)throw Error($(261));return De=null,He=0,Fe}function ib(){for(;Le!==null;)E0(Le)}function ab(){for(;Le!==null&&!Pw();)E0(Le)}function E0(e){var t=R0(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?C0(e):Le=t,Gu.current=null}function C0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Z1(r,t),r!==null){r.flags&=32767,Le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Le=null;return}}else if(r=Y1(r,t,mt),r!==null){Le=r;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Fe===0&&(Fe=5)}function tn(e,t,r){var n=ue,s=Ot.transition;try{Ot.transition=null,ue=1,ob(e,t,r,n)}finally{Ot.transition=s,ue=n}return null}function ob(e,t,r,n){do Xn();while(Or!==null);if(ae&6)throw Error($(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Bw(e,i),e===De&&(Le=De=null,He=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ea||(ea=!0,P0(Ua,function(){return Xn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var a=ue;ue=1;var l=ae;ae|=4,Gu.current=null,tb(e,r),_0(r,e),E1(gc),Ma=!!pc,gc=pc=null,e.current=r,rb(r),Tw(),ae=l,ue=a,Ot.transition=i}else e.current=r;if(ea&&(ea=!1,Or=e,to=s),i=e.pendingLanes,i===0&&(Ur=null),Iw(r.stateNode),ut(e,Ce()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(eo)throw eo=!1,e=$c,$c=null,e;return to&1&&e.tag!==0&&Xn(),i=e.pendingLanes,i&1?e===Uc?Ks++:(Ks=0,Uc=e):Ks=0,Wr(),null}function Xn(){if(Or!==null){var e=lp(to),t=Ot.transition,r=ue;try{if(Ot.transition=null,ue=16>e?16:e,Or===null)var n=!1;else{if(e=Or,Or=null,to=0,ae&6)throw Error($(331));var s=ae;for(ae|=4,B=e.current;B!==null;){var i=B,a=i.child;if(B.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(B=u;B!==null;){var h=B;switch(h.tag){case 0:case 11:case 15:Ws(8,h,i)}var m=h.child;if(m!==null)m.return=h,B=m;else for(;B!==null;){h=B;var p=h.sibling,v=h.return;if(x0(h),h===u){B=null;break}if(p!==null){p.return=v,B=p;break}B=v}}}var b=i.alternate;if(b!==null){var j=b.child;if(j!==null){b.child=null;do{var _=j.sibling;j.sibling=null,j=_}while(j!==null)}}B=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,B=a;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ws(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,B=f;break e}B=i.return}}var y=e.current;for(B=y;B!==null;){a=B;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,B=w;else e:for(a=y;B!==null;){if(l=B,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Po(9,l)}}catch(E){Ee(l,l.return,E)}if(l===a){B=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,B=S;break e}B=l.return}}if(ae=s,Wr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(jo,e)}catch{}n=!0}return n}finally{ue=r,Ot.transition=t}}return!1}function lf(e,t,r){t=ss(r,t),t=l0(e,t,1),e=$r(e,t,1),t=rt(),e!==null&&(bi(e,1,t),ut(e,t))}function Ee(e,t,r){if(e.tag===3)lf(e,e,r);else for(;t!==null;){if(t.tag===3){lf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ur===null||!Ur.has(n))){e=ss(r,e),e=c0(t,e,1),t=$r(t,e,1),e=rt(),t!==null&&(bi(t,1,e),ut(t,e));break}}t=t.return}}function lb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,De===e&&(He&r)===r&&(Fe===4||Fe===3&&(He&130023424)===He&&500>Ce()-Yu?hn(e,0):Xu|=r),ut(e,t)}function O0(e,t){t===0&&(e.mode&1?(t=Hi,Hi<<=1,!(Hi&130023424)&&(Hi=4194304)):t=1);var r=rt();e=fr(e,t),e!==null&&(bi(e,t,r),ut(e,r))}function cb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),O0(e,r)}function ub(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(t),O0(e,r)}var R0;R0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ot=!1,X1(e,t,r);ot=!!(e.flags&131072)}else ot=!1,ve&&t.flags&1048576&&Lp(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ja(e,t),e=t.pendingProps;var s=es(t,Ye.current);Gn(t,r),s=Wu(null,t,n,e,s,r);var i=Vu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(n)?(i=!0,Ha(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Du(t),s.updater=Ro,t.stateNode=s,s._reactInternals=t,Nc(t,n,e,r),t=Cc(null,t,n,!0,i,r)):(t.tag=0,ve&&i&&Au(t),et(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=hb(n),e=$t(n,e),s){case 0:t=Ec(null,t,n,e,r);break e;case 1:t=Xh(null,t,n,e,r);break e;case 11:t=Jh(null,t,n,e,r);break e;case 14:t=Gh(null,t,n,$t(n.type,e),r);break e}throw Error($(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:$t(n,s),Ec(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:$t(n,s),Xh(e,t,n,s,r);case 3:e:{if(f0(t),e===null)throw Error($(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Dp(e,t),Ja(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ss(Error($(423)),t),t=Yh(e,t,n,r,s);break e}else if(n!==s){s=ss(Error($(424)),t),t=Yh(e,t,n,r,s);break e}else for(vt=Ir(t.stateNode.containerInfo.firstChild),xt=t,ve=!0,Dt=null,r=Fp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ts(),n===s){t=mr(e,t,r);break e}et(e,t,n,r)}t=t.child}return t;case 5:return Bp(t),e===null&&_c(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,vc(n,s)?a=null:i!==null&&vc(n,i)&&(t.flags|=32),h0(e,t),et(e,t,a,r),t.child;case 6:return e===null&&_c(t),null;case 13:return m0(e,t,r);case 4:return Bu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rs(t,null,n,r):et(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:$t(n,s),Jh(e,t,n,s,r);case 7:return et(e,t,t.pendingProps,r),t.child;case 8:return et(e,t,t.pendingProps.children,r),t.child;case 12:return et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,he(Ka,n._currentValue),n._currentValue=a,i!==null)if(qt(i.value,a)){if(i.children===s.children&&!lt.current){t=mr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ur(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),jc(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error($(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),jc(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}et(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Gn(t,r),s=Rt(s),n=n(s),t.flags|=1,et(e,t,n,r),t.child;case 14:return n=t.type,s=$t(n,t.pendingProps),s=$t(n.type,s),Gh(e,t,n,s,r);case 15:return u0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:$t(n,s),ja(e,t),t.tag=1,ct(n)?(e=!0,Ha(t)):e=!1,Gn(t,r),o0(t,n,s),Nc(t,n,s,r),Cc(null,t,n,!0,e,r);case 19:return p0(e,t,r);case 22:return d0(e,t,r)}throw Error($(156,t.tag))};function P0(e,t){return sp(e,t)}function db(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,n){return new db(e,t,r,n)}function rd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hb(e){if(typeof e=="function")return rd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bu)return 11;if(e===_u)return 14}return 2}function Mr(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ka(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")rd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case In:return fn(r.children,s,i,t);case wu:a=8,s|=8;break;case Jl:return e=Ct(12,r,t,s|2),e.elementType=Jl,e.lanes=i,e;case Gl:return e=Ct(13,r,t,s),e.elementType=Gl,e.lanes=i,e;case Xl:return e=Ct(19,r,t,s),e.elementType=Xl,e.lanes=i,e;case Bm:return Ao(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mm:a=10;break e;case Dm:a=9;break e;case bu:a=11;break e;case _u:a=14;break e;case br:a=16,n=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Ct(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function fn(e,t,r,n){return e=Ct(7,e,n,t),e.lanes=r,e}function Ao(e,t,r,n){return e=Ct(22,e,n,t),e.elementType=Bm,e.lanes=r,e.stateNode={isHidden:!1},e}function Pl(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function Tl(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fb(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nd(e,t,r,n,s,i,a,l,c){return e=new fb(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ct(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Du(i),e}function mb(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function T0(e){if(!e)return zr;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(ct(r))return Tp(e,r,t)}return t}function A0(e,t,r,n,s,i,a,l,c){return e=nd(r,n,!0,e,s,i,a,l,c),e.context=T0(null),r=e.current,n=rt(),s=Fr(r),i=ur(n,s),i.callback=t??null,$r(r,i,s),e.current.lanes=s,bi(e,s,n),ut(e,n),e}function Lo(e,t,r,n){var s=t.current,i=rt(),a=Fr(s);return r=T0(r),t.context===null?t.context=r:t.pendingContext=r,t=ur(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$r(s,t,a),e!==null&&(zt(e,s,a,i),wa(e,s,a)),a}function no(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sd(e,t){cf(e,t),(e=e.alternate)&&cf(e,t)}function pb(){return null}var L0=typeof reportError=="function"?reportError:function(e){console.error(e)};function id(e){this._internalRoot=e}Io.prototype.render=id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Lo(e,t,null,null)};Io.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){Lo(null,e,null,null)}),t[hr]=null}};function Io(e){this._internalRoot=e}Io.prototype.unstable_scheduleHydration=function(e){if(e){var t=dp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sr.length&&t!==0&&t<Sr[r].priority;r++);Sr.splice(r,0,e),r===0&&fp(e)}};function ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uf(){}function gb(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=no(a);i.call(u)}}var a=A0(t,n,e,0,null,!1,!1,"",uf);return e._reactRootContainer=a,e[hr]=a.current,ai(e.nodeType===8?e.parentNode:e),wn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=no(c);l.call(u)}}var c=nd(e,0,!1,null,null,!1,!1,"",uf);return e._reactRootContainer=c,e[hr]=c.current,ai(e.nodeType===8?e.parentNode:e),wn(function(){Lo(t,c,r,n)}),c}function Uo(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=no(a);l.call(c)}}Lo(t,a,e,s)}else a=gb(r,t,e,s,n);return no(a)}cp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$s(t.pendingLanes);r!==0&&(Nu(t,r|1),ut(t,Ce()),!(ae&6)&&(is=Ce()+500,Wr()))}break;case 13:wn(function(){var n=fr(e,1);if(n!==null){var s=rt();zt(n,e,1,s)}}),sd(e,1)}};ku=function(e){if(e.tag===13){var t=fr(e,134217728);if(t!==null){var r=rt();zt(t,e,134217728,r)}sd(e,134217728)}};up=function(e){if(e.tag===13){var t=Fr(e),r=fr(e,t);if(r!==null){var n=rt();zt(r,e,t,n)}sd(e,t)}};dp=function(){return ue};hp=function(e,t){var r=ue;try{return ue=e,t()}finally{ue=r}};oc=function(e,t,r){switch(t){case"input":if(ec(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Eo(n);if(!s)throw Error($(90));qm(n),ec(n,s)}}}break;case"textarea":Wm(e,r);break;case"select":t=r.value,t!=null&&Vn(e,!!r.multiple,t,!1)}};Ym=Zu;Zm=wn;var vb={usingClientEntryPoint:!1,Events:[ji,Mn,Eo,Gm,Xm,Zu]},Ts={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yb={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rp(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{jo=ta.inject(yb),Xt=ta}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vb;St.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ad(t))throw Error($(200));return mb(e,t,null,r)};St.createRoot=function(e,t){if(!ad(e))throw Error($(299));var r=!1,n="",s=L0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nd(e,1,!1,null,null,r,!1,n,s),e[hr]=t.current,ai(e.nodeType===8?e.parentNode:e),new id(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=rp(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return wn(e)};St.hydrate=function(e,t,r){if(!$o(t))throw Error($(200));return Uo(null,e,t,!0,r)};St.hydrateRoot=function(e,t,r){if(!ad(e))throw Error($(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=L0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=A0(t,null,e,1,r??null,s,!1,i,a),e[hr]=t.current,ai(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Io(t)};St.render=function(e,t,r){if(!$o(t))throw Error($(200));return Uo(null,e,t,!1,r)};St.unmountComponentAtNode=function(e){if(!$o(e))throw Error($(40));return e._reactRootContainer?(wn(function(){Uo(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};St.unstable_batchedUpdates=Zu;St.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$o(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Uo(e,t,r,!1,n)};St.version="18.3.1-next-f1338f8080-20240426";function I0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I0)}catch(e){console.error(e)}}I0(),Im.exports=St;var $0=Im.exports;const xb=jm($0);var df=$0;Kl.createRoot=df.createRoot,Kl.hydrateRoot=df.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}var Rr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rr||(Rr={}));const hf="popstate";function wb(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return Dc("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:so(s)}return _b(t,r,null,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bb(){return Math.random().toString(36).substr(2,8)}function ff(e,t){return{usr:e.state,key:e.key,idx:t}}function Dc(e,t,r,n){return r===void 0&&(r=null),pi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fs(t):t,{state:r,key:t&&t.key||n||bb()})}function so(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _b(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=Rr.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(pi({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function m(){l=Rr.Pop;let _=h(),f=_==null?null:_-u;u=_,c&&c({action:l,location:j.location,delta:f})}function p(_,f){l=Rr.Push;let y=Dc(j.location,_,f);u=h()+1;let w=ff(y,u),S=j.createHref(y);try{a.pushState(w,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(S)}i&&c&&c({action:l,location:j.location,delta:1})}function v(_,f){l=Rr.Replace;let y=Dc(j.location,_,f);u=h();let w=ff(y,u),S=j.createHref(y);a.replaceState(w,"",S),i&&c&&c({action:l,location:j.location,delta:0})}function b(_){let f=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:so(_);return y=y.replace(/ $/,"%20"),Re(f,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,f)}let j={get action(){return l},get location(){return e(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(hf,m),c=_,()=>{s.removeEventListener(hf,m),c=null}},createHref(_){return t(s,_)},createURL:b,encodeLocation(_){let f=b(_);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:v,go(_){return a.go(_)}};return j}var mf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(mf||(mf={}));function jb(e,t,r){return r===void 0&&(r="/"),Sb(e,t,r)}function Sb(e,t,r,n){let s=typeof t=="string"?fs(t):t,i=od(s.pathname||"/",r);if(i==null)return null;let a=F0(e);Nb(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Ub(i);l=Lb(a[c],u)}return l}function F0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Dr([n,c.relativePath]),h=r.concat(c);i.children&&i.children.length>0&&(Re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),F0(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Tb(u,i.index),routesMeta:h})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of M0(i.path))s(i,a,c)}),t}function M0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=M0(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Nb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ab(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kb=/^:[\w-]+$/,Eb=3,Cb=2,Ob=1,Rb=10,Pb=-2,pf=e=>e==="*";function Tb(e,t){let r=e.split("/"),n=r.length;return r.some(pf)&&(n+=Pb),t&&(n+=Cb),r.filter(s=>!pf(s)).reduce((s,i)=>s+(kb.test(i)?Eb:i===""?Ob:Rb),n)}function Ab(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Lb(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Ib({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),p=c.route;if(!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:Dr([i,m.pathname]),pathnameBase:Bb(Dr([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Dr([i,m.pathnameBase]))}return a}function Ib(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$b(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,h,m)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let j=l[m]||"";a=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const b=l[m];return v&&!b?u[p]=void 0:u[p]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function $b(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),U0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Ub(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return U0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function od(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Fb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fs(e):e;return{pathname:r?r.startsWith("/")?r:Mb(r,t):t,search:zb(n),hash:qb(s)}}function Mb(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Al(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Db(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ld(e,t){let r=Db(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function cd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=fs(e):(s=pi({},e),Re(!s.pathname||!s.pathname.includes("?"),Al("?","pathname","search",s)),Re(!s.pathname||!s.pathname.includes("#"),Al("#","pathname","hash",s)),Re(!s.search||!s.search.includes("#"),Al("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let m=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?t[m]:"/"}let c=Fb(s,l),u=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Dr=e=>e.join("/").replace(/\/\/+/g,"/"),Bb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Hb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const D0=["post","put","patch","delete"];new Set(D0);const Wb=["get",...D0];new Set(Wb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(this,arguments)}const ud=N.createContext(null),Vb=N.createContext(null),Vr=N.createContext(null),Fo=N.createContext(null),Zt=N.createContext({outlet:null,matches:[],isDataRoute:!1}),B0=N.createContext(null);function Kb(e,t){let{relative:r}=t===void 0?{}:t;ms()||Re(!1);let{basename:n,navigator:s}=N.useContext(Vr),{hash:i,pathname:a,search:l}=H0(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Dr([n,a])),s.createHref({pathname:c,search:l,hash:i})}function ms(){return N.useContext(Fo)!=null}function yr(){return ms()||Re(!1),N.useContext(Fo).location}function z0(e){N.useContext(Vr).static||N.useLayoutEffect(e)}function Tt(){let{isDataRoute:e}=N.useContext(Zt);return e?l_():Qb()}function Qb(){ms()||Re(!1);let e=N.useContext(ud),{basename:t,future:r,navigator:n}=N.useContext(Vr),{matches:s}=N.useContext(Zt),{pathname:i}=yr(),a=JSON.stringify(ld(s,r.v7_relativeSplatPath)),l=N.useRef(!1);return z0(()=>{l.current=!0}),N.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=cd(u,JSON.parse(a),i,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Dr([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,a,i,e])}const Jb=N.createContext(null);function Gb(e){let t=N.useContext(Zt).outlet;return t&&N.createElement(Jb.Provider,{value:e},t)}function q0(){let{matches:e}=N.useContext(Zt),t=e[e.length-1];return t?t.params:{}}function H0(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(Vr),{matches:s}=N.useContext(Zt),{pathname:i}=yr(),a=JSON.stringify(ld(s,n.v7_relativeSplatPath));return N.useMemo(()=>cd(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Xb(e,t){return Yb(e,t)}function Yb(e,t,r,n){ms()||Re(!1);let{navigator:s}=N.useContext(Vr),{matches:i}=N.useContext(Zt),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=yr(),h;if(t){var m;let _=typeof t=="string"?fs(t):t;c==="/"||(m=_.pathname)!=null&&m.startsWith(c)||Re(!1),h=_}else h=u;let p=h.pathname||"/",v=p;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=jb(e,{pathname:v}),j=n_(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Dr([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Dr([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&j?N.createElement(Fo.Provider,{value:{location:gi({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Rr.Pop}},j):j}function Zb(){let e=o_(),t=Hb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,null)}const e_=N.createElement(Zb,null);class t_ extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(Zt.Provider,{value:this.props.routeContext},N.createElement(B0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r_(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(ud);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Zt.Provider,{value:t},n)}function n_(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||Re(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:v}=r,b=m.route.loader&&p[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,m,p)=>{let v,b=!1,j=null,_=null;r&&(v=l&&m.route.id?l[m.route.id]:void 0,j=m.route.errorElement||e_,c&&(u<0&&p===0?(c_("route-fallback"),b=!0,_=null):u===p&&(b=!0,_=m.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,p+1)),y=()=>{let w;return v?w=j:b?w=_:m.route.Component?w=N.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,N.createElement(r_,{match:m,routeContext:{outlet:h,matches:f,isDataRoute:r!=null},children:w})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?N.createElement(t_,{location:r.location,revalidation:r.revalidation,component:j,error:v,children:y(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):y()},null)}var W0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(W0||{}),V0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(V0||{});function s_(e){let t=N.useContext(ud);return t||Re(!1),t}function i_(e){let t=N.useContext(Vb);return t||Re(!1),t}function a_(e){let t=N.useContext(Zt);return t||Re(!1),t}function K0(e){let t=a_(),r=t.matches[t.matches.length-1];return r.route.id||Re(!1),r.route.id}function o_(){var e;let t=N.useContext(B0),r=i_(),n=K0();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function l_(){let{router:e}=s_(W0.UseNavigateStable),t=K0(V0.UseNavigateStable),r=N.useRef(!1);return z0(()=>{r.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,gi({fromRouteId:t},i)))},[e,t])}const gf={};function c_(e,t,r){gf[e]||(gf[e]=!0)}function u_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vf(e){let{to:t,replace:r,state:n,relative:s}=e;ms()||Re(!1);let{future:i,static:a}=N.useContext(Vr),{matches:l}=N.useContext(Zt),{pathname:c}=yr(),u=Tt(),h=cd(t,ld(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(h);return N.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function d_(e){return Gb(e.context)}function ke(e){Re(!1)}function h_(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Rr.Pop,navigator:i,static:a=!1,future:l}=e;ms()&&Re(!1);let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:a,future:gi({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=fs(n));let{pathname:h="/",search:m="",hash:p="",state:v=null,key:b="default"}=n,j=N.useMemo(()=>{let _=od(h,c);return _==null?null:{location:{pathname:_,search:m,hash:p,state:v,key:b},navigationType:s}},[c,h,m,p,v,b,s]);return j==null?null:N.createElement(Vr.Provider,{value:u},N.createElement(Fo.Provider,{children:r,value:j}))}function f_(e){let{children:t,location:r}=e;return Xb(Bc(t),r)}new Promise(()=>{});function Bc(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let i=[...t,s];if(n.type===N.Fragment){r.push.apply(r,Bc(n.props.children,i));return}n.type!==ke&&Re(!1),!n.props.index||!n.props.children||Re(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Bc(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(this,arguments)}function m_(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function p_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g_(e,t){return e.button===0&&(!t||t==="_self")&&!p_(e)}const v_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y_="6";try{window.__reactRouterVersion=y_}catch{}const x_="startTransition",yf=lw[x_];function w_(e){let{basename:t,children:r,future:n,window:s}=e,i=N.useRef();i.current==null&&(i.current=wb({window:s,v5Compat:!0}));let a=i.current,[l,c]=N.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=N.useCallback(m=>{u&&yf?yf(()=>c(m)):c(m)},[c,u]);return N.useLayoutEffect(()=>a.listen(h),[a,h]),N.useEffect(()=>u_(n),[n]),N.createElement(h_,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const b_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",__=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=N.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:m}=t,p=m_(t,v_),{basename:v}=N.useContext(Vr),b,j=!1;if(typeof u=="string"&&__.test(u)&&(b=u,b_))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=od(S.pathname,v);S.origin===w.origin&&E!=null?u=E+S.search+S.hash:j=!0}catch{}let _=Kb(u,{relative:s}),f=j_(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});function y(w){n&&n(w),w.defaultPrevented||f(w)}return N.createElement("a",zc({},p,{href:b||_,onClick:j||i?n:y,ref:r,target:c}))});var xf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xf||(xf={}));var wf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wf||(wf={}));function j_(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Tt(),u=yr(),h=H0(e,{relative:a});return N.useCallback(m=>{if(g_(m,r)){m.preventDefault();let p=n!==void 0?n:so(u)===so(h);c(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,n,s,r,e,i,a,l])}function qc(e,t){return qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},qc(e,t)}function ps(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qc(e,t)}var gs=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(n){var s=this,i=n||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(a){return a!==i}),s.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(null,arguments)}var io=typeof window>"u";function qe(){}function S_(e,t){return typeof e=="function"?e(t):e}function Hc(e){return typeof e=="number"&&e>=0&&e!==1/0}function ao(e){return Array.isArray(e)?e:[e]}function Q0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ea(e,t,r){return Ni(e)?typeof t=="function"?re({},r,{queryKey:e,queryFn:t}):re({},t,{queryKey:e}):e}function N_(e,t,r){return Ni(e)?typeof t=="function"?re({},r,{mutationKey:e,mutationFn:t}):re({},t,{mutationKey:e}):typeof e=="function"?re({},t,{mutationFn:e}):re({},e)}function jr(e,t,r){return Ni(e)?[re({},t,{queryKey:e}),r]:[e||{},t]}function k_(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var r=e??!t;return r?"active":"inactive"}function bf(e,t){var r=e.active,n=e.exact,s=e.fetching,i=e.inactive,a=e.predicate,l=e.queryKey,c=e.stale;if(Ni(l)){if(n){if(t.queryHash!==dd(l,t.options))return!1}else if(!oo(t.queryKey,l))return!1}var u=k_(r,i);if(u==="none")return!1;if(u!=="all"){var h=t.isActive();if(u==="active"&&!h||u==="inactive"&&h)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof s=="boolean"&&t.isFetching()!==s||a&&!a(t))}function _f(e,t){var r=e.exact,n=e.fetching,s=e.predicate,i=e.mutationKey;if(Ni(i)){if(!t.options.mutationKey)return!1;if(r){if(cn(t.options.mutationKey)!==cn(i))return!1}else if(!oo(t.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||s&&!s(t))}function dd(e,t){var r=(t==null?void 0:t.queryKeyHashFn)||cn;return r(e)}function cn(e){var t=ao(e);return E_(t)}function E_(e){return JSON.stringify(e,function(t,r){return Wc(r)?Object.keys(r).sort().reduce(function(n,s){return n[s]=r[s],n},{}):r})}function oo(e,t){return J0(ao(e),ao(t))}function J0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(r){return!J0(e[r],t[r])}):!1}function lo(e,t){if(e===t)return e;var r=Array.isArray(e)&&Array.isArray(t);if(r||Wc(e)&&Wc(t)){for(var n=r?e.length:Object.keys(e).length,s=r?t:Object.keys(t),i=s.length,a=r?[]:{},l=0,c=0;c<i;c++){var u=r?c:s[c];a[u]=lo(e[u],t[u]),a[u]===e[u]&&l++}return n===i&&l===n?e:a}return t}function C_(e,t){if(e&&!t||t&&!e)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function Wc(e){if(!jf(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var r=t.prototype;return!(!jf(r)||!r.hasOwnProperty("isPrototypeOf"))}function jf(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ni(e){return typeof e=="string"||Array.isArray(e)}function O_(e){return new Promise(function(t){setTimeout(t,e)})}function Sf(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function G0(){if(typeof AbortController=="function")return new AbortController}var R_=function(e){ps(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(s){var i;if(!io&&((i=window)!=null&&i.addEventListener)){var a=function(){return s()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},r.setEventListener=function(s){var i,a=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?a.setFocused(l):a.onFocus()})},r.setFocused=function(s){this.focused=s,s&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(s){s()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(gs),Qs=new R_,P_=function(e){ps(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(s){var i;if(!io&&((i=window)!=null&&i.addEventListener)){var a=function(){return s()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},r.setEventListener=function(s){var i,a=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(l){typeof l=="boolean"?a.setOnline(l):a.onOnline()})},r.setOnline=function(s){this.online=s,s&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(s){s()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(gs),Ca=new P_;function T_(e){return Math.min(1e3*Math.pow(2,e),3e4)}function co(e){return typeof(e==null?void 0:e.cancel)=="function"}var X0=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Oa(e){return e instanceof X0}var Y0=function(t){var r=this,n=!1,s,i,a,l;this.abort=t.abort,this.cancel=function(p){return s==null?void 0:s(p)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(p,v){a=p,l=v});var c=function(v){r.isResolved||(r.isResolved=!0,t.onSuccess==null||t.onSuccess(v),i==null||i(),a(v))},u=function(v){r.isResolved||(r.isResolved=!0,t.onError==null||t.onError(v),i==null||i(),l(v))},h=function(){return new Promise(function(v){i=v,r.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,r.isPaused=!1,t.onContinue==null||t.onContinue()})},m=function p(){if(!r.isResolved){var v;try{v=t.fn()}catch(b){v=Promise.reject(b)}s=function(j){if(!r.isResolved&&(u(new X0(j)),r.abort==null||r.abort(),co(v)))try{v.cancel()}catch{}},r.isTransportCancelable=co(v),Promise.resolve(v).then(c).catch(function(b){var j,_;if(!r.isResolved){var f=(j=t.retry)!=null?j:3,y=(_=t.retryDelay)!=null?_:T_,w=typeof y=="function"?y(r.failureCount,b):y,S=f===!0||typeof f=="number"&&r.failureCount<f||typeof f=="function"&&f(r.failureCount,b);if(n||!S){u(b);return}r.failureCount++,t.onFail==null||t.onFail(r.failureCount,b),O_(w).then(function(){if(!Qs.isFocused()||!Ca.isOnline())return h()}).then(function(){n?u(b):p()})}})}};m()},A_=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var t=e.prototype;return t.batch=function(n){var s;this.transactions++;try{s=n()}finally{this.transactions--,this.transactions||this.flush()}return s},t.schedule=function(n){var s=this;this.transactions?this.queue.push(n):Sf(function(){s.notifyFn(n)})},t.batchCalls=function(n){var s=this;return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];s.schedule(function(){n.apply(void 0,a)})}},t.flush=function(){var n=this,s=this.queue;this.queue=[],s.length&&Sf(function(){n.batchNotifyFn(function(){s.forEach(function(i){n.notifyFn(i)})})})},t.setNotifyFunction=function(n){this.notifyFn=n},t.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},e}(),ge=new A_,Z0=console;function uo(){return Z0}function L_(e){Z0=e}var I_=function(){function e(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(n){var s;this.options=re({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},t.setDefaultOptions=function(n){this.defaultOptions=n},t.scheduleGc=function(){var n=this;this.clearGcTimeout(),Hc(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(n,s){var i,a,l=this.state.data,c=S_(n,l);return(i=(a=this.options).isDataEqual)!=null&&i.call(a,l,c)?c=l:this.options.structuralSharing!==!1&&(c=lo(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),c},t.setState=function(n,s){this.dispatch({type:"setState",state:n,setStateOptions:s})},t.cancel=function(n){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(n),i?i.then(qe).catch(qe):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},t.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Q0(this.state.dataUpdatedAt,n)},t.onFocus=function(){var n,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(n=this.retryer)==null||n.continue()},t.onOnline=function(){var n,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(n=this.retryer)==null||n.continue()},t.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},t.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(s){return s!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(n,s){var i=this,a,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var h=this.observers.find(function(y){return y.options.queryFn});h&&this.setOptions(h.options)}var m=ao(this.queryKey),p=G0(),v={queryKey:m,pageParam:void 0,meta:this.meta};Object.defineProperty(v,"signal",{enumerable:!0,get:function(){if(p)return i.abortSignalConsumed=!0,p.signal}});var b=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(v)):Promise.reject("Missing queryFn")},j={fetchOptions:s,options:this.options,queryKey:m,state:this.state,fetchFn:b,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var _;(_=this.options.behavior)==null||_.onFetch(j)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=j.fetchOptions)==null?void 0:l.meta)){var f;this.dispatch({type:"fetch",meta:(f=j.fetchOptions)==null?void 0:f.meta})}return this.retryer=new Y0({fn:j.fetchFn,abort:p==null||(c=p.abort)==null?void 0:c.bind(p),onSuccess:function(w){i.setData(w),i.cache.config.onSuccess==null||i.cache.config.onSuccess(w,i),i.cacheTime===0&&i.optionalRemove()},onError:function(w){Oa(w)&&w.silent||i.dispatch({type:"error",error:w}),Oa(w)||(i.cache.config.onError==null||i.cache.config.onError(w,i),uo().error(w)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:j.options.retry,retryDelay:j.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(n){var s=this;this.state=this.reducer(this.state,n),ge.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(n)}),s.cache.notify({query:s,type:"queryUpdated",action:n})})},t.getDefaultState=function(n){var s=typeof n.initialData=="function"?n.initialData():n.initialData,i=typeof n.initialData<"u",a=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,l=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:l?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},t.reducer=function(n,s){var i,a;switch(s.type){case"failed":return re({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return re({},n,{isPaused:!0});case"continue":return re({},n,{isPaused:!1});case"fetch":return re({},n,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return re({},n,{data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(a=s.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=s.error;return Oa(l)&&l.revert&&this.revertState?re({},this.revertState):re({},n,{error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return re({},n,{isInvalidated:!0});case"setState":return re({},n,s.state);default:return n}},e}(),$_=function(e){ps(t,e);function t(n){var s;return s=e.call(this)||this,s.config=n||{},s.queries=[],s.queriesMap={},s}var r=t.prototype;return r.build=function(s,i,a){var l,c=i.queryKey,u=(l=i.queryHash)!=null?l:dd(c,i),h=this.get(u);return h||(h=new I_({cache:this,queryKey:c,queryHash:u,options:s.defaultQueryOptions(i),state:a,defaultOptions:s.getQueryDefaults(c),meta:i.meta}),this.add(h)),h},r.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},r.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(a){return a!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},r.clear=function(){var s=this;ge.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},r.get=function(s){return this.queriesMap[s]},r.getAll=function(){return this.queries},r.find=function(s,i){var a=jr(s,i),l=a[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return bf(l,c)})},r.findAll=function(s,i){var a=jr(s,i),l=a[0];return Object.keys(l).length>0?this.queries.filter(function(c){return bf(l,c)}):this.queries},r.notify=function(s){var i=this;ge.batch(function(){i.listeners.forEach(function(a){a(s)})})},r.onFocus=function(){var s=this;ge.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},r.onOnline=function(){var s=this;ge.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},t}(gs),U_=function(){function e(r){this.options=re({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||eg(),this.meta=r.meta}var t=e.prototype;return t.setState=function(n){this.dispatch({type:"setState",state:n})},t.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},t.removeObserver=function(n){this.observers=this.observers.filter(function(s){return s!==n})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(qe).catch(qe)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var n=this,s,i=this.state.status==="loading",a=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(l){l!==n.state.context&&n.dispatch({type:"loading",context:l,variables:n.state.variables})})),a.then(function(){return n.executeMutation()}).then(function(l){s=l,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(s,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(s,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(s,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:s}),s}).catch(function(l){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(l,n.state.variables,n.state.context,n),uo().error(l),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(l,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,l,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:l}),l})})},t.executeMutation=function(){var n=this,s;return this.retryer=new Y0({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(n){var s=this;this.state=F_(this.state,n),ge.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(n)}),s.mutationCache.notify(s)})},e}();function eg(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function F_(e,t){switch(t.type){case"failed":return re({},e,{failureCount:e.failureCount+1});case"pause":return re({},e,{isPaused:!0});case"continue":return re({},e,{isPaused:!1});case"loading":return re({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return re({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return re({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return re({},e,t.state);default:return e}}var M_=function(e){ps(t,e);function t(n){var s;return s=e.call(this)||this,s.config=n||{},s.mutations=[],s.mutationId=0,s}var r=t.prototype;return r.build=function(s,i,a){var l=new U_({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:a,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},r.add=function(s){this.mutations.push(s),this.notify(s)},r.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},r.clear=function(){var s=this;ge.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},r.getAll=function(){return this.mutations},r.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return _f(s,i)})},r.findAll=function(s){return this.mutations.filter(function(i){return _f(s,i)})},r.notify=function(s){var i=this;ge.batch(function(){i.listeners.forEach(function(a){a(s)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return ge.batch(function(){return s.reduce(function(i,a){return i.then(function(){return a.continue().catch(qe)})},Promise.resolve())})},t}(gs);function D_(){return{onFetch:function(t){t.fetchFn=function(){var r,n,s,i,a,l,c=(r=t.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(s=t.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,h=u==null?void 0:u.pageParam,m=(u==null?void 0:u.direction)==="forward",p=(u==null?void 0:u.direction)==="backward",v=((a=t.state.data)==null?void 0:a.pages)||[],b=((l=t.state.data)==null?void 0:l.pageParams)||[],j=G0(),_=j==null?void 0:j.signal,f=b,y=!1,w=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(oe,Ve,K,fe){return f=fe?[Ve].concat(f):[].concat(f,[Ve]),fe?[K].concat(oe):[].concat(oe,[K])},E=function(oe,Ve,K,fe){if(y)return Promise.reject("Cancelled");if(typeof K>"u"&&!Ve&&oe.length)return Promise.resolve(oe);var F={queryKey:t.queryKey,signal:_,pageParam:K,meta:t.meta},V=w(F),G=Promise.resolve(V).then(function(ie){return S(oe,K,ie,fe)});if(co(V)){var se=G;se.cancel=V.cancel}return G},R;if(!v.length)R=E([]);else if(m){var P=typeof h<"u",C=P?h:Nf(t.options,v);R=E(v,P,C)}else if(p){var I=typeof h<"u",T=I?h:B_(t.options,v);R=E(v,I,T,!0)}else(function(){f=[];var Y=typeof t.options.getNextPageParam>"u",oe=c&&v[0]?c(v[0],0,v):!0;R=oe?E([],Y,b[0]):Promise.resolve(S([],b[0],v[0]));for(var Ve=function(F){R=R.then(function(V){var G=c&&v[F]?c(v[F],F,v):!0;if(G){var se=Y?b[F]:Nf(t.options,V);return E(V,Y,se)}return Promise.resolve(S(V,b[F],v[F]))})},K=1;K<v.length;K++)Ve(K)})();var U=R.then(function(Y){return{pages:Y,pageParams:f}}),D=U;return D.cancel=function(){y=!0,j==null||j.abort(),co(R)&&R.cancel()},U}}}}function Nf(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function B_(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var z_=function(){function e(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new $_,this.mutationCache=r.mutationCache||new M_,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var n=this;this.unsubscribeFocus=Qs.subscribe(function(){Qs.isFocused()&&Ca.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=Ca.subscribe(function(){Qs.isFocused()&&Ca.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},t.unmount=function(){var n,s;(n=this.unsubscribeFocus)==null||n.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},t.isFetching=function(n,s){var i=jr(n,s),a=i[0];return a.fetching=!0,this.queryCache.findAll(a).length},t.isMutating=function(n){return this.mutationCache.findAll(re({},n,{fetching:!0})).length},t.getQueryData=function(n,s){var i;return(i=this.queryCache.find(n,s))==null?void 0:i.state.data},t.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(s){var i=s.queryKey,a=s.state,l=a.data;return[i,l]})},t.setQueryData=function(n,s,i){var a=Ea(n),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(s,i)},t.setQueriesData=function(n,s,i){var a=this;return ge.batch(function(){return a.getQueryCache().findAll(n).map(function(l){var c=l.queryKey;return[c,a.setQueryData(c,s,i)]})})},t.getQueryState=function(n,s){var i;return(i=this.queryCache.find(n,s))==null?void 0:i.state},t.removeQueries=function(n,s){var i=jr(n,s),a=i[0],l=this.queryCache;ge.batch(function(){l.findAll(a).forEach(function(c){l.remove(c)})})},t.resetQueries=function(n,s,i){var a=this,l=jr(n,s,i),c=l[0],u=l[1],h=this.queryCache,m=re({},c,{active:!0});return ge.batch(function(){return h.findAll(c).forEach(function(p){p.reset()}),a.refetchQueries(m,u)})},t.cancelQueries=function(n,s,i){var a=this,l=jr(n,s,i),c=l[0],u=l[1],h=u===void 0?{}:u;typeof h.revert>"u"&&(h.revert=!0);var m=ge.batch(function(){return a.queryCache.findAll(c).map(function(p){return p.cancel(h)})});return Promise.all(m).then(qe).catch(qe)},t.invalidateQueries=function(n,s,i){var a,l,c,u=this,h=jr(n,s,i),m=h[0],p=h[1],v=re({},m,{active:(a=(l=m.refetchActive)!=null?l:m.active)!=null?a:!0,inactive:(c=m.refetchInactive)!=null?c:!1});return ge.batch(function(){return u.queryCache.findAll(m).forEach(function(b){b.invalidate()}),u.refetchQueries(v,p)})},t.refetchQueries=function(n,s,i){var a=this,l=jr(n,s,i),c=l[0],u=l[1],h=ge.batch(function(){return a.queryCache.findAll(c).map(function(p){return p.fetch(void 0,re({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),m=Promise.all(h).then(qe);return u!=null&&u.throwOnError||(m=m.catch(qe)),m},t.fetchQuery=function(n,s,i){var a=Ea(n,s,i),l=this.defaultQueryOptions(a);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},t.prefetchQuery=function(n,s,i){return this.fetchQuery(n,s,i).then(qe).catch(qe)},t.fetchInfiniteQuery=function(n,s,i){var a=Ea(n,s,i);return a.behavior=D_(),this.fetchQuery(a)},t.prefetchInfiniteQuery=function(n,s,i){return this.fetchInfiniteQuery(n,s,i).then(qe).catch(qe)},t.cancelMutations=function(){var n=this,s=ge.batch(function(){return n.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(qe).catch(qe)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(n){this.defaultOptions=n},t.setQueryDefaults=function(n,s){var i=this.queryDefaults.find(function(a){return cn(n)===cn(a.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:n,defaultOptions:s})},t.getQueryDefaults=function(n){var s;return n?(s=this.queryDefaults.find(function(i){return oo(n,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},t.setMutationDefaults=function(n,s){var i=this.mutationDefaults.find(function(a){return cn(n)===cn(a.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:n,defaultOptions:s})},t.getMutationDefaults=function(n){var s;return n?(s=this.mutationDefaults.find(function(i){return oo(n,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},t.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var s=re({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=dd(s.queryKey,s)),s},t.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},t.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:re({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),q_=function(e){ps(t,e);function t(n,s){var i;return i=e.call(this)||this,i.client=n,i.options=s,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(s),i}var r=t.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),kf(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.listeners.length||this.destroy()},r.shouldFetchOnReconnect=function(){return Vc(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return Vc(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},r.setOptions=function(s,i){var a=this.options,l=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var c=this.hasListeners();c&&Ef(this.currentQuery,l,this.options,a)&&this.executeFetch(),this.updateResult(i),c&&(this.currentQuery!==l||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==l||this.options.enabled!==a.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(s){var i=this.client.defaultQueryObserverOptions(s),a=this.client.getQueryCache().build(this.client,i);return this.createResult(a,i)},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(s,i){var a=this,l={},c=function(h){a.trackedProps.includes(h)||a.trackedProps.push(h)};return Object.keys(s).forEach(function(u){Object.defineProperty(l,u,{configurable:!1,enumerable:!0,get:function(){return c(u),s[u]}})}),(i.useErrorBoundary||i.suspense)&&c("error"),l},r.getNextResult=function(s){var i=this;return new Promise(function(a,l){var c=i.subscribe(function(u){u.isFetching||(c(),u.isError&&(s!=null&&s.throwOnError)?l(u.error):a(u))})})},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(s){return this.fetch(re({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},r.fetchOptimistic=function(s){var i=this,a=this.client.defaultQueryObserverOptions(s),l=this.client.getQueryCache().build(this.client,a);return l.fetch().then(function(){return i.createResult(l,a)})},r.fetch=function(s){var i=this;return this.executeFetch(s).then(function(){return i.updateResult(),i.currentResult})},r.executeFetch=function(s){this.updateQuery();var i=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(i=i.catch(qe)),i},r.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(io||this.currentResult.isStale||!Hc(this.options.staleTime))){var i=Q0(this.currentResult.dataUpdatedAt,this.options.staleTime),a=i+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},a)}},r.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},r.updateRefetchInterval=function(s){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(io||this.options.enabled===!1||!Hc(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||Qs.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(s,i){var a=this.currentQuery,l=this.options,c=this.currentResult,u=this.currentResultState,h=this.currentResultOptions,m=s!==a,p=m?s.state:this.currentQueryInitialState,v=m?this.currentResult:this.previousQueryResult,b=s.state,j=b.dataUpdatedAt,_=b.error,f=b.errorUpdatedAt,y=b.isFetching,w=b.status,S=!1,E=!1,R;if(i.optimisticResults){var P=this.hasListeners(),C=!P&&kf(s,i),I=P&&Ef(s,a,i,l);(C||I)&&(y=!0,j||(w="loading"))}if(i.keepPreviousData&&!b.dataUpdateCount&&(v!=null&&v.isSuccess)&&w!=="error")R=v.data,j=v.dataUpdatedAt,w=v.status,S=!0;else if(i.select&&typeof b.data<"u")if(c&&b.data===(u==null?void 0:u.data)&&i.select===this.selectFn)R=this.selectResult;else try{this.selectFn=i.select,R=i.select(b.data),i.structuralSharing!==!1&&(R=lo(c==null?void 0:c.data,R)),this.selectResult=R,this.selectError=null}catch(D){uo().error(D),this.selectError=D}else R=b.data;if(typeof i.placeholderData<"u"&&typeof R>"u"&&(w==="loading"||w==="idle")){var T;if(c!=null&&c.isPlaceholderData&&i.placeholderData===(h==null?void 0:h.placeholderData))T=c.data;else if(T=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof T<"u")try{T=i.select(T),i.structuralSharing!==!1&&(T=lo(c==null?void 0:c.data,T)),this.selectError=null}catch(D){uo().error(D),this.selectError=D}typeof T<"u"&&(w="success",R=T,E=!0)}this.selectError&&(_=this.selectError,R=this.selectResult,f=Date.now(),w="error");var U={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:R,dataUpdatedAt:j,error:_,errorUpdatedAt:f,failureCount:b.fetchFailureCount,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:y,isRefetching:y&&w!=="loading",isLoadingError:w==="error"&&b.dataUpdatedAt===0,isPlaceholderData:E,isPreviousData:S,isRefetchError:w==="error"&&b.dataUpdatedAt!==0,isStale:hd(s,i),refetch:this.refetch,remove:this.remove};return U},r.shouldNotifyListeners=function(s,i){if(!i)return!0;var a=this.options,l=a.notifyOnChangeProps,c=a.notifyOnChangePropsExclusions;if(!l&&!c||l==="tracked"&&!this.trackedProps.length)return!0;var u=l==="tracked"?this.trackedProps:l;return Object.keys(s).some(function(h){var m=h,p=s[m]!==i[m],v=u==null?void 0:u.some(function(j){return j===h}),b=c==null?void 0:c.some(function(j){return j===h});return p&&!b&&(!u||v)})},r.updateResult=function(s){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!C_(this.currentResult,i)){var a={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(a.listeners=!0),this.notify(re({},a,s))}},r.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var i=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),s.addObserver(this))}},r.onQueryUpdate=function(s){var i={};s.type==="success"?i.onSuccess=!0:s.type==="error"&&!Oa(s.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},r.notify=function(s){var i=this;ge.batch(function(){s.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):s.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),s.listeners&&i.listeners.forEach(function(a){a(i.currentResult)}),s.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},t}(gs);function H_(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kf(e,t){return H_(e,t)||e.state.dataUpdatedAt>0&&Vc(e,t,t.refetchOnMount)}function Vc(e,t,r){if(t.enabled!==!1){var n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&hd(e,t)}return!1}function Ef(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&hd(e,r)}function hd(e,t){return e.isStaleByTime(t.staleTime)}var W_=function(e){ps(t,e);function t(n,s){var i;return i=e.call(this)||this,i.client=n,i.setOptions(s),i.bindMethods(),i.updateResult(),i}var r=t.prototype;return r.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},r.setOptions=function(s){this.options=this.client.defaultMutationOptions(s)},r.onUnsubscribe=function(){if(!this.listeners.length){var s;(s=this.currentMutation)==null||s.removeObserver(this)}},r.onMutationUpdate=function(s){this.updateResult();var i={listeners:!0};s.type==="success"?i.onSuccess=!0:s.type==="error"&&(i.onError=!0),this.notify(i)},r.getCurrentResult=function(){return this.currentResult},r.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},r.mutate=function(s,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,re({},this.options,{variables:typeof s<"u"?s:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},r.updateResult=function(){var s=this.currentMutation?this.currentMutation.state:eg(),i=re({},s,{isLoading:s.status==="loading",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},r.notify=function(s){var i=this;ge.batch(function(){i.mutateOptions&&(s.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):s.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),s.listeners&&i.listeners.forEach(function(a){a(i.currentResult)})})},t}(gs),V_=xb.unstable_batchedUpdates;ge.setBatchNotifyFunction(V_);var K_=console;L_(K_);var Cf=_e.createContext(void 0),tg=_e.createContext(!1);function rg(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Cf),window.ReactQueryClientContext):Cf}var ki=function(){var t=_e.useContext(rg(_e.useContext(tg)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Q_=function(t){var r=t.client,n=t.contextSharing,s=n===void 0?!1:n,i=t.children;_e.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var a=rg(s);return _e.createElement(tg.Provider,{value:s},_e.createElement(a.Provider,{value:r},i))};function J_(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var G_=_e.createContext(J_()),X_=function(){return _e.useContext(G_)};function ng(e,t,r){return typeof t=="function"?t.apply(void 0,r):typeof t=="boolean"?t:!!e}function Pr(e,t,r){var n=_e.useRef(!1),s=_e.useState(0),i=s[1],a=N_(e,t,r),l=ki(),c=_e.useRef();c.current?c.current.setOptions(a):c.current=new W_(l,a);var u=c.current.getCurrentResult();_e.useEffect(function(){n.current=!0;var m=c.current.subscribe(ge.batchCalls(function(){n.current&&i(function(p){return p+1})}));return function(){n.current=!1,m()}},[]);var h=_e.useCallback(function(m,p){c.current.mutate(m,p).catch(qe)},[]);if(u.error&&ng(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return re({},u,{mutate:h,mutateAsync:u.mutate})}function Y_(e,t){var r=_e.useRef(!1),n=_e.useState(0),s=n[1],i=ki(),a=X_(),l=i.defaultQueryObserverOptions(e);l.optimisticResults=!0,l.onError&&(l.onError=ge.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=ge.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=ge.batchCalls(l.onSettled)),l.suspense&&(typeof l.staleTime!="number"&&(l.staleTime=1e3),l.cacheTime===0&&(l.cacheTime=1)),(l.suspense||l.useErrorBoundary)&&(a.isReset()||(l.retryOnMount=!1));var c=_e.useState(function(){return new t(i,l)}),u=c[0],h=u.getOptimisticResult(l);if(_e.useEffect(function(){r.current=!0,a.clearReset();var m=u.subscribe(ge.batchCalls(function(){r.current&&s(function(p){return p+1})}));return u.updateResult(),function(){r.current=!1,m()}},[a,u]),_e.useEffect(function(){u.setOptions(l,{listeners:!1})},[l,u]),l.suspense&&h.isLoading)throw u.fetchOptimistic(l).then(function(m){var p=m.data;l.onSuccess==null||l.onSuccess(p),l.onSettled==null||l.onSettled(p,null)}).catch(function(m){a.clearReset(),l.onError==null||l.onError(m),l.onSettled==null||l.onSettled(void 0,m)});if(h.isError&&!a.isReset()&&!h.isFetching&&ng(l.suspense,l.useErrorBoundary,[h.error,u.getCurrentQuery()]))throw h.error;return l.notifyOnChangeProps==="tracked"&&(h=u.trackResult(h,l)),h}function wt(e,t,r){var n=Ea(e,t,r);return Y_(n,q_)}let Z_={data:""},ej=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Z_},tj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rj=/\/\*[^]*?\*\/|  +/g,Of=/\n+/g,kr=(e,t)=>{let r="",n="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?kr(a,i):i+"{"+kr(a,i[1]=="k"?"":t)+"}":typeof a=="object"?n+=kr(a,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=kr.p?kr.p(i,a):i+":"+a+";")}return r+(t&&s?t+"{"+s+"}":s)+n},nr={},sg=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+sg(e[r]);return t}return e},nj=(e,t,r,n,s)=>{let i=sg(e),a=nr[i]||(nr[i]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(i));if(!nr[a]){let c=i!==e?e:(u=>{let h,m,p=[{}];for(;h=tj.exec(u.replace(rj,""));)h[4]?p.shift():h[3]?(m=h[3].replace(Of," ").trim(),p.unshift(p[0][m]=p[0][m]||{})):p[0][h[1]]=h[2].replace(Of," ").trim();return p[0]})(e);nr[a]=kr(s?{["@keyframes "+a]:c}:c,r?"":"."+a)}let l=r&&nr.g?nr.g:null;return r&&(nr.g=nr[a]),((c,u,h,m)=>{m?u.data=u.data.replace(m,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(nr[a],t,n,l),a},sj=(e,t,r)=>e.reduce((n,s,i)=>{let a=t[i];if(a&&a.call){let l=a(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":kr(l,""):l===!1?"":l}return n+s+(a??"")},"");function Mo(e){let t=this||{},r=e.call?e(t.p):e;return nj(r.unshift?r.raw?sj(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,ej(t.target),t.g,t.o,t.k)}let ig,Kc,Qc;Mo.bind({g:1});let pr=Mo.bind({k:1});function ij(e,t,r,n){kr.p=t,ig=e,Kc=r,Qc=n}function Kr(e,t){let r=this||{};return function(){let n=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;r.p=Object.assign({theme:Kc&&Kc()},l),r.o=/ *go\d+/.test(c),l.className=Mo.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Qc&&u[0]&&Qc(l),ig(u,l)}return s}}var aj=e=>typeof e=="function",ho=(e,t)=>aj(e)?e(t):e,oj=(()=>{let e=0;return()=>(++e).toString()})(),ag=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),lj=20,fd="default",og=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return og(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Ra=[],lg={toasts:[],pausedAt:void 0,settings:{toastLimit:lj}},Gt={},cg=(e,t=fd)=>{Gt[t]=og(Gt[t]||lg,e),Ra.forEach(([r,n])=>{r===t&&n(Gt[t])})},ug=e=>Object.keys(Gt).forEach(t=>cg(e,t)),cj=e=>Object.keys(Gt).find(t=>Gt[t].toasts.some(r=>r.id===e)),Do=(e=fd)=>t=>{cg(t,e)},uj={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dj=(e={},t=fd)=>{let[r,n]=N.useState(Gt[t]||lg),s=N.useRef(Gt[t]);N.useEffect(()=>(s.current!==Gt[t]&&n(Gt[t]),Ra.push([t,n]),()=>{let a=Ra.findIndex(([l])=>l===t);a>-1&&Ra.splice(a,1)}),[t]);let i=r.toasts.map(a=>{var l,c,u;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((c=e[a.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||uj[a.type],style:{...e.style,...(u=e[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:i}},hj=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||oj()}),Ei=e=>(t,r)=>{let n=hj(t,e,r);return Do(n.toasterId||cj(n.id))({type:2,toast:n}),n.id},Ue=(e,t)=>Ei("blank")(e,t);Ue.error=Ei("error");Ue.success=Ei("success");Ue.loading=Ei("loading");Ue.custom=Ei("custom");Ue.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Do(t)(r):ug(r)};Ue.dismissAll=e=>Ue.dismiss(void 0,e);Ue.remove=(e,t)=>{let r={type:4,toastId:e};t?Do(t)(r):ug(r)};Ue.removeAll=e=>Ue.remove(void 0,e);Ue.promise=(e,t,r)=>{let n=Ue.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?ho(t.success,s):void 0;return i?Ue.success(i,{id:n,...r,...r==null?void 0:r.success}):Ue.dismiss(n),s}).catch(s=>{let i=t.error?ho(t.error,s):void 0;i?Ue.error(i,{id:n,...r,...r==null?void 0:r.error}):Ue.dismiss(n)}),e};var fj=1e3,mj=(e,t="default")=>{let{toasts:r,pausedAt:n}=dj(e,t),s=N.useRef(new Map).current,i=N.useCallback((m,p=fj)=>{if(s.has(m))return;let v=setTimeout(()=>{s.delete(m),a({type:4,toastId:m})},p);s.set(m,v)},[]);N.useEffect(()=>{if(n)return;let m=Date.now(),p=r.map(v=>{if(v.duration===1/0)return;let b=(v.duration||0)+v.pauseDuration-(m-v.createdAt);if(b<0){v.visible&&Ue.dismiss(v.id);return}return setTimeout(()=>Ue.dismiss(v.id,t),b)});return()=>{p.forEach(v=>v&&clearTimeout(v))}},[r,n,t]);let a=N.useCallback(Do(t),[t]),l=N.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=N.useCallback((m,p)=>{a({type:1,toast:{id:m,height:p}})},[a]),u=N.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),h=N.useCallback((m,p)=>{let{reverseOrder:v=!1,gutter:b=8,defaultPosition:j}=p||{},_=r.filter(w=>(w.position||j)===(m.position||j)&&w.height),f=_.findIndex(w=>w.id===m.id),y=_.filter((w,S)=>S<f&&w.visible).length;return _.filter(w=>w.visible).slice(...v?[y+1]:[0,y]).reduce((w,S)=>w+(S.height||0)+b,0)},[r]);return N.useEffect(()=>{r.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let p=s.get(m.id);p&&(clearTimeout(p),s.delete(m.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:h}}},pj=pr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gj=pr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vj=pr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yj=Kr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gj} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vj} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,xj=pr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wj=Kr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${xj} 1s linear infinite;
`,bj=pr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_j=pr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jj=Kr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_j} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Sj=Kr("div")`
  position: absolute;
`,Nj=Kr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kj=pr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ej=Kr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kj} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Cj=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(Ej,null,t):t:r==="blank"?null:N.createElement(Nj,null,N.createElement(wj,{...n}),r!=="loading"&&N.createElement(Sj,null,r==="error"?N.createElement(yj,{...n}):N.createElement(jj,{...n})))},Oj=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Rj=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Pj="0%{opacity:0;} 100%{opacity:1;}",Tj="0%{opacity:1;} 100%{opacity:0;}",Aj=Kr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Lj=Kr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ij=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=ag()?[Pj,Tj]:[Oj(r),Rj(r)];return{animation:t?`${pr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$j=N.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?Ij(e.position||t||"top-center",e.visible):{opacity:0},i=N.createElement(Cj,{toast:e}),a=N.createElement(Lj,{...e.ariaProps},ho(e.message,e));return N.createElement(Aj,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:a}):N.createElement(N.Fragment,null,i,a))});ij(N.createElement);var Uj=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=N.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:i,className:t,style:r},s)},Fj=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ag()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},Mj=Mo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ra=16,Dj=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:u}=mj(r,i);return N.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:ra,left:ra,right:ra,bottom:ra,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let m=h.position||t,p=u.calculateOffset(h,{reverseOrder:e,gutter:n,defaultPosition:t}),v=Fj(m,p);return N.createElement(Uj,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?Mj:"",style:v},h.type==="custom"?ho(h.message,h):s?s(h):N.createElement($j,{toast:h,position:m}))}))},Q=Ue,Jc=function(e,t){return Jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Jc(e,t)};function dg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Jc(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var fo=function(){return fo=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fo.apply(this,arguments)};function vs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function hg(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(a=e[l])&&(i=(s<3?a(i):s>3?a(t,r,i):a(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function fg(e,t){return function(r,n){t(r,n,e)}}function mg(e,t,r,n,s,i){function a(f){if(f!==void 0&&typeof f!="function")throw new TypeError("Function expected");return f}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,p=!1,v=r.length-1;v>=0;v--){var b={};for(var j in n)b[j]=j==="access"?{}:n[j];for(var j in n.access)b.access[j]=n.access[j];b.addInitializer=function(f){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(f||null))};var _=(0,r[v])(l==="accessor"?{get:h.get,set:h.set}:h[c],b);if(l==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(m=a(_.get))&&(h.get=m),(m=a(_.set))&&(h.set=m),(m=a(_.init))&&s.unshift(m)}else(m=a(_))&&(l==="field"?s.unshift(m):h[c]=m)}u&&Object.defineProperty(u,n.name,h),p=!0}function pg(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function gg(e){return typeof e=="symbol"?e:"".concat(e)}function vg(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function yg(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function H(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(m){a(m)}}function c(h){try{u(n.throw(h))}catch(m){a(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function xg(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Bo=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function wg(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Bo(t,e,r)}function mo(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function md(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],a;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){a={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function bg(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(md(arguments[t]));return e}function _g(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,s++)n[s]=i[a];return n}function jg(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function as(e){return this instanceof as?(this.v=e,this):new as(e)}function Sg(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(v){return function(b){return Promise.resolve(b).then(v,m)}}function l(v,b){n[v]&&(s[v]=function(j){return new Promise(function(_,f){i.push([v,j,_,f])>1||c(v,j)})},b&&(s[v]=b(s[v])))}function c(v,b){try{u(n[v](b))}catch(j){p(i[0][3],j)}}function u(v){v.value instanceof as?Promise.resolve(v.value.v).then(h,m):p(i[0][2],v)}function h(v){c("next",v)}function m(v){c("throw",v)}function p(v,b){v(b),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Ng(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(a){return(r=!r)?{value:as(e[s](a)),done:!1}:i?i(a):a}:i}}function kg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof mo=="function"?mo(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(a){return new Promise(function(l,c){a=e[i](a),s(l,c,a.done,a.value)})}}function s(i,a,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},a)}}function Eg(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Bj=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Gc=function(e){return Gc=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Gc(e)};function Cg(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Gc(e),n=0;n<r.length;n++)r[n]!=="default"&&Bo(t,e,r[n]);return Bj(t,e),t}function Og(e){return e&&e.__esModule?e:{default:e}}function Rg(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Pg(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Tg(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Ag(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var zj=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Lg(e){function t(i){e.error=e.hasError?new zj(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(a){return t(a),s()})}else n|=1}catch(a){t(a)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Ig(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,a){return n?t?".jsx":".js":s&&(!i||!a)?r:s+i+"."+a.toLowerCase()+"js"}):e}const qj={__extends:dg,__assign:fo,__rest:vs,__decorate:hg,__param:fg,__esDecorate:mg,__runInitializers:pg,__propKey:gg,__setFunctionName:vg,__metadata:yg,__awaiter:H,__generator:xg,__createBinding:Bo,__exportStar:wg,__values:mo,__read:md,__spread:bg,__spreadArrays:_g,__spreadArray:jg,__await:as,__asyncGenerator:Sg,__asyncDelegator:Ng,__asyncValues:kg,__makeTemplateObject:Eg,__importStar:Cg,__importDefault:Og,__classPrivateFieldGet:Rg,__classPrivateFieldSet:Pg,__classPrivateFieldIn:Tg,__addDisposableResource:Ag,__disposeResources:Lg,__rewriteRelativeImportExtension:Ig},Hj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ag,get __assign(){return fo},__asyncDelegator:Ng,__asyncGenerator:Sg,__asyncValues:kg,__await:as,__awaiter:H,__classPrivateFieldGet:Rg,__classPrivateFieldIn:Tg,__classPrivateFieldSet:Pg,__createBinding:Bo,__decorate:hg,__disposeResources:Lg,__esDecorate:mg,__exportStar:wg,__extends:dg,__generator:xg,__importDefault:Og,__importStar:Cg,__makeTemplateObject:Eg,__metadata:yg,__param:fg,__propKey:gg,__read:md,__rest:vs,__rewriteRelativeImportExtension:Ig,__runInitializers:pg,__setFunctionName:vg,__spread:bg,__spreadArray:jg,__spreadArrays:_g,__values:mo,default:qj},Symbol.toStringTag,{value:"Module"})),Wj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class pd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Rf extends pd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pf extends pd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tf extends pd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xc||(Xc={}));class Vj{constructor(t,{headers:r={},customFetch:n,region:s=Xc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Wj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return H(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:a,body:l,signal:c}=n;let u={},{region:h}=n;h||(h=this.region);const m=new URL(`${this.url}/${r}`);h&&h!=="any"&&(u["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let p;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(u["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(u["Content-Type"]="application/json",p=JSON.stringify(l)):p=l;const v=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:p,signal:c}).catch(f=>{throw f.name==="AbortError"?f:new Rf(f)}),b=v.headers.get("x-relay-error");if(b&&b==="true")throw new Pf(v);if(!v.ok)throw new Tf(v);let j=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return j==="application/json"?_=yield v.json():j==="application/octet-stream"||j==="application/pdf"?_=yield v.blob():j==="text/event-stream"?_=v:j==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Rf(i)}:{data:null,error:i,response:i instanceof Tf||i instanceof Pf?i.context:void 0}}})}}var tt={};const ys=Vx(Hj);var na={},sa={},ia={},aa={},oa={},la={},Af;function $g(){if(Af)return la;Af=1,Object.defineProperty(la,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return la.default=e,la}var Lf;function Ug(){if(Lf)return oa;Lf=1,Object.defineProperty(oa,"__esModule",{value:!0});const t=ys.__importDefault($g());class r{constructor(s){var i,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,m,p;let v=null,b=null,j=null,_=c.status,f=c.statusText;if(c.ok){if(this.method!=="HEAD"){const E=await c.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?b=E:b=JSON.parse(E))}const w=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(m=c.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&S&&S.length>1&&(j=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,j=null,_=406,f="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const w=await c.text();try{v=JSON.parse(w),Array.isArray(v)&&c.status===404&&(b=[],v=null,_=200,f="OK")}catch{c.status===404&&w===""?(_=204,f="No Content"):v={message:w}}if(v&&this.isMaybeSingle&&(!((p=v==null?void 0:v.details)===null||p===void 0)&&p.includes("0 rows"))&&(v=null,_=200,f="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:b,count:j,status:_,statusText:f}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,m;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=c==null?void 0:c.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return oa.default=r,oa}var If;function Fg(){if(If)return aa;If=1,Object.defineProperty(aa,"__esModule",{value:!0});const t=ys.__importDefault(Ug());class r extends t.default{select(s){let i=!1;const a=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:a,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${s}.${i?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:a,referencedTable:l=a}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:a=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var h;const m=[s?"analyze":null,i?"verbose":null,a?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return aa.default=r,aa}var $f;function gd(){if($f)return ia;$f=1,Object.defineProperty(ia,"__esModule",{value:!0});const t=ys.__importDefault(Fg()),r=new RegExp("[,()]");class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${h}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return ia.default=n,ia}var Uf;function Mg(){if(Uf)return sa;Uf=1,Object.defineProperty(sa,"__esModule",{value:!0});const t=ys.__importDefault(gd());class r{constructor(s,{headers:i={},schema:a,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=a,this.fetch=l}select(s,i){const{head:a=!1,count:l}=i??{},c=a?"HEAD":"GET";let u=!1;const h=(s??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:a=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(u.length>0){const h=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:a=!1,count:l,defaultToNull:c=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(m.length>0){const p=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var a;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var i;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return sa.default=r,sa}var Ff;function Kj(){if(Ff)return na;Ff=1,Object.defineProperty(na,"__esModule",{value:!0});const e=ys,t=e.__importDefault(Mg()),r=e.__importDefault(gd());class n{constructor(i,{headers:a={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(a),this.schemaName=l,this.fetch=c}from(i){const a=new URL(`${this.url}/${i}`);return new t.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,a={},{head:l=!1,get:c=!1,count:u}={}){var h;let m;const p=new URL(`${this.url}/rpc/${i}`);let v;l||c?(m=l?"HEAD":"GET",Object.entries(a).filter(([j,_])=>_!==void 0).map(([j,_])=>[j,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([j,_])=>{p.searchParams.append(j,_)})):(m="POST",v=a);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new r.default({method:m,url:p,headers:b,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return na.default=n,na}Object.defineProperty(tt,"__esModule",{value:!0});var Dg=tt.PostgrestError=Gg=tt.PostgrestBuilder=Qg=tt.PostgrestTransformBuilder=Vg=tt.PostgrestFilterBuilder=Hg=tt.PostgrestQueryBuilder=zg=tt.PostgrestClient=void 0;const xs=ys,Bg=xs.__importDefault(Kj());var zg=tt.PostgrestClient=Bg.default;const qg=xs.__importDefault(Mg());var Hg=tt.PostgrestQueryBuilder=qg.default;const Wg=xs.__importDefault(gd());var Vg=tt.PostgrestFilterBuilder=Wg.default;const Kg=xs.__importDefault(Fg());var Qg=tt.PostgrestTransformBuilder=Kg.default;const Jg=xs.__importDefault(Ug());var Gg=tt.PostgrestBuilder=Jg.default;const Xg=xs.__importDefault($g());Dg=tt.PostgrestError=Xg.default;var Yg=tt.default={PostgrestClient:Bg.default,PostgrestQueryBuilder:qg.default,PostgrestFilterBuilder:Wg.default,PostgrestTransformBuilder:Kg.default,PostgrestBuilder:Jg.default,PostgrestError:Xg.default};const Qj=_m({__proto__:null,get PostgrestBuilder(){return Gg},get PostgrestClient(){return zg},get PostgrestError(){return Dg},get PostgrestFilterBuilder(){return Vg},get PostgrestQueryBuilder(){return Hg},get PostgrestTransformBuilder(){return Qg},default:Yg},[tt]),{PostgrestClient:Jj,PostgrestQueryBuilder:P4,PostgrestFilterBuilder:T4,PostgrestTransformBuilder:A4,PostgrestBuilder:L4,PostgrestError:I4}=Yg||Qj;class Gj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Xj="2.80.0",Yj=`realtime-js/${Xj}`,Zj="1.0.0",Yc=1e4,e2=1e3,t2=100;var Js;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Js||(Js={}));var Ie;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ie||(Ie={}));var Mt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mt||(Mt={}));var Zc;(function(e){e.websocket="websocket"})(Zc||(Zc={}));var nn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(nn||(nn={}));class r2{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Zg{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const Mf=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=n2(a,e,t,s),i),{}):{}},n2=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?ev(i,a):eu(a)},ev=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return o2(t,r)}switch(e){case de.bool:return s2(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return i2(t);case de.json:case de.jsonb:return a2(t);case de.timestamp:return l2(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return eu(t);default:return eu(t)}},eu=e=>e,s2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},i2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},a2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},o2=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>ev(t,l))}return e},l2=e=>typeof e=="string"?e.replace(" ","T"):e,tv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ll{constructor(t,r,n={},s=Yc){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Df;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Df||(Df={}));class Gs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gs.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Gs.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gs.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,h)=>{a[u]||(c[u]=h)}),this.map(a,(u,h)=>{const m=i[u];if(m){const p=h.map(_=>_.presence_ref),v=m.map(_=>_.presence_ref),b=h.filter(_=>v.indexOf(_.presence_ref)<0),j=m.filter(_=>p.indexOf(_.presence_ref)<0);b.length>0&&(l[u]=b),j.length>0&&(c[u]=j)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const m=t[l].map(v=>v.presence_ref),p=h.filter(v=>m.indexOf(v.presence_ref)<0);t[l].unshift(...p)}n(l,h,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(m=>m.presence_ref);u=u.filter(m=>h.indexOf(m.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bf||(Bf={}));var Xs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Xs||(Xs={}));var ir;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ir||(ir={}));class vd{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ll(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new Zg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new Gs(this),this.broadcastEndpointURL=tv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Xs.PRESENCE]&&this.bindings[Xs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,m={},p={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(ir.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(ir.CLOSED)),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var b;if(this.socket.setAuth(),v===void 0){t==null||t(ir.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,_=(b=j==null?void 0:j.length)!==null&&b!==void 0?b:0,f=[];for(let y=0;y<_;y++){const w=j[y],{filter:{event:S,schema:E,table:R,filter:P}}=w,C=v&&v[y];if(C&&C.event===S&&C.schema===E&&C.table===R&&C.filter===P)f.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Ie.errored,t==null||t(ir.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t(ir.SUBSCRIBED);return}}).receive("error",v=>{this.state=Ie.errored,t==null||t(ir.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ir.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ie.joined&&t===Xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ie.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ll(this,Mt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ll(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>t2){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=Mt;if(n&&[l,c,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var b,j,_;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(j=v.filter)===null||j===void 0?void 0:j.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(v=>v.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var b,j,_,f,y,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const S=v.id,E=(b=v.filter)===null||b===void 0?void 0:b.event;return S&&((j=r.ids)===null||j===void 0?void 0:j.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const S=(y=(f=v==null?void 0:v.filter)===null||f===void 0?void 0:f.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:j,table:_,commit_timestamp:f,type:y,errors:w}=b;p=Object.assign(Object.assign({},{schema:j,table:_,commit_timestamp:f,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(b))}v.callback(p,n)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vd.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mt.close,{},t)}_onError(t){this._on(Mt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Mf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Mf(t.columns,t.old_record)),r}}const Il=()=>{},ca={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},c2=[1e3,2e3,5e3,1e4],u2=1e4,d2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h2{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yc,this.transport=null,this.heartbeatIntervalMs=ca.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Il,this.ref=0,this.reconnectTimer=null,this.logger=Il,this.conn=null,this.sendBuffer=[],this.serializer=new r2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Zc.websocket}`,this.httpEndpoint=tv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zj}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Js.connecting:return nn.Connecting;case Js.open:return nn.Open;case Js.closing:return nn.Closing;default:return nn.Closed}}isConnected(){return this.connectionState()===nn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new vd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(e2,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ca.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([d2],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Yj};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Mt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Zg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ca.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,c,u,h;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Yc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ca.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Il,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>c2[m-1]||u2,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(m,p)=>p(JSON.stringify(m)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class yd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class f2 extends yd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tu extends yd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const xd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),m2=()=>Response,ru=e=>{if(Array.isArray(e))return e.map(r=>ru(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ru(n)}),t},p2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$l=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},g2=(e,t,r)=>H(void 0,void 0,void 0,function*(){const n=yield m2();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new f2($l(s),i,a))}).catch(s=>{t(new tu($l(s),s))}):t(new tu($l(e),e))}),v2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(p2(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ci(e,t,r,n,s,i){return H(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,v2(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>g2(c,l,n))})})}function vi(e,t,r,n){return H(this,void 0,void 0,function*(){return Ci(e,"GET",t,r,n)})}function Ut(e,t,r,n,s){return H(this,void 0,void 0,function*(){return Ci(e,"POST",t,n,s,r)})}function nu(e,t,r,n,s){return H(this,void 0,void 0,function*(){return Ci(e,"PUT",t,n,s,r)})}function y2(e,t,r,n){return H(this,void 0,void 0,function*(){return Ci(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wd(e,t,r,n,s){return H(this,void 0,void 0,function*(){return Ci(e,"DELETE",t,n,s,r)})}class x2{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return H(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}}var rv;class w2{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[rv]="BlobDownloadBuilder",this.promise=null}asStream(){return new x2(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return H(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}}rv=Symbol.toStringTag;const b2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _2{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=xd(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return H(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},zf),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),m=yield(t=="PUT"?nu:Ut)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(we(i))return{data:null,error:i};throw i}})}upload(t,r,n){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return H(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:zf.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const m=yield nu(this.fetch,l.toString(),c,{headers:h});return{data:{path:i,fullPath:m.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(we(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return H(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new yd("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}update(t,r,n){return H(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return H(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}copy(t,r,n){return H(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return H(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return H(this,void 0,void 0,function*(){try{const s=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>vi(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new w2(c,this.shouldThrowOnError)}info(t){return H(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ru(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}exists(t){return H(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield y2(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n)&&n instanceof tu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return H(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}list(t,r,n){return H(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},b2),r),{prefix:t||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}listV2(t,r){return H(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const nv="2.80.0",sv={"X-Client-Info":`storage-js/${nv}`};class j2{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sv),r),this.fetch=xd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return H(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield vi(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}getBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}createBucket(t){return H(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return H(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}emptyBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}deleteBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class S2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sv),r),this.fetch=xd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}listBuckets(t){return H(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield vi(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}deleteBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield wd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}}const bd={"X-Client-Info":`storage-js/${nv}`,"Content-Type":"application/json"};class iv extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ul extends iv{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N2 extends iv{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var qf;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(qf||(qf={}));const _d=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),k2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),E2=(e,t,r)=>H(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";t(new Ul(Hf(a),s,l))}).catch(()=>{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new Ul(l,s,a))});else{const a=s+"",l=i.statusText||`HTTP ${s} error`;t(new Ul(l,s,a))}}else t(new N2(Hf(e),e))}),C2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(k2(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function O2(e,t,r,n,s,i){return H(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,C2(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>E2(c,l,n))})})}function gt(e,t,r,n,s){return H(this,void 0,void 0,function*(){return O2(e,"POST",t,n,s,r)})}class R2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=_d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return H(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return H(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}listIndexes(t){return H(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return H(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}}class P2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=_d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return H(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}getVectors(t){return H(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listVectors(t){return H(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield gt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}queryVectors(t){return H(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return H(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}}class T2{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=_d(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return H(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}getBucket(t){return H(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}listBuckets(){return H(this,arguments,void 0,function*(t={}){try{return{data:yield gt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return H(this,void 0,void 0,function*(){try{return{data:(yield gt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}}class A2 extends T2{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new L2(this.url,this.headers,t,this.fetch)}}class L2 extends R2{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return H(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return H(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return H(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return H(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new I2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class I2 extends P2{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return H(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return H(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return H(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return H(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return H(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $2 extends j2{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new _2(this.url,this.headers,t,this.fetch)}get vectors(){return new A2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new S2(this.url+"/iceberg",this.headers,this.fetch)}}const U2="2.80.0";let Fs="";typeof Deno<"u"?Fs="deno":typeof document<"u"?Fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fs="react-native":Fs="node";const F2={"X-Client-Info":`supabase-js-${Fs}/${U2}`},M2={headers:F2},D2={schema:"public"},B2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},z2={},q2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),H2=()=>Headers,W2=(e,t,r)=>{const n=q2(r),s=H2();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))}};function V2(e){return e.endsWith("/")?e:e+"/"}function K2(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:h,global:m}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function Q2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(V2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const av="2.80.0",Tn=30*1e3,su=3,Fl=su*Tn,J2="http://localhost:9999",G2="supabase.auth.token",X2={"X-Client-Info":`gotrue-js/${av}`},iu="X-Supabase-Api-Version",ov={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z2=10*60*1e3;class yi extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eS extends yi{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tS(e){return W(e)&&e.name==="AuthApiError"}class sn extends yi{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Qr extends yi{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Lt extends Qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rS(e){return W(e)&&e.name==="AuthSessionMissingError"}class En extends Qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ua extends Qr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class da extends Qr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nS(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class Wf extends Qr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class au extends Qr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ml(e){return W(e)&&e.name==="AuthRetryableFetchError"}class Vf extends Qr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ou extends Qr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kf=` 	
\r=`.split(""),sS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kf.length;t+=1)e[Kf[t].charCodeAt(0)]=-2;for(let t=0;t<po.length;t+=1)e[po[t].charCodeAt(0)]=t;return e})();function Qf(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(po[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(po[n]),t.queuedBits-=6}}function lv(e,t,r){const n=sS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Jf(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{oS(a,n,r)};for(let a=0;a<e.length;a+=1)lv(e.charCodeAt(a),s,i);return t.join("")}function iS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function aS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}iS(n,t)}}function oS(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Yn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)lv(e.charCodeAt(s),r,n);return new Uint8Array(t)}function lS(e){const t=[];return aS(e,r=>t.push(r)),new Uint8Array(t)}function un(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Qf(s,r,n)),Qf(null,r,n),t.join("")}function cS(e){return Math.round(Date.now()/1e3)+e}function uS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",Yr={tested:!1,writable:!1},cv=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yr.tested)return Yr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yr.tested=!0,Yr.writable=!0}catch{Yr.tested=!0,Yr.writable=!1}return Yr.writable};function dS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const uv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",An=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wr=async(e,t)=>{await e.removeItem(t)};class zo{constructor(){this.promise=new zo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}zo.promiseConstructor=Promise;function Dl(e){const t=e.split(".");if(t.length!==3)throw new ou("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Y2.test(t[n]))throw new ou("JWT not in base64url format");return{header:JSON.parse(Jf(t[0])),payload:JSON.parse(Jf(t[1])),signature:Yn(t[2]),raw:{header:t[0],payload:t[1]}}}async function fS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mS(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function pS(e){return("0"+e.toString(16)).substr(-2)}function gS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,pS).join("")}async function vS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await vS(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cn(e,t,r=!1){const n=gS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await An(e,`${t}-code-verifier`,s);const i=await yS(n);return[i,n===i?"plain":"s256"]}const xS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function wS(e){const t=e.headers.get(iu);if(!t||!t.match(xS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _S(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function On(e){if(!jS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function SS(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Gf(e){return JSON.parse(JSON.stringify(e))}const rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NS=[502,503,504];async function Xf(e){var t;if(!hS(e))throw new au(rn(e),0);if(NS.includes(e.status))throw new au(rn(e),e.status);let r;try{r=await e.json()}catch(i){throw new sn(rn(i),i)}let n;const s=wS(e);if(s&&s.getTime()>=ov["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vf(rn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Lt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Vf(rn(r),e.status,r.weak_password.reasons);throw new eS(rn(r),e.status||500,n)}const kS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function J(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[iu]||(i[iu]=ov["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await ES(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ES(e,t,r,n,s,i){const a=kS(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new au(rn(c),0)}if(l.ok||await Xf(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Xf(c)}}function It(e){var t;let r=null;RS(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Yf(e){const t=It(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Er(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CS(e){return{data:e,error:null}}function OS(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=vs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Zf(e){return e}function RS(e){return e.access_token&&e.refresh_token&&e.expires_in}const zl=["global","local","others"];class PS{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=uv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zl[0]){if(zl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zl.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Er})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=vs(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:OS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Er})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zf});if(h.error)throw h.error;const m=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);u[`${_}Page`]=j}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){On(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Er})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){On(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Er})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){On(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Er})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){On(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(t){On(t.userId),On(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zf});if(h.error)throw h.error;const m=await h.json(),p=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);u[`${_}Page`]=j}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(W(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}}function em(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Rn={debug:!!(globalThis&&cv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TS extends dv{}async function AS(e,t,r){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function LS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function IS(e){return parseInt(e,16)}function $S(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function US(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:h,uri:m,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=hv(e.address),b=h?`${h}://${n}`:n,j=e.statement?`${e.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${v}

${j}`;let f=`URI: ${m}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(f+=`
Expiration Time: ${s.toISOString()}`),l&&(f+=`
Not Before: ${l.toISOString()}`),c&&(f+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}f+=y}return`${_}
${f}`}class Ae extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class go extends Ae{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function FS({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(fv(a)){if(i.rp.id!==a)return new Ae({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MS({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(fv(n)){if(r.rpId!==n)return new Ae({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class DS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const BS=new DS;function zS(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=vs(e,["challenge","user","excludeCredentials"]),i=Yn(t).buffer,a=Object.assign(Object.assign({},r),{id:Yn(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Yn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function qS(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=vs(e,["challenge","allowCredentials"]),s=Yn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Yn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function HS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:un(new Uint8Array(e.response.attestationObject)),clientDataJSON:un(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WS(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:un(new Uint8Array(s.authenticatorData)),clientDataJSON:un(new Uint8Array(s.clientDataJSON)),signature:un(new Uint8Array(s.signature)),userHandle:s.userHandle?un(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function tm(){var e,t;return!!(Je()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function VS(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new go("Browser returned unexpected credential type",t)}:{data:null,error:new go("Empty credential response",t)}}catch(t){return{data:null,error:FS({error:t,options:e})}}}async function KS(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new go("Browser returned unexpected credential type",t)}:{data:null,error:new go("Empty credential response",t)}}catch(t){return{data:null,error:MS({error:t,options:e})}}}const QS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},JS={userVerification:"preferred",hints:["security-key"]};function vo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=vo(l,a):n[i]=vo(a)}else n[i]=a}return n}function GS(e,t){return vo(QS,e,t||{})}function XS(e,t){return vo(JS,e,t||{})}class YS{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const c=s??BS.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=GS(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:m}=await VS({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const u=XS(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:m}=await KS(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(a){return W(a)?{data:null,error:a}:{data:null,error:new sn("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new yi("rpId is required for WebAuthn authentication")};try{if(!tm())return{data:null,error:new sn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(a){return W(a)?{data:null,error:a}:{data:null,error:new sn("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new yi("rpId is required for WebAuthn registration")};try{if(!tm())return{data:null,error:new sn("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return W(a)?{data:null,error:a}:{data:null,error:new sn("Unexpected error in register",a)}}}}LS();const ZS={url:J2,storageKey:G2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:X2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function rm(e,t,r){return await r()}const Pn={};class xi{get jwks(){var t,r;return(r=(t=Pn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Pn[this.storageKey]=Object.assign(Object.assign({},Pn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Pn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pn[this.storageKey]=Object.assign(Object.assign({},Pn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},ZS),t);if(this.storageKey=i.storageKey,this.instanceID=(r=xi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,xi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Je()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new PS({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=uv(i.fetch),this.lock=i.lock||rm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Je()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=AS:this.lock=rm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new YS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:cv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=em(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=em(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${av}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Je()&&(r=dS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Je()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nS(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?this._returnResult({error:r}):this._returnResult({error:new sn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:It}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:h,password:m,options:p}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Cn(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:h,password:m,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:b},xform:It})}else if("phone"in t){const{phone:h,password:m,options:p}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:It})}else throw new ua("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yf})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Yf})}else throw new ua("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new En;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,c,u,h,m,p;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:j,wallet:_,statement:f,options:y}=t;let w;if(Je())if(typeof _=="object")w=_;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")w=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=_}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),E=await w.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=hv(E[0]);let P=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const I=await w.request({method:"eth_chainId"});P=IS(I)}const C={domain:S.host,address:R,statement:f,uri:S.href,version:"1",chainId:P,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=y==null?void 0:y.signInWithEthereum)===null||h===void 0?void 0:h.resources};v=US(C),b=await w.request({method:"personal_sign",params:[$S(v),R]})}try{const{data:j,error:_}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:It});if(_)throw _;if(!j||!j.session||!j.user){const f=new En;return this._returnResult({data:{user:null,session:null},error:f})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:_})}catch(j){if(W(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var r,n,s,i,a,l,c,u,h,m,p,v;let b,j;if("message"in t)b=t.message,j=t.signature;else{const{chain:_,wallet:f,statement:y,options:w}=t;let S;if(Je())if(typeof f=="object")S=f;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))S=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=f}const E=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const R=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),y?{statement:y}:null));let P;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")P=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)P=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)b=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),j=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((m=(h=w==null?void 0:w.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...w.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const R=await S.signMessage(new TextEncoder().encode(b),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=R}}try{const{data:_,error:f}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:un(j)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:It});if(f)throw f;if(!_||!_.session||!_.user){const y=new En;return this._returnResult({data:{user:null,session:null},error:y})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:f})}catch(_){if(W(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Zr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:It});if(await wr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new En;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:It}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new En;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Cn(this.storage,this.storageKey));const{error:m}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new ua("You must provide either an email or phone number.")}catch(l){if(W(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:It});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Cn(this.storage,this.storageKey));const l=await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:CS});return this._returnResult(l)}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Lt;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(W(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new ua("You must provide either an email or phone number and a type")}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Fl:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Zr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Bl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=SS(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Er}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lt}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Er})})}catch(r){if(W(r))return rS(r)&&(await this._removeSession(),await wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Lt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Cn(this.storage,this.storageKey));const{data:u,error:h}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Er});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(W(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Dl(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(W(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Lt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Je())throw new da("No browser detected.");if(t.error||t.error_description||t.error_code)throw new da(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new da("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wf("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new da("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(l);let p=h+m;c&&(p=parseInt(c));const v=p-h;v*1e3<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const b=p-m;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,h);const{data:j,error:_}=await this._getUser(i);if(_)throw _;const f={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:m,expires_at:p,refresh_token:a,token_type:u,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:f,redirectType:t.type},error:null})}catch(n){if(W(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(tS(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=uS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Cn(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,h;const{data:m,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Je()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(W(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:h}=t,m=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:It}),{data:p,error:v}=m;return v?this._returnResult({data:{user:null,session:null},error:v}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new En}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:v}))}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mS(async s=>(s>0&&await fS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:It})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Ml(i)&&Date.now()+a-n<Tn})}catch(n){if(this._debug(r,"error",n),W(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Je()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Zr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Zr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await An(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Bl()}else if(s&&!s.user&&!s.user){const a=await Zr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await wr(this.storage,this.storageKey+"-user"),await An(this.storage,this.storageKey,s)):s.user=Bl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Fl;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Fl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Ml(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zo;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Lt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),W(i)){const a={data:null,error:i};return Ml(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await An(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Gf(s);await An(this.storage,this.storageKey,i)}else{const s=Gf(r);await An(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await wr(this.storage,this.storageKey),await wr(this.storage,this.storageKey+"-code-verifier"),await wr(this.storage,this.storageKey+"-user"),this.userStorage&&await wr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tn}ms, refresh threshold is ${su} ticks`),s<=su&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Cn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?HS(t.webauthn.credential_response):WS(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:zS(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:qS(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Dl(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Lt})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Lt});const a=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Je()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Lt});const a=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Je()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Z2>s)return n;const{data:i,error:a}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return this._returnResult({data:null,error:b});n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Dl(n);r!=null&&r.allowExpired||bS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const h=_S(s.alg),m=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,a,lS(`${l}.${c}`)))throw new ou("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}}xi.nextInstanceID={};const eN=xi;class tN extends eN{constructor(t){super(t)}}class rN{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const l=Q2(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:D2,realtime:z2,auth:Object.assign(Object.assign({},B2),{storageKey:c}),global:M2},h=K2(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=W2(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Jj(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new $2(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Vj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u,throwOnError:h},m,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tN({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new h2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nN=(e,t,r)=>new rN(e,t,r);function sN(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}sN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iN="https://rzwprzrwhcaaqcbponiw.supabase.co",aN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6d3ByenJ3aGNhYXFjYnBvbml3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1MjEyNjQsImV4cCI6MjA3ODA5NzI2NH0.GtcTByA3v7DTcbtIcUzOLJPSwFnlb2loq4Rr6XvSmfc",q=nN(iN,aN,{auth:{autoRefreshToken:!0,persistSession:!0,storageKey:"sb-auth-token",storage:typeof window<"u"?window.localStorage:void 0,detectSessionInUrl:!0,flowType:"pkce"}}),oN=async(e,t)=>{var r,n,s,i,a,l,c,u,h;if(!q){const m="Supabase  .    .env   frontend   ";return Q.error(m,{duration:6e3}),console.error(" Supabase Error:",m),console.error(" :   .env  frontend/   VITE_SUPABASE_URL  VITE_SUPABASE_ANON_KEY"),{user:null,error:{message:"Supabase not initialized"}}}try{const m=e.trim().toLowerCase();console.log(" Attempting login for:",m);const{data:p,error:v}=await q.auth.signInWithPassword({email:m,password:t});if(v){if(console.error(" Login error:",v),(r=v.message)!=null&&r.includes("Email not confirmed")||(n=v.message)!=null&&n.includes("email_not_confirmed")||(s=v.message)!=null&&s.includes("not confirmed")){console.warn(" Email not confirmed, attempting alternative methods...");try{const{error:_}=await q.auth.resend({type:"signup",email:m});if(!_){console.log(" Confirmation email resent successfully");const f="   .       .          .";return Q.error(f,{duration:7e3}),{user:null,error:{message:f,originalError:v,needsConfirmation:!0}}}}catch(_){console.error("Error resending confirmation:",_)}const j='   .           Supabase Dashboard (Authentication  Settings   "Enable email confirmations")';return Q.error(j,{duration:8e3}),{user:null,error:{message:j,originalError:v,needsConfirmation:!0}}}let b=v.message||"  ";return(i=v.message)!=null&&i.includes("Email logins are disabled")||(a=v.message)!=null&&a.includes("email logins disabled")||(l=v.message)!=null&&l.includes("disabled")?(b="    .   Email Provider  Supabase Dashboard (Authentication  Providers  Email  Enable)",Q.error(b,{duration:8e3}),{user:null,error:{message:b,originalError:v,needsConfig:!0}}):((c=v.message)!=null&&c.includes("Invalid login credentials")||(u=v.message)!=null&&u.includes("invalid")||v.status===400?b="      ":(h=v.message)!=null&&h.includes("User not found")&&(b="  .    "),Q.error(b),{user:null,error:{message:b,originalError:v}})}if(!p.user){const b="  .    ";return Q.error(b),{user:null,error:{message:b}}}if(p.session)console.log(" Login successful, session saved:",p.user.email),await q.auth.setSession({access_token:p.session.access_token,refresh_token:p.session.refresh_token});else{console.warn(" No session after login, trying to get session...");const{data:{session:b}}=await q.auth.getSession();b&&console.log(" Session retrieved:",b.user.email)}return Q.success("   !"),{user:p.user,error:null}}catch(m){return console.error("Login error:",m),Q.error("    "),{user:null,error:{message:m.message||"    ",originalError:m}}}},lN=async e=>{var t,r,n,s;if(!q){const i="Supabase  .    .env   frontend   ";return Q.error(i),{success:!1,error:{message:i}}}try{const i=e.trim().toLowerCase();console.log(" Resending confirmation email to:",i);const{error:a}=await q.auth.resend({type:"signup",email:i});if(a){console.error(" Resend confirmation error:",a);let l=a.message||"   ";return(t=a.message)!=null&&t.includes("rate limit")||(r=a.message)!=null&&r.includes("too many")?l="    .       ":((n=a.message)!=null&&n.includes("not found")||(s=a.message)!=null&&s.includes("user not found"))&&(l="  .    "),Q.error(l),{success:!1,error:{message:l,originalError:a}}}return console.log(" Confirmation email resent successfully"),Q.success("      .    "),{success:!0,error:null}}catch(i){return console.error("Resend confirmation error:",i),Q.error("     "),{success:!1,error:{message:i.message||"     ",originalError:i}}}},cN=async(e,t,r,n=null)=>{var s,i,a;if(console.log(" signup function called"),!q){const l="Supabase  .    .env   frontend   ";return Q.error(l,{duration:6e3}),console.error(" Supabase Error:",l),console.error(" :   .env  frontend/   VITE_SUPABASE_URL  VITE_SUPABASE_ANON_KEY"),console.error("   FIX_ENV_NOW.bat   frontend"),{user:null,error:{message:"Supabase not initialized"}}}console.log(" Supabase is initialized, proceeding with signup...");try{if(!e||!e.trim())return{user:null,error:{message:"  "}};if(!t||t.length<8)return{user:null,error:{message:"     8   "}};if(!r||!r.trim())return{user:null,error:{message:" "}};const l=e.trim().toLowerCase(),c=r.trim(),u=n?n.trim():null;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l))return{user:null,error:{message:"   "}};console.log(" Sending signup request to Supabase:",{email:l,passwordLength:t.length,name:c,hasPhone:!!u});const m={email:l,password:t};(c||u)&&(m.options={data:{}},c&&(m.options.data.name=c),u&&(m.options.data.phone=u)),console.log(" Calling supabase.auth.signUp with options:",{email:m.email,hasOptions:!!m.options,hasMetadata:!!((s=m.options)!=null&&s.data)}),console.log(" Calling supabase.auth.signUp now...");let p,v;try{const j=await q.auth.signUp(m);p=j.data,v=j.error,console.log(" supabase.auth.signUp completed")}catch(j){return console.error(" supabase.auth.signUp threw exception:",j),{user:null,error:{message:j.message||"     Supabase"}}}if(console.log(" Supabase signUp response:",{hasData:!!p,hasUser:!!(p!=null&&p.user),hasSession:!!(p!=null&&p.session),hasError:!!v,errorMessage:v==null?void 0:v.message,errorStatus:v==null?void 0:v.status,errorCode:v==null?void 0:v.code}),v){let j=v.message||"  ";console.error(" Supabase Signup Error Details:",{message:v.message,status:v.status,code:v.code,email:l,name:c,hasPhone:!!u,fullError:JSON.stringify(v,null,2)});const _=((i=v.message)==null?void 0:i.toLowerCase())||"";return v.status===400?_.includes("email")||_.includes("invalid")?j="      ":_.includes("password")||_.includes("weak")?j="  .    8       ":_.includes("already")||_.includes("exists")||_.includes("registered")?j="    .       ":j=v.message||"   .     ":v.status===422?j="    .    ":_.includes("user already registered")||_.includes("already registered")||_.includes("already exists")||v.code==="23505"?j="    .       ":_.includes("invalid email")||_.includes("email address")?j="   .    ":(_.includes("password")||_.includes("weak"))&&(j="  .    8   "),{user:null,error:{message:j,originalError:v}}}if(!p.user)return console.error(" No user returned from signUp. Data:",p),{user:null,error:{message:"  .    "}};console.log(" User created in Supabase Auth:",{id:p.user.id,email:p.user.email,emailConfirmed:!!p.user.email_confirmed_at,hasSession:!!p.session}),console.log(" Starting profile update in background..."),Promise.resolve().then(async()=>{try{await new Promise(f=>setTimeout(f,200));const j={email:l,name:c,role:"customer"};u&&(j.phone=u);const{error:_}=await q.from("profiles").update(j).eq("id",p.user.id);if(_){console.log(" Profile update failed, trying to insert...",_.message);const{error:f}=await q.from("profiles").insert({id:p.user.id,...j});f&&!f.message.includes("duplicate")&&f.code!=="23505"?console.warn(" Profile creation/update error (non-critical):",f):console.log(" Profile handled successfully")}else console.log(" Profile updated successfully")}catch(j){console.warn(" Profile error (non-critical):",j)}}).catch(j=>console.warn(" Background profile update error:",j)),p.session?(console.log(" Session created after signup, saving in background..."),Promise.resolve().then(async()=>{try{const{error:j}=await q.auth.setSession({access_token:p.session.access_token,refresh_token:p.session.refresh_token});j?console.warn(" Error setting session (non-critical):",j):console.log(" Session saved successfully")}catch(j){console.warn(" Exception setting session (non-critical):",j)}}).catch(j=>console.warn(" Background session save error:",j))):console.warn(" No session in signup response (this is okay if email confirmation is disabled)"),console.log(" Signup completed successfully. Returning user:",{id:p.user.id,email:p.user.email});const b={user:p.user,error:null};return console.log(" Signup returning:",{hasUser:!!b.user,userEmail:(a=b.user)==null?void 0:a.email,hasError:!!b.error,returnValue:JSON.stringify(b,null,2)}),b}catch(l){console.error(" Signup error in catch block:",l),console.error(" Error stack:",l.stack),console.error(" Error details:",{message:l.message,name:l.name,fullError:l});const c={user:null,error:{message:l.message||"    .    "}};return console.error(" Signup returning error:",c),c}finally{console.log(" Signup function completed (finally block)")}},mv=N.createContext(),Ze=()=>{const e=N.useContext(mv);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},uN=({children:e})=>{const[t,r]=N.useState(null),[n,s]=N.useState(null),[i,a]=N.useState(!0);N.useEffect(()=>{if(!q){console.warn("Supabase is not initialized. Please check your .env file."),a(!1);return}l();const{data:{subscription:f}}=q.auth.onAuthStateChange(async(y,w)=>{var S;if(console.log(" Auth state changed:",y,(S=w==null?void 0:w.user)==null?void 0:S.email,"has session:",!!w),w!=null&&w.user){if(console.log(" Setting user from auth state change:",w.user.email,"Event:",y),r(w.user),await c(w.user.id),y==="SIGNED_IN"||y==="TOKEN_REFRESHED"){console.log(" Ensuring session is persisted...");const{data:{session:E}}=await q.auth.getSession();E&&console.log(" Session verified and persisted")}}else if(y==="SIGNED_OUT")console.log(" User signed out"),r(null),s(null);else if(y==="TOKEN_REFRESHED"){console.log(" Token refreshed, checking session...");const{data:{session:E}}=await q.auth.getSession();E!=null&&E.user?(console.log(" Session refreshed, user still logged in:",E.user.email),r(E.user),await c(E.user.id)):(console.log(" No session after token refresh"),r(null),s(null))}else if(y==="INITIAL_SESSION"){console.log(" Initial session event - checking for saved session...");const{data:{session:E}}=await q.auth.getSession();E!=null&&E.user?(console.log(" Found saved session on initial load:",E.user.email),r(E.user),await c(E.user.id)):console.log(" No saved session found on initial load")}else console.log(" Auth event:",y,"- keeping current state")});return()=>f.unsubscribe()},[]);const l=async()=>{if(!q){a(!1);return}try{console.log(" Checking for saved session...");const{data:{session:f},error:y}=await q.auth.getSession();if(y){console.error(" Session error:",y);try{const{data:{user:w}}=await q.auth.getUser();if(w){console.log(" Found user via getUser():",w.email),r(w),await c(w.id),a(!1);return}}catch(w){console.error(" Error getting user:",w)}a(!1);return}if(f!=null&&f.user)console.log(" Session found for user:",f.user.email),console.log(" Session details:",{email:f.user.email,id:f.user.id,confirmed:!!f.user.email_confirmed_at,expires_at:f.expires_at,expires_in:f.expires_in}),r(f.user),await c(f.user.id);else{console.log(" No session found in localStorage");try{const{data:{user:w},error:S}=await q.auth.getUser();if(w&&!S){console.log(" Found user via getUser() even without session:",w.email),r(w),await c(w.id),a(!1);return}}catch(w){console.error(" Error getting user:",w)}try{const S=Object.keys(localStorage).filter(E=>E.includes("supabase")||E.includes("auth")||E.includes("sb-"));if(console.log(" Supabase-related keys in localStorage:",S),S.length>0){console.log(" Found Supabase keys but no active session - trying to refresh...");try{const{data:{session:E},error:R}=await q.auth.refreshSession();if(E!=null&&E.user&&!R){console.log(" Session refreshed successfully:",E.user.email),r(E.user),await c(E.user.id),a(!1);return}}catch(E){console.error(" Error refreshing session:",E)}}}catch(w){console.error("Error checking localStorage:",w)}r(null),s(null)}}catch(f){console.error(" Error checking session:",f)}finally{a(!1)}},c=async f=>{if(q)try{const y=q.from("profiles").select("*").eq("id",f).single(),w=new Promise((R,P)=>setTimeout(()=>P(new Error("Profile fetch timeout")),5e3)),{data:S,error:E}=await Promise.race([y,w]);if(E)throw E;s(S)}catch(y){console.warn(" Error fetching profile (non-critical):",y.message||y)}},_={user:t,profile:n,loading:i,login:async(f,y)=>{try{const{user:w,error:S}=await oN(f,y);return S?{success:!1,error:S.message||"  "}:w?(r(w),await c(w.id),{success:!0}):{success:!1,error:"  "}}catch(w){return console.error("Login error:",w),{success:!1,error:w.message||"    "}}},register:async f=>{var y,w,S;console.log(" Register function called with:",f);try{console.log(" Registering user with data:",f);const{name:E,email:R,password:P,phone:C,address:I,latitude:T,longitude:U}=f;if(!E||!E.trim())return console.error(" Validation error: name is required"),{success:!1,error:{name:["  "]}};if(!R||!R.trim())return console.error(" Validation error: email is required"),{success:!1,error:{email:["  "]}};if(!P||P.length<8)return console.error(" Validation error: password too short"),{success:!1,error:{password:["     8   "]}};console.log(" Calling signup function...");let D;try{D=await cN(R.trim(),P,E.trim(),C?C.trim():null)}catch(K){return console.error(" Signup threw an exception:",K),{success:!1,error:{general:[K.message||"    "]}}}if(console.log(" Signup result:",{hasResult:!!D,resultType:typeof D,hasUser:!!(D!=null&&D.user),hasError:!!(D!=null&&D.error),userId:(y=D==null?void 0:D.user)==null?void 0:y.id,userEmail:(w=D==null?void 0:D.user)==null?void 0:w.email,errorMessage:(S=D==null?void 0:D.error)==null?void 0:S.message,fullResult:JSON.stringify(D,null,2)}),!D)return console.error(" Signup returned null or undefined"),{success:!1,error:{general:["  .    "]}};const{user:Y,error:oe}=D;if(oe){console.error(" Registration Error:",{message:oe.message,fullError:oe});const K={},fe=oe.message||"  ";return fe.includes("email")||fe.includes("")?K.email=[fe]:fe.includes("password")||fe.includes(" ")?K.password=[fe]:fe.includes("name")||fe.includes("")?K.name=[fe]:K.general=[fe],console.error(" Returning error object:",K),{success:!1,error:K}}if(!Y)return console.error(" No user returned from signup. SignupResult:",D),{success:!1,error:{general:["  .    "]}};console.log(" User created successfully:",{id:Y.id,email:Y.email,emailConfirmed:!!Y.email_confirmed_at}),console.log(" Saving user to state..."),r(Y),Promise.resolve().then(async()=>{try{if(C&&q)try{await q.from("profiles").update({phone:C.trim()}).eq("id",Y.id)}catch(K){console.warn(" Phone update error (non-critical):",K)}if(I&&q)try{const K={user_id:Y.id,label:"",address:I.trim(),city:" ",region:" ",is_default:!0};T&&(K.latitude=parseFloat(T)),U&&(K.longitude=parseFloat(U)),await q.from("addresses").insert(K)}catch(K){console.warn(" Address creation error (non-critical):",K)}await c(Y.id).catch(K=>console.warn(" Profile fetch error (non-critical):",K))}catch(K){console.warn(" Background operations error (non-critical):",K)}}).catch(K=>console.warn(" Background promise error:",K)),console.log(" Registration completed successfully!"),console.log(" About to return success: true"),Promise.resolve().then(()=>{Q.success("   !")}).catch(K=>console.warn("Toast error:",K));const Ve={success:!0};return console.log(" Returning:",JSON.stringify(Ve,null,2)),Ve}catch(E){console.error(" Registration error in catch block:",E),console.error(" Error stack:",E.stack),console.error(" Error details:",{message:E.message,name:E.name,fullError:E});const R={success:!1,error:{general:[E.message||"    "]}};return console.error(" Returning error:",JSON.stringify(R,null,2)),R}finally{console.log(" Register function completed (finally block)")}},logout:async()=>{if(!q){r(null),s(null);return}try{const{error:f}=await q.auth.signOut();if(f)throw f;r(null),s(null),Q.success("   ")}catch(f){console.error("Logout error:",f),r(null),s(null),Q.success("  ")}},updateUser:async f=>{if(!(!t||!q))try{const{error:y}=await q.from("profiles").update(f).eq("id",t.id);if(y)throw y;s(w=>({...w,...f})),Q.success("   ")}catch(y){console.error("Update user error:",y),Q.error("  ")}},isAuthenticated:()=>!!t,hasRole:f=>(n==null?void 0:n.role)===f,fetchUser:async()=>{try{const{data:{user:f}}=await q.auth.getUser();f&&(r(f),await c(f.id))}catch(f){console.error("Error fetching user:",f)}}};return o.jsx(mv.Provider,{value:_,children:e})},pv=N.createContext(),dN=()=>{const e=N.useContext(pv);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},hN=({children:e})=>{const[t,r]=N.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});N.useEffect(()=>{const i=document.documentElement,a=localStorage.getItem("theme");(a?a==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches)?(i.classList.add("dark"),console.log(" Dark mode enabled on mount")):(i.classList.remove("dark"),console.log(" Light mode enabled on mount"))},[]),N.useEffect(()=>{const i=document.documentElement;localStorage.setItem("theme",t?"dark":"light"),t?(i.classList.add("dark"),console.log(" Dark mode applied")):(i.classList.remove("dark"),console.log(" Light mode applied"))},[t]);const s={isDark:t,toggleTheme:()=>{console.log(" Toggling theme from",t?"dark":"light","to",t?"light":"dark"),r(i=>{const a=!i;return console.log(" Theme changed to:",a?"dark":"light"),a})}};return o.jsx(pv.Provider,{value:s,children:e})};var fN={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(e,t){(function(n,s){e.exports=s()})(window,function(){return function(r){var n={};function s(i){if(n[i])return n[i].exports;var a=n[i]={i,l:!1,exports:{}};return r[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=n,s.d=function(i,a,l){s.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:l})},s.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},s.t=function(i,a){if(a&1&&(i=s(i)),a&8||a&4&&typeof i=="object"&&i&&i.__esModule)return i;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:i}),a&2&&typeof i!="string")for(var c in i)s.d(l,c,(function(u){return i[u]}).bind(null,c));return l},s.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(a,"a",a),a},s.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},s.p="",s(s.s=2)}([function(r,n,s){var i=this&&this.__extends||function(){var j=function(_,f){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,w){y.__proto__=w}||function(y,w){for(var S in w)w.hasOwnProperty(S)&&(y[S]=w[S])},j(_,f)};return function(_,f){j(_,f);function y(){this.constructor=_}_.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var a=256,l=function(){function j(_){_===void 0&&(_="="),this._paddingCharacter=_}return j.prototype.encodedLength=function(_){return this._paddingCharacter?(_+2)/3*4|0:(_*8+5)/6|0},j.prototype.encode=function(_){for(var f="",y=0;y<_.length-2;y+=3){var w=_[y]<<16|_[y+1]<<8|_[y+2];f+=this._encodeByte(w>>>3*6&63),f+=this._encodeByte(w>>>2*6&63),f+=this._encodeByte(w>>>1*6&63),f+=this._encodeByte(w>>>0*6&63)}var S=_.length-y;if(S>0){var w=_[y]<<16|(S===2?_[y+1]<<8:0);f+=this._encodeByte(w>>>3*6&63),f+=this._encodeByte(w>>>2*6&63),S===2?f+=this._encodeByte(w>>>1*6&63):f+=this._paddingCharacter||"",f+=this._paddingCharacter||""}return f},j.prototype.maxDecodedLength=function(_){return this._paddingCharacter?_/4*3|0:(_*6+7)/8|0},j.prototype.decodedLength=function(_){return this.maxDecodedLength(_.length-this._getPaddingLength(_))},j.prototype.decode=function(_){if(_.length===0)return new Uint8Array(0);for(var f=this._getPaddingLength(_),y=_.length-f,w=new Uint8Array(this.maxDecodedLength(y)),S=0,E=0,R=0,P=0,C=0,I=0,T=0;E<y-4;E+=4)P=this._decodeChar(_.charCodeAt(E+0)),C=this._decodeChar(_.charCodeAt(E+1)),I=this._decodeChar(_.charCodeAt(E+2)),T=this._decodeChar(_.charCodeAt(E+3)),w[S++]=P<<2|C>>>4,w[S++]=C<<4|I>>>2,w[S++]=I<<6|T,R|=P&a,R|=C&a,R|=I&a,R|=T&a;if(E<y-1&&(P=this._decodeChar(_.charCodeAt(E)),C=this._decodeChar(_.charCodeAt(E+1)),w[S++]=P<<2|C>>>4,R|=P&a,R|=C&a),E<y-2&&(I=this._decodeChar(_.charCodeAt(E+2)),w[S++]=C<<4|I>>>2,R|=I&a),E<y-3&&(T=this._decodeChar(_.charCodeAt(E+3)),w[S++]=I<<6|T,R|=T&a),R!==0)throw new Error("Base64Coder: incorrect characters for decoding");return w},j.prototype._encodeByte=function(_){var f=_;return f+=65,f+=25-_>>>8&6,f+=51-_>>>8&-75,f+=61-_>>>8&-15,f+=62-_>>>8&3,String.fromCharCode(f)},j.prototype._decodeChar=function(_){var f=a;return f+=(42-_&_-44)>>>8&-a+_-43+62,f+=(46-_&_-48)>>>8&-a+_-47+63,f+=(47-_&_-58)>>>8&-a+_-48+52,f+=(64-_&_-91)>>>8&-a+_-65+0,f+=(96-_&_-123)>>>8&-a+_-97+26,f},j.prototype._getPaddingLength=function(_){var f=0;if(this._paddingCharacter){for(var y=_.length-1;y>=0&&_[y]===this._paddingCharacter;y--)f++;if(_.length<4||f>2)throw new Error("Base64Coder: incorrect padding")}return f},j}();n.Coder=l;var c=new l;function u(j){return c.encode(j)}n.encode=u;function h(j){return c.decode(j)}n.decode=h;var m=function(j){i(_,j);function _(){return j!==null&&j.apply(this,arguments)||this}return _.prototype._encodeByte=function(f){var y=f;return y+=65,y+=25-f>>>8&6,y+=51-f>>>8&-75,y+=61-f>>>8&-13,y+=62-f>>>8&49,String.fromCharCode(y)},_.prototype._decodeChar=function(f){var y=a;return y+=(44-f&f-46)>>>8&-a+f-45+62,y+=(94-f&f-96)>>>8&-a+f-95+63,y+=(47-f&f-58)>>>8&-a+f-48+52,y+=(64-f&f-91)>>>8&-a+f-65+0,y+=(96-f&f-123)>>>8&-a+f-97+26,y},_}(l);n.URLSafeCoder=m;var p=new m;function v(j){return p.encode(j)}n.encodeURLSafe=v;function b(j){return p.decode(j)}n.decodeURLSafe=b,n.encodedLength=function(j){return c.encodedLength(j)},n.maxDecodedLength=function(j){return c.maxDecodedLength(j)},n.decodedLength=function(j){return c.decodedLength(j)}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i="utf8: invalid string",a="utf8: invalid source encoding";function l(h){for(var m=new Uint8Array(c(h)),p=0,v=0;v<h.length;v++){var b=h.charCodeAt(v);b<128?m[p++]=b:b<2048?(m[p++]=192|b>>6,m[p++]=128|b&63):b<55296?(m[p++]=224|b>>12,m[p++]=128|b>>6&63,m[p++]=128|b&63):(v++,b=(b&1023)<<10,b|=h.charCodeAt(v)&1023,b+=65536,m[p++]=240|b>>18,m[p++]=128|b>>12&63,m[p++]=128|b>>6&63,m[p++]=128|b&63)}return m}n.encode=l;function c(h){for(var m=0,p=0;p<h.length;p++){var v=h.charCodeAt(p);if(v<128)m+=1;else if(v<2048)m+=2;else if(v<55296)m+=3;else if(v<=57343){if(p>=h.length-1)throw new Error(i);p++,m+=4}else throw new Error(i)}return m}n.encodedLength=c;function u(h){for(var m=[],p=0;p<h.length;p++){var v=h[p];if(v&128){var b=void 0;if(v<224){if(p>=h.length)throw new Error(a);var j=h[++p];if((j&192)!==128)throw new Error(a);v=(v&31)<<6|j&63,b=128}else if(v<240){if(p>=h.length-1)throw new Error(a);var j=h[++p],_=h[++p];if((j&192)!==128||(_&192)!==128)throw new Error(a);v=(v&15)<<12|(j&63)<<6|_&63,b=2048}else if(v<248){if(p>=h.length-2)throw new Error(a);var j=h[++p],_=h[++p],f=h[++p];if((j&192)!==128||(_&192)!==128||(f&192)!==128)throw new Error(a);v=(v&15)<<18|(j&63)<<12|(_&63)<<6|f&63,b=65536}else throw new Error(a);if(v<b||v>=55296&&v<=57343)throw new Error(a);if(v>=65536){if(v>1114111)throw new Error(a);v-=65536,m.push(String.fromCharCode(55296|v>>10)),v=56320|v&1023}}m.push(String.fromCharCode(v))}return m.join("")}n.decode=u},function(r,n,s){r.exports=s(3).default},function(r,n,s){s.r(n);class i{constructor(d,g){this.lastId=0,this.prefix=d,this.name=g}create(d){this.lastId++;var g=this.lastId,k=this.prefix+g,O=this.name+"["+g+"]",L=!1,M=function(){L||(d.apply(null,arguments),L=!0)};return this[g]=M,{number:g,id:k,name:O,callback:M}}remove(d){delete this[d.number]}}var a=new i("_pusher_script_","Pusher.ScriptReceivers"),l={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},c=l;class u{constructor(d){this.options=d,this.receivers=d.receivers||a,this.loading={}}load(d,g,k){var O=this;if(O.loading[d]&&O.loading[d].length>0)O.loading[d].push(k);else{O.loading[d]=[k];var L=Z.createScriptRequest(O.getPath(d,g)),M=O.receivers.create(function(z){if(O.receivers.remove(M),O.loading[d]){var X=O.loading[d];delete O.loading[d];for(var le=function(Te){Te||L.cleanup()},ce=0;ce<X.length;ce++)X[ce](z,le)}});L.send(M)}}getRoot(d){var g,k=Z.getDocument().location.protocol;return d&&d.useTLS||k==="https:"?g=this.options.cdn_https:g=this.options.cdn_http,g.replace(/\/*$/,"")+"/"+this.options.version}getPath(d,g){return this.getRoot(g)+"/"+d+this.options.suffix+".js"}}var h=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),m=new u({cdn_http:c.cdn_http,cdn_https:c.cdn_https,version:c.VERSION,suffix:c.dependency_suffix,receivers:h});const p={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var b={buildLogSuffix:function(x){const d="See:",g=p.urls[x];if(!g)return"";let k;return g.fullUrl?k=g.fullUrl:g.path&&(k=p.baseUrl+g.path),k?`${d} ${k}`:""}},j;(function(x){x.UserAuthentication="user-authentication",x.ChannelAuthorization="channel-authorization"})(j||(j={}));class _ extends Error{constructor(d){super(d),Object.setPrototypeOf(this,new.target.prototype)}}class f extends Error{constructor(d){super(d),Object.setPrototypeOf(this,new.target.prototype)}}class y extends Error{constructor(d){super(d),Object.setPrototypeOf(this,new.target.prototype)}}class w extends Error{constructor(d){super(d),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(d){super(d),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(d){super(d),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(d){super(d),Object.setPrototypeOf(this,new.target.prototype)}}class P extends Error{constructor(d){super(d),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(d,g){super(g),this.status=d,Object.setPrototypeOf(this,new.target.prototype)}}var T=function(x,d,g,k,O){const L=Z.createXHR();L.open("POST",g.endpoint,!0),L.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var M in g.headers)L.setRequestHeader(M,g.headers[M]);if(g.headersProvider!=null){let z=g.headersProvider();for(var M in z)L.setRequestHeader(M,z[M])}return L.onreadystatechange=function(){if(L.readyState===4)if(L.status===200){let z,X=!1;try{z=JSON.parse(L.responseText),X=!0}catch{O(new C(200,`JSON returned from ${k.toString()} endpoint was invalid, yet status code was 200. Data was: ${L.responseText}`),null)}X&&O(null,z)}else{let z="";switch(k){case j.UserAuthentication:z=b.buildLogSuffix("authenticationEndpoint");break;case j.ChannelAuthorization:z=`Clients must be authorized to join private or presence channels. ${b.buildLogSuffix("authorizationEndpoint")}`;break}O(new C(L.status,`Unable to retrieve auth string from ${k.toString()} endpoint - received status: ${L.status} from ${g.endpoint}. ${z}`),null)}},L.send(d),L};function U(x){return fe(Ve(x))}var D=String.fromCharCode,Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oe=function(x){var d=x.charCodeAt(0);return d<128?x:d<2048?D(192|d>>>6)+D(128|d&63):D(224|d>>>12&15)+D(128|d>>>6&63)+D(128|d&63)},Ve=function(x){return x.replace(/[^\x00-\x7F]/g,oe)},K=function(x){var d=[0,2,1][x.length%3],g=x.charCodeAt(0)<<16|(x.length>1?x.charCodeAt(1):0)<<8|(x.length>2?x.charCodeAt(2):0),k=[Y.charAt(g>>>18),Y.charAt(g>>>12&63),d>=2?"=":Y.charAt(g>>>6&63),d>=1?"=":Y.charAt(g&63)];return k.join("")},fe=window.btoa||function(x){return x.replace(/[\s\S]{1,3}/g,K)};class F{constructor(d,g,k,O){this.clear=g,this.timer=d(()=>{this.timer&&(this.timer=O(this.timer))},k)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var V=F;function G(x){window.clearTimeout(x)}function se(x){window.clearInterval(x)}class ie extends V{constructor(d,g){super(setTimeout,G,d,function(k){return g(),null})}}class Wt extends V{constructor(d,g){super(setInterval,se,d,function(k){return g(),k})}}var it={now(){return Date.now?Date.now():new Date().valueOf()},defer(x){return new ie(0,x)},method(x,...d){var g=Array.prototype.slice.call(arguments,1);return function(k){return k[x].apply(k,g.concat(arguments))}}},ye=it;function Ne(x,...d){for(var g=0;g<d.length;g++){var k=d[g];for(var O in k)k[O]&&k[O].constructor&&k[O].constructor===Object?x[O]=Ne(x[O]||{},k[O]):x[O]=k[O]}return x}function Sn(){for(var x=["Pusher"],d=0;d<arguments.length;d++)typeof arguments[d]=="string"?x.push(arguments[d]):x.push(Li(arguments[d]));return x.join(" : ")}function Rd(x,d){var g=Array.prototype.indexOf;if(x===null)return-1;if(g&&x.indexOf===g)return x.indexOf(d);for(var k=0,O=x.length;k<O;k++)if(x[k]===d)return k;return-1}function er(x,d){for(var g in x)Object.prototype.hasOwnProperty.call(x,g)&&d(x[g],g,x)}function Pd(x){var d=[];return er(x,function(g,k){d.push(k)}),d}function Kv(x){var d=[];return er(x,function(g){d.push(g)}),d}function _s(x,d,g){for(var k=0;k<x.length;k++)d.call(g||window,x[k],k,x)}function Td(x,d){for(var g=[],k=0;k<x.length;k++)g.push(d(x[k],k,x,g));return g}function Qv(x,d){var g={};return er(x,function(k,O){g[O]=d(k)}),g}function Ad(x,d){d=d||function(O){return!!O};for(var g=[],k=0;k<x.length;k++)d(x[k],k,x,g)&&g.push(x[k]);return g}function Ld(x,d){var g={};return er(x,function(k,O){(d&&d(k,O,x,g)||k)&&(g[O]=k)}),g}function Jv(x){var d=[];return er(x,function(g,k){d.push([k,g])}),d}function Id(x,d){for(var g=0;g<x.length;g++)if(d(x[g],g,x))return!0;return!1}function Gv(x,d){for(var g=0;g<x.length;g++)if(!d(x[g],g,x))return!1;return!0}function Xv(x){return Qv(x,function(d){return typeof d=="object"&&(d=Li(d)),encodeURIComponent(U(d.toString()))})}function Yv(x){var d=Ld(x,function(k){return k!==void 0}),g=Td(Jv(Xv(d)),ye.method("join","=")).join("&");return g}function Zv(x){var d=[],g=[];return function k(O,L){var M,z,X;switch(typeof O){case"object":if(!O)return null;for(M=0;M<d.length;M+=1)if(d[M]===O)return{$ref:g[M]};if(d.push(O),g.push(L),Object.prototype.toString.apply(O)==="[object Array]")for(X=[],M=0;M<O.length;M+=1)X[M]=k(O[M],L+"["+M+"]");else{X={};for(z in O)Object.prototype.hasOwnProperty.call(O,z)&&(X[z]=k(O[z],L+"["+JSON.stringify(z)+"]"))}return X;case"number":case"string":case"boolean":return O}}(x,"$")}function Li(x){try{return JSON.stringify(x)}catch{return JSON.stringify(Zv(x))}}class ey{constructor(){this.globalLog=d=>{window.console&&window.console.log&&window.console.log(d)}}debug(...d){this.log(this.globalLog,d)}warn(...d){this.log(this.globalLogWarn,d)}error(...d){this.log(this.globalLogError,d)}globalLogWarn(d){window.console&&window.console.warn?window.console.warn(d):this.globalLog(d)}globalLogError(d){window.console&&window.console.error?window.console.error(d):this.globalLogWarn(d)}log(d,...g){var k=Sn.apply(this,arguments);sl.log?sl.log(k):sl.logToConsole&&d.bind(this)(k)}}var xe=new ey,ty=function(x,d,g,k,O){(g.headers!==void 0||g.headersProvider!=null)&&xe.warn(`To send headers with the ${k.toString()} request, you must use AJAX, rather than JSONP.`);var L=x.nextAuthCallbackID.toString();x.nextAuthCallbackID++;var M=x.getDocument(),z=M.createElement("script");x.auth_callbacks[L]=function(ce){O(null,ce)};var X="Pusher.auth_callbacks['"+L+"']";z.src=g.endpoint+"?callback="+encodeURIComponent(X)+"&"+d;var le=M.getElementsByTagName("head")[0]||M.documentElement;le.insertBefore(z,le.firstChild)},ry=ty;class ny{constructor(d){this.src=d}send(d){var g=this,k="Error loading "+g.src;g.script=document.createElement("script"),g.script.id=d.id,g.script.src=g.src,g.script.type="text/javascript",g.script.charset="UTF-8",g.script.addEventListener?(g.script.onerror=function(){d.callback(k)},g.script.onload=function(){d.callback(null)}):g.script.onreadystatechange=function(){(g.script.readyState==="loaded"||g.script.readyState==="complete")&&d.callback(null)},g.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(g.errorScript=document.createElement("script"),g.errorScript.id=d.id+"_error",g.errorScript.text=d.name+"('"+k+"');",g.script.async=g.errorScript.async=!1):g.script.async=!0;var O=document.getElementsByTagName("head")[0];O.insertBefore(g.script,O.firstChild),g.errorScript&&O.insertBefore(g.errorScript,g.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class sy{constructor(d,g){this.url=d,this.data=g}send(d){if(!this.request){var g=Yv(this.data),k=this.url+"/"+d.number+"?"+g;this.request=Z.createScriptRequest(k),this.request.send(d)}}cleanup(){this.request&&this.request.cleanup()}}var iy=function(x,d){return function(g,k){var O="http"+(d?"s":"")+"://",L=O+(x.host||x.options.host)+x.options.path,M=Z.createJSONPRequest(L,g),z=Z.ScriptReceivers.create(function(X,le){a.remove(z),M.cleanup(),le&&le.host&&(x.host=le.host),k&&k(X,le)});M.send(z)}},ay={name:"jsonp",getAgent:iy},oy=ay;function Qo(x,d,g){var k=x+(d.useTLS?"s":""),O=d.useTLS?d.hostTLS:d.hostNonTLS;return k+"://"+O+g}function Jo(x,d){var g="/app/"+x,k="?protocol="+c.PROTOCOL+"&client=js&version="+c.VERSION+(d?"&"+d:"");return g+k}var ly={getInitial:function(x,d){var g=(d.httpPath||"")+Jo(x,"flash=false");return Qo("ws",d,g)}},cy={getInitial:function(x,d){var g=(d.httpPath||"/pusher")+Jo(x);return Qo("http",d,g)}},uy={getInitial:function(x,d){return Qo("http",d,d.httpPath||"/pusher")},getPath:function(x,d){return Jo(x)}};class dy{constructor(){this._callbacks={}}get(d){return this._callbacks[Go(d)]}add(d,g,k){var O=Go(d);this._callbacks[O]=this._callbacks[O]||[],this._callbacks[O].push({fn:g,context:k})}remove(d,g,k){if(!d&&!g&&!k){this._callbacks={};return}var O=d?[Go(d)]:Pd(this._callbacks);g||k?this.removeCallback(O,g,k):this.removeAllCallbacks(O)}removeCallback(d,g,k){_s(d,function(O){this._callbacks[O]=Ad(this._callbacks[O]||[],function(L){return g&&g!==L.fn||k&&k!==L.context}),this._callbacks[O].length===0&&delete this._callbacks[O]},this)}removeAllCallbacks(d){_s(d,function(g){delete this._callbacks[g]},this)}}function Go(x){return"_"+x}class tr{constructor(d){this.callbacks=new dy,this.global_callbacks=[],this.failThrough=d}bind(d,g,k){return this.callbacks.add(d,g,k),this}bind_global(d){return this.global_callbacks.push(d),this}unbind(d,g,k){return this.callbacks.remove(d,g,k),this}unbind_global(d){return d?(this.global_callbacks=Ad(this.global_callbacks||[],g=>g!==d),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(d,g,k){for(var O=0;O<this.global_callbacks.length;O++)this.global_callbacks[O](d,g);var L=this.callbacks.get(d),M=[];if(k?M.push(g,k):g&&M.push(g),L&&L.length>0)for(var O=0;O<L.length;O++)L[O].fn.apply(L[O].context||window,M);else this.failThrough&&this.failThrough(d,g);return this}}class hy extends tr{constructor(d,g,k,O,L){super(),this.initialize=Z.transportConnectionInitializer,this.hooks=d,this.name=g,this.priority=k,this.key=O,this.options=L,this.state="new",this.timeline=L.timeline,this.activityTimeout=L.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var d=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(d,this.options)}catch(g){return ye.defer(()=>{this.onError(g),this.changeState("closed")}),!1}return this.bindListeners(),xe.debug("Connecting",{transport:this.name,url:d}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(d){return this.state==="open"?(ye.defer(()=>{this.socket&&this.socket.send(d)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(d){this.emit("error",{type:"WebSocketError",error:d}),this.timeline.error(this.buildTimelineMessage({error:d.toString()}))}onClose(d){d?this.changeState("closed",{code:d.code,reason:d.reason,wasClean:d.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(d){this.emit("message",d)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=d=>{this.onError(d)},this.socket.onclose=d=>{this.onClose(d)},this.socket.onmessage=d=>{this.onMessage(d)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(d,g){this.state=d,this.timeline.info(this.buildTimelineMessage({state:d,params:g})),this.emit(d,g)}buildTimelineMessage(d){return Ne({cid:this.id},d)}}class Nn{constructor(d){this.hooks=d}isSupported(d){return this.hooks.isSupported(d)}createConnection(d,g,k,O){return new hy(this.hooks,d,g,k,O)}}var fy=new Nn({urls:ly,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Z.getWebSocketAPI()},isSupported:function(){return!!Z.getWebSocketAPI()},getSocket:function(x){return Z.createWebSocket(x)}}),$d={urls:cy,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Ud=Ne({getSocket:function(x){return Z.HTTPFactory.createStreamingSocket(x)}},$d),Fd=Ne({getSocket:function(x){return Z.HTTPFactory.createPollingSocket(x)}},$d),Md={isSupported:function(){return Z.isXHRSupported()}},my=new Nn(Ne({},Ud,Md)),py=new Nn(Ne({},Fd,Md)),gy={ws:fy,xhr_streaming:my,xhr_polling:py},Ii=gy,vy=new Nn({file:"sockjs",urls:uy,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(x,d){return new window.SockJS(x,null,{js_path:m.getPath("sockjs",{useTLS:d.useTLS}),ignore_null_origin:d.ignoreNullOrigin})},beforeOpen:function(x,d){x.send(JSON.stringify({path:d}))}}),Dd={isSupported:function(x){var d=Z.isXDRSupported(x.useTLS);return d}},yy=new Nn(Ne({},Ud,Dd)),xy=new Nn(Ne({},Fd,Dd));Ii.xdr_streaming=yy,Ii.xdr_polling=xy,Ii.sockjs=vy;var wy=Ii;class by extends tr{constructor(){super();var d=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){d.emit("online")},!1),window.addEventListener("offline",function(){d.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var _y=new by;class jy{constructor(d,g,k){this.manager=d,this.transport=g,this.minPingDelay=k.minPingDelay,this.maxPingDelay=k.maxPingDelay,this.pingDelay=void 0}createConnection(d,g,k,O){O=Ne({},O,{activityTimeout:this.pingDelay});var L=this.transport.createConnection(d,g,k,O),M=null,z=function(){L.unbind("open",z),L.bind("closed",X),M=ye.now()},X=le=>{if(L.unbind("closed",X),le.code===1002||le.code===1003)this.manager.reportDeath();else if(!le.wasClean&&M){var ce=ye.now()-M;ce<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(ce/2,this.minPingDelay))}};return L.bind("open",z),L}isSupported(d){return this.manager.isAlive()&&this.transport.isSupported(d)}}const Bd={decodeMessage:function(x){try{var d=JSON.parse(x.data),g=d.data;if(typeof g=="string")try{g=JSON.parse(d.data)}catch{}var k={event:d.event,channel:d.channel,data:g};return d.user_id&&(k.user_id=d.user_id),k}catch(O){throw{type:"MessageParseError",error:O,data:x.data}}},encodeMessage:function(x){return JSON.stringify(x)},processHandshake:function(x){var d=Bd.decodeMessage(x);if(d.event==="pusher:connection_established"){if(!d.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:d.data.socket_id,activityTimeout:d.data.activity_timeout*1e3}}else{if(d.event==="pusher:error")return{action:this.getCloseAction(d.data),error:this.getCloseError(d.data)};throw"Invalid handshake"}},getCloseAction:function(x){return x.code<4e3?x.code>=1002&&x.code<=1004?"backoff":null:x.code===4e3?"tls_only":x.code<4100?"refused":x.code<4200?"backoff":x.code<4300?"retry":"refused"},getCloseError:function(x){return x.code!==1e3&&x.code!==1001?{type:"PusherError",data:{code:x.code,message:x.reason||x.message}}:null}};var Jr=Bd;class Sy extends tr{constructor(d,g){super(),this.id=d,this.transport=g,this.activityTimeout=g.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(d){return this.transport.send(d)}send_event(d,g,k){var O={event:d,data:g};return k&&(O.channel=k),xe.debug("Event sent",O),this.send(Jr.encodeMessage(O))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var d={message:k=>{var O;try{O=Jr.decodeMessage(k)}catch(L){this.emit("error",{type:"MessageParseError",error:L,data:k.data})}if(O!==void 0){switch(xe.debug("Event recd",O),O.event){case"pusher:error":this.emit("error",{type:"PusherError",data:O.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",O)}},activity:()=>{this.emit("activity")},error:k=>{this.emit("error",k)},closed:k=>{g(),k&&k.code&&this.handleCloseEvent(k),this.transport=null,this.emit("closed")}},g=()=>{er(d,(k,O)=>{this.transport.unbind(O,k)})};er(d,(k,O)=>{this.transport.bind(O,k)})}handleCloseEvent(d){var g=Jr.getCloseAction(d),k=Jr.getCloseError(d);k&&this.emit("error",k),g&&this.emit(g,{action:g,error:k})}}class Ny{constructor(d,g){this.transport=d,this.callback=g,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=d=>{this.unbindListeners();var g;try{g=Jr.processHandshake(d)}catch(k){this.finish("error",{error:k}),this.transport.close();return}g.action==="connected"?this.finish("connected",{connection:new Sy(g.id,this.transport),activityTimeout:g.activityTimeout}):(this.finish(g.action,{error:g.error}),this.transport.close())},this.onClosed=d=>{this.unbindListeners();var g=Jr.getCloseAction(d)||"backoff",k=Jr.getCloseError(d);this.finish(g,{error:k})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(d,g){this.callback(Ne({transport:this.transport,action:d},g))}}class ky{constructor(d,g){this.timeline=d,this.options=g||{}}send(d,g){this.timeline.isEmpty()||this.timeline.send(Z.TimelineTransport.getAgent(this,d),g)}}class Xo extends tr{constructor(d,g){super(function(k,O){xe.debug("No callbacks on "+d+" for "+k)}),this.name=d,this.pusher=g,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(d,g){return g(null,{auth:""})}trigger(d,g){if(d.indexOf("client-")!==0)throw new _("Event '"+d+"' does not start with 'client-'");if(!this.subscribed){var k=b.buildLogSuffix("triggeringClientEvents");xe.warn(`Client event triggered before channel 'subscription_succeeded' event . ${k}`)}return this.pusher.send_event(d,g,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(d){var g=d.event,k=d.data;if(g==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(d);else if(g==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(d);else if(g.indexOf("pusher_internal:")!==0){var O={};this.emit(g,k,O)}}handleSubscriptionSucceededEvent(d){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",d.data)}handleSubscriptionCountEvent(d){d.data.subscription_count&&(this.subscriptionCount=d.data.subscription_count),this.emit("pusher:subscription_count",d.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(d,g)=>{d?(this.subscriptionPending=!1,xe.error(d.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:d.message},d instanceof C?{status:d.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:g.auth,channel_data:g.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Yo extends Xo{authorize(d,g){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:d},g)}}class Ey{constructor(){this.reset()}get(d){return Object.prototype.hasOwnProperty.call(this.members,d)?{id:d,info:this.members[d]}:null}each(d){er(this.members,(g,k)=>{d(this.get(k))})}setMyID(d){this.myID=d}onSubscription(d){this.members=d.presence.hash,this.count=d.presence.count,this.me=this.get(this.myID)}addMember(d){return this.get(d.user_id)===null&&this.count++,this.members[d.user_id]=d.user_info,this.get(d.user_id)}removeMember(d){var g=this.get(d.user_id);return g&&(delete this.members[d.user_id],this.count--),g}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Cy=function(x,d,g,k){function O(L){return L instanceof g?L:new g(function(M){M(L)})}return new(g||(g=Promise))(function(L,M){function z(ce){try{le(k.next(ce))}catch(Te){M(Te)}}function X(ce){try{le(k.throw(ce))}catch(Te){M(Te)}}function le(ce){ce.done?L(ce.value):O(ce.value).then(z,X)}le((k=k.apply(x,d||[])).next())})};class Oy extends Yo{constructor(d,g){super(d,g),this.members=new Ey}authorize(d,g){super.authorize(d,(k,O)=>Cy(this,void 0,void 0,function*(){if(!k)if(O=O,O.channel_data!=null){var L=JSON.parse(O.channel_data);this.members.setMyID(L.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let M=b.buildLogSuffix("authorizationEndpoint");xe.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${M}, or the user should be signed in.`),g("Invalid auth response");return}g(k,O)}))}handleEvent(d){var g=d.event;if(g.indexOf("pusher_internal:")===0)this.handleInternalEvent(d);else{var k=d.data,O={};d.user_id&&(O.user_id=d.user_id),this.emit(g,k,O)}}handleInternalEvent(d){var g=d.event,k=d.data;switch(g){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(d);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(d);break;case"pusher_internal:member_added":var O=this.members.addMember(k);this.emit("pusher:member_added",O);break;case"pusher_internal:member_removed":var L=this.members.removeMember(k);L&&this.emit("pusher:member_removed",L);break}}handleSubscriptionSucceededEvent(d){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(d.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Ry=s(1),Zo=s(0);class Py extends Yo{constructor(d,g,k){super(d,g),this.key=null,this.nacl=k}authorize(d,g){super.authorize(d,(k,O)=>{if(k){g(k,O);return}let L=O.shared_secret;if(!L){g(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Zo.decode)(L),delete O.shared_secret,g(null,O)})}trigger(d,g){throw new E("Client events are not currently supported for encrypted channels")}handleEvent(d){var g=d.event,k=d.data;if(g.indexOf("pusher_internal:")===0||g.indexOf("pusher:")===0){super.handleEvent(d);return}this.handleEncryptedEvent(g,k)}handleEncryptedEvent(d,g){if(!this.key){xe.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!g.ciphertext||!g.nonce){xe.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+g);return}let k=Object(Zo.decode)(g.ciphertext);if(k.length<this.nacl.secretbox.overheadLength){xe.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${k.length}`);return}let O=Object(Zo.decode)(g.nonce);if(O.length<this.nacl.secretbox.nonceLength){xe.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${O.length}`);return}let L=this.nacl.secretbox.open(k,O,this.key);if(L===null){xe.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(M,z)=>{if(M){xe.error(`Failed to make a request to the authEndpoint: ${z}. Unable to fetch new key, so dropping encrypted event`);return}if(L=this.nacl.secretbox.open(k,O,this.key),L===null){xe.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(d,this.getDataToEmit(L))});return}this.emit(d,this.getDataToEmit(L))}getDataToEmit(d){let g=Object(Ry.decode)(d);try{return JSON.parse(g)}catch{return g}}}class Ty extends tr{constructor(d,g){super(),this.state="initialized",this.connection=null,this.key=d,this.options=g,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var k=Z.getNetwork();k.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),k.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(d){return this.connection?this.connection.send(d):!1}send_event(d,g,k){return this.connection?this.connection.send_event(d,g,k):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var d=(g,k)=>{g?this.runner=this.strategy.connect(0,d):k.action==="error"?(this.emit("error",{type:"HandshakeError",error:k.error}),this.timeline.error({handshakeError:k.error})):(this.abortConnecting(),this.handshakeCallbacks[k.action](k))};this.runner=this.strategy.connect(0,d)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var d=this.abandonConnection();d.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(d){this.timeline.info({action:"retry",delay:d}),d>0&&this.emit("connecting_in",Math.round(d/1e3)),this.retryTimer=new ie(d||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ie(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ie(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ie(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(d){return Ne({},d,{message:g=>{this.resetActivityCheck(),this.emit("message",g)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:g=>{this.emit("error",g)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(d){return Ne({},d,{connected:g=>{this.activityTimeout=Math.min(this.options.activityTimeout,g.activityTimeout,g.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(g.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let d=g=>k=>{k.error&&this.emit("error",{type:"WebSocketError",error:k.error}),g(k)};return{tls_only:d(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:d(()=>{this.disconnect()}),backoff:d(()=>{this.retryIn(1e3)}),retry:d(()=>{this.retryIn(0)})}}setConnection(d){this.connection=d;for(var g in this.connectionCallbacks)this.connection.bind(g,this.connectionCallbacks[g]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var d in this.connectionCallbacks)this.connection.unbind(d,this.connectionCallbacks[d]);var g=this.connection;return this.connection=null,g}}updateState(d,g){var k=this.state;if(this.state=d,k!==d){var O=d;O==="connected"&&(O+=" with new socket ID "+g.socket_id),xe.debug("State changed",k+" -> "+O),this.timeline.info({state:d,params:g}),this.emit("state_change",{previous:k,current:d}),this.emit(d,g)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Ay{constructor(){this.channels={}}add(d,g){return this.channels[d]||(this.channels[d]=Ly(d,g)),this.channels[d]}all(){return Kv(this.channels)}find(d){return this.channels[d]}remove(d){var g=this.channels[d];return delete this.channels[d],g}disconnect(){er(this.channels,function(d){d.disconnect()})}}function Ly(x,d){if(x.indexOf("private-encrypted-")===0){if(d.config.nacl)return rr.createEncryptedChannel(x,d,d.config.nacl);let g="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",k=b.buildLogSuffix("encryptedChannelSupport");throw new E(`${g}. ${k}`)}else{if(x.indexOf("private-")===0)return rr.createPrivateChannel(x,d);if(x.indexOf("presence-")===0)return rr.createPresenceChannel(x,d);if(x.indexOf("#")===0)throw new f('Cannot create a channel with name "'+x+'".');return rr.createChannel(x,d)}}var Iy={createChannels(){return new Ay},createConnectionManager(x,d){return new Ty(x,d)},createChannel(x,d){return new Xo(x,d)},createPrivateChannel(x,d){return new Yo(x,d)},createPresenceChannel(x,d){return new Oy(x,d)},createEncryptedChannel(x,d,g){return new Py(x,d,g)},createTimelineSender(x,d){return new ky(x,d)},createHandshake(x,d){return new Ny(x,d)},createAssistantToTheTransportManager(x,d,g){return new jy(x,d,g)}},rr=Iy;class zd{constructor(d){this.options=d||{},this.livesLeft=this.options.lives||1/0}getAssistant(d){return rr.createAssistantToTheTransportManager(this,d,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Gr{constructor(d,g){this.strategies=d,this.loop=!!g.loop,this.failFast=!!g.failFast,this.timeout=g.timeout,this.timeoutLimit=g.timeoutLimit}isSupported(){return Id(this.strategies,ye.method("isSupported"))}connect(d,g){var k=this.strategies,O=0,L=this.timeout,M=null,z=(X,le)=>{le?g(null,le):(O=O+1,this.loop&&(O=O%k.length),O<k.length?(L&&(L=L*2,this.timeoutLimit&&(L=Math.min(L,this.timeoutLimit))),M=this.tryStrategy(k[O],d,{timeout:L,failFast:this.failFast},z)):g(!0))};return M=this.tryStrategy(k[O],d,{timeout:L,failFast:this.failFast},z),{abort:function(){M.abort()},forceMinPriority:function(X){d=X,M&&M.forceMinPriority(X)}}}tryStrategy(d,g,k,O){var L=null,M=null;return k.timeout>0&&(L=new ie(k.timeout,function(){M.abort(),O(!0)})),M=d.connect(g,function(z,X){z&&L&&L.isRunning()&&!k.failFast||(L&&L.ensureAborted(),O(z,X))}),{abort:function(){L&&L.ensureAborted(),M.abort()},forceMinPriority:function(z){M.forceMinPriority(z)}}}}class el{constructor(d){this.strategies=d}isSupported(){return Id(this.strategies,ye.method("isSupported"))}connect(d,g){return $y(this.strategies,d,function(k,O){return function(L,M){if(O[k].error=L,L){Uy(O)&&g(!0);return}_s(O,function(z){z.forceMinPriority(M.transport.priority)}),g(null,M)}})}}function $y(x,d,g){var k=Td(x,function(O,L,M,z){return O.connect(d,g(L,z))});return{abort:function(){_s(k,Fy)},forceMinPriority:function(O){_s(k,function(L){L.forceMinPriority(O)})}}}function Uy(x){return Gv(x,function(d){return!!d.error})}function Fy(x){!x.error&&!x.aborted&&(x.abort(),x.aborted=!0)}class My{constructor(d,g,k){this.strategy=d,this.transports=g,this.ttl=k.ttl||1800*1e3,this.usingTLS=k.useTLS,this.timeline=k.timeline}isSupported(){return this.strategy.isSupported()}connect(d,g){var k=this.usingTLS,O=Dy(k),L=O&&O.cacheSkipCount?O.cacheSkipCount:0,M=[this.strategy];if(O&&O.timestamp+this.ttl>=ye.now()){var z=this.transports[O.transport];z&&(["ws","wss"].includes(O.transport)||L>3?(this.timeline.info({cached:!0,transport:O.transport,latency:O.latency}),M.push(new Gr([z],{timeout:O.latency*2+1e3,failFast:!0}))):L++)}var X=ye.now(),le=M.pop().connect(d,function ce(Te,Fi){Te?(qd(k),M.length>0?(X=ye.now(),le=M.pop().connect(d,ce)):g(Te)):(By(k,Fi.transport.name,ye.now()-X,L),g(null,Fi))});return{abort:function(){le.abort()},forceMinPriority:function(ce){d=ce,le&&le.forceMinPriority(ce)}}}}function tl(x){return"pusherTransport"+(x?"TLS":"NonTLS")}function Dy(x){var d=Z.getLocalStorage();if(d)try{var g=d[tl(x)];if(g)return JSON.parse(g)}catch{qd(x)}return null}function By(x,d,g,k){var O=Z.getLocalStorage();if(O)try{O[tl(x)]=Li({timestamp:ye.now(),transport:d,latency:g,cacheSkipCount:k})}catch{}}function qd(x){var d=Z.getLocalStorage();if(d)try{delete d[tl(x)]}catch{}}class $i{constructor(d,{delay:g}){this.strategy=d,this.options={delay:g}}isSupported(){return this.strategy.isSupported()}connect(d,g){var k=this.strategy,O,L=new ie(this.options.delay,function(){O=k.connect(d,g)});return{abort:function(){L.ensureAborted(),O&&O.abort()},forceMinPriority:function(M){d=M,O&&O.forceMinPriority(M)}}}}class js{constructor(d,g,k){this.test=d,this.trueBranch=g,this.falseBranch=k}isSupported(){var d=this.test()?this.trueBranch:this.falseBranch;return d.isSupported()}connect(d,g){var k=this.test()?this.trueBranch:this.falseBranch;return k.connect(d,g)}}class zy{constructor(d){this.strategy=d}isSupported(){return this.strategy.isSupported()}connect(d,g){var k=this.strategy.connect(d,function(O,L){L&&k.abort(),g(O,L)});return k}}function Ss(x){return function(){return x.isSupported()}}var qy=function(x,d,g){var k={};function O(eh,zx,qx,Hx,Wx){var th=g(x,eh,zx,qx,Hx,Wx);return k[eh]=th,th}var L=Object.assign({},d,{hostNonTLS:x.wsHost+":"+x.wsPort,hostTLS:x.wsHost+":"+x.wssPort,httpPath:x.wsPath}),M=Object.assign({},L,{useTLS:!0}),z=Object.assign({},d,{hostNonTLS:x.httpHost+":"+x.httpPort,hostTLS:x.httpHost+":"+x.httpsPort,httpPath:x.httpPath}),X={loop:!0,timeout:15e3,timeoutLimit:6e4},le=new zd({minPingDelay:1e4,maxPingDelay:x.activityTimeout}),ce=new zd({lives:2,minPingDelay:1e4,maxPingDelay:x.activityTimeout}),Te=O("ws","ws",3,L,le),Fi=O("wss","ws",3,M,le),Ux=O("sockjs","sockjs",1,z),Qd=O("xhr_streaming","xhr_streaming",1,z,ce),Fx=O("xdr_streaming","xdr_streaming",1,z,ce),Jd=O("xhr_polling","xhr_polling",1,z),Mx=O("xdr_polling","xdr_polling",1,z),Gd=new Gr([Te],X),Dx=new Gr([Fi],X),Bx=new Gr([Ux],X),Xd=new Gr([new js(Ss(Qd),Qd,Fx)],X),Yd=new Gr([new js(Ss(Jd),Jd,Mx)],X),Zd=new Gr([new js(Ss(Xd),new el([Xd,new $i(Yd,{delay:4e3})]),Yd)],X),il=new js(Ss(Zd),Zd,Bx),al;return d.useTLS?al=new el([Gd,new $i(il,{delay:2e3})]):al=new el([Gd,new $i(Dx,{delay:2e3}),new $i(il,{delay:5e3})]),new My(new zy(new js(Ss(Te),al,il)),k,{ttl:18e5,timeline:d.timeline,useTLS:d.useTLS})},Hy=qy,Wy=function(){var x=this;x.timeline.info(x.buildTimelineMessage({transport:x.name+(x.options.useTLS?"s":"")})),x.hooks.isInitialized()?x.changeState("initialized"):x.hooks.file?(x.changeState("initializing"),m.load(x.hooks.file,{useTLS:x.options.useTLS},function(d,g){x.hooks.isInitialized()?(x.changeState("initialized"),g(!0)):(d&&x.onError(d),x.onClose(),g(!1))})):x.onClose()},Vy={getRequest:function(x){var d=new window.XDomainRequest;return d.ontimeout=function(){x.emit("error",new y),x.close()},d.onerror=function(g){x.emit("error",g),x.close()},d.onprogress=function(){d.responseText&&d.responseText.length>0&&x.onChunk(200,d.responseText)},d.onload=function(){d.responseText&&d.responseText.length>0&&x.onChunk(200,d.responseText),x.emit("finished",200),x.close()},d},abortRequest:function(x){x.ontimeout=x.onerror=x.onprogress=x.onload=null,x.abort()}},Ky=Vy;const Qy=256*1024;class Jy extends tr{constructor(d,g,k){super(),this.hooks=d,this.method=g,this.url=k}start(d){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},Z.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(d)}close(){this.unloader&&(Z.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(d,g){for(;;){var k=this.advanceBuffer(g);if(k)this.emit("chunk",{status:d,data:k});else break}this.isBufferTooLong(g)&&this.emit("buffer_too_long")}advanceBuffer(d){var g=d.slice(this.position),k=g.indexOf(`
`);return k!==-1?(this.position+=k+1,g.slice(0,k)):null}isBufferTooLong(d){return this.position===d.length&&d.length>Qy}}var rl;(function(x){x[x.CONNECTING=0]="CONNECTING",x[x.OPEN=1]="OPEN",x[x.CLOSED=3]="CLOSED"})(rl||(rl={}));var Xr=rl,Gy=1;class Xy{constructor(d,g){this.hooks=d,this.session=Wd(1e3)+"/"+tx(8),this.location=Yy(g),this.readyState=Xr.CONNECTING,this.openStream()}send(d){return this.sendRaw(JSON.stringify([d]))}ping(){this.hooks.sendHeartbeat(this)}close(d,g){this.onClose(d,g,!0)}sendRaw(d){if(this.readyState===Xr.OPEN)try{return Z.createSocketRequest("POST",Hd(Zy(this.location,this.session))).start(d),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(d,g,k){this.closeStream(),this.readyState=Xr.CLOSED,this.onclose&&this.onclose({code:d,reason:g,wasClean:k})}onChunk(d){if(d.status===200){this.readyState===Xr.OPEN&&this.onActivity();var g,k=d.data.slice(0,1);switch(k){case"o":g=JSON.parse(d.data.slice(1)||"{}"),this.onOpen(g);break;case"a":g=JSON.parse(d.data.slice(1)||"[]");for(var O=0;O<g.length;O++)this.onEvent(g[O]);break;case"m":g=JSON.parse(d.data.slice(1)||"null"),this.onEvent(g);break;case"h":this.hooks.onHeartbeat(this);break;case"c":g=JSON.parse(d.data.slice(1)||"[]"),this.onClose(g[0],g[1],!0);break}}}onOpen(d){this.readyState===Xr.CONNECTING?(d&&d.hostname&&(this.location.base=ex(this.location.base,d.hostname)),this.readyState=Xr.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(d){this.readyState===Xr.OPEN&&this.onmessage&&this.onmessage({data:d})}onActivity(){this.onactivity&&this.onactivity()}onError(d){this.onerror&&this.onerror(d)}openStream(){this.stream=Z.createSocketRequest("POST",Hd(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",d=>{this.onChunk(d)}),this.stream.bind("finished",d=>{this.hooks.onFinished(this,d)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(d){ye.defer(()=>{this.onError(d),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Yy(x){var d=/([^\?]*)\/*(\??.*)/.exec(x);return{base:d[1],queryString:d[2]}}function Zy(x,d){return x.base+"/"+d+"/xhr_send"}function Hd(x){var d=x.indexOf("?")===-1?"?":"&";return x+d+"t="+ +new Date+"&n="+Gy++}function ex(x,d){var g=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(x);return g[1]+d+g[3]}function Wd(x){return Z.randomInt(x)}function tx(x){for(var d=[],g=0;g<x;g++)d.push(Wd(32).toString(32));return d.join("")}var rx=Xy,nx={getReceiveURL:function(x,d){return x.base+"/"+d+"/xhr_streaming"+x.queryString},onHeartbeat:function(x){x.sendRaw("[]")},sendHeartbeat:function(x){x.sendRaw("[]")},onFinished:function(x,d){x.onClose(1006,"Connection interrupted ("+d+")",!1)}},sx=nx,ix={getReceiveURL:function(x,d){return x.base+"/"+d+"/xhr"+x.queryString},onHeartbeat:function(){},sendHeartbeat:function(x){x.sendRaw("[]")},onFinished:function(x,d){d===200?x.reconnect():x.onClose(1006,"Connection interrupted ("+d+")",!1)}},ax=ix,ox={getRequest:function(x){var d=Z.getXHRAPI(),g=new d;return g.onreadystatechange=g.onprogress=function(){switch(g.readyState){case 3:g.responseText&&g.responseText.length>0&&x.onChunk(g.status,g.responseText);break;case 4:g.responseText&&g.responseText.length>0&&x.onChunk(g.status,g.responseText),x.emit("finished",g.status),x.close();break}},g},abortRequest:function(x){x.onreadystatechange=null,x.abort()}},lx=ox,cx={createStreamingSocket(x){return this.createSocket(sx,x)},createPollingSocket(x){return this.createSocket(ax,x)},createSocket(x,d){return new rx(x,d)},createXHR(x,d){return this.createRequest(lx,x,d)},createRequest(x,d,g){return new Jy(x,d,g)}},Vd=cx;Vd.createXDR=function(x,d){return this.createRequest(Ky,x,d)};var ux=Vd,dx={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:a,DependenciesReceivers:h,getDefaultStrategy:Hy,Transports:wy,transportConnectionInitializer:Wy,HTTPFactory:ux,TimelineTransport:oy,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(x){window.Pusher=x;var d=()=>{this.onDocumentBody(x.ready)};window.JSON?d():m.load("json2",{},d)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:T,jsonp:ry}},onDocumentBody(x){document.body?x():setTimeout(()=>{this.onDocumentBody(x)},0)},createJSONPRequest(x,d){return new sy(x,d)},createScriptRequest(x){return new ny(x)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var x=this.getXHRAPI();return new x},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return _y},createWebSocket(x){var d=this.getWebSocketAPI();return new d(x)},createSocketRequest(x,d){if(this.isXHRSupported())return this.HTTPFactory.createXHR(x,d);if(this.isXDRSupported(d.indexOf("https:")===0))return this.HTTPFactory.createXDR(x,d);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var x=this.getXHRAPI();return!!x&&new x().withCredentials!==void 0},isXDRSupported(x){var d=x?"https:":"http:",g=this.getProtocol();return!!window.XDomainRequest&&g===d},addUnloadListener(x){window.addEventListener!==void 0?window.addEventListener("unload",x,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",x)},removeUnloadListener(x){window.addEventListener!==void 0?window.removeEventListener("unload",x,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",x)},randomInt(x){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*x)}},Z=dx,nl;(function(x){x[x.ERROR=3]="ERROR",x[x.INFO=6]="INFO",x[x.DEBUG=7]="DEBUG"})(nl||(nl={}));var Ui=nl;class hx{constructor(d,g,k){this.key=d,this.session=g,this.events=[],this.options=k||{},this.sent=0,this.uniqueID=0}log(d,g){d<=this.options.level&&(this.events.push(Ne({},g,{timestamp:ye.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(d){this.log(Ui.ERROR,d)}info(d){this.log(Ui.INFO,d)}debug(d){this.log(Ui.DEBUG,d)}isEmpty(){return this.events.length===0}send(d,g){var k=Ne({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],d(k,(O,L)=>{O||this.sent++,g&&g(O,L)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class fx{constructor(d,g,k,O){this.name=d,this.priority=g,this.transport=k,this.options=O||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(d,g){if(this.isSupported()){if(this.priority<d)return Kd(new w,g)}else return Kd(new P,g);var k=!1,O=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),L=null,M=function(){O.unbind("initialized",M),O.connect()},z=function(){L=rr.createHandshake(O,function(Te){k=!0,ce(),g(null,Te)})},X=function(Te){ce(),g(Te)},le=function(){ce();var Te;Te=Li(O),g(new S(Te))},ce=function(){O.unbind("initialized",M),O.unbind("open",z),O.unbind("error",X),O.unbind("closed",le)};return O.bind("initialized",M),O.bind("open",z),O.bind("error",X),O.bind("closed",le),O.initialize(),{abort:()=>{k||(ce(),L?L.close():O.close())},forceMinPriority:Te=>{k||this.priority<Te&&(L?L.close():O.close())}}}}function Kd(x,d){return ye.defer(function(){d(x)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:mx}=Z;var px=function(x,d,g,k,O,L){var M=mx[g];if(!M)throw new R(g);var z=(!x.enabledTransports||Rd(x.enabledTransports,d)!==-1)&&(!x.disabledTransports||Rd(x.disabledTransports,d)===-1),X;return z?(O=Object.assign({ignoreNullOrigin:x.ignoreNullOrigin},O),X=new fx(d,k,L?L.getAssistant(M):M,O)):X=gx,X},gx={isSupported:function(){return!1},connect:function(x,d){var g=ye.defer(function(){d(new P)});return{abort:function(){g.ensureAborted()},forceMinPriority:function(){}}}};function vx(x){if(x==null)throw"You must pass an options object";if(x.cluster==null)throw"Options object must provide a cluster";"disableStats"in x&&xe.warn("The disableStats option is deprecated in favor of enableStats")}const yx=(x,d)=>{var g="socket_id="+encodeURIComponent(x.socketId);for(var k in d.params)g+="&"+encodeURIComponent(k)+"="+encodeURIComponent(d.params[k]);if(d.paramsProvider!=null){let O=d.paramsProvider();for(var k in O)g+="&"+encodeURIComponent(k)+"="+encodeURIComponent(O[k])}return g};var xx=x=>{if(typeof Z.getAuthorizers()[x.transport]>"u")throw`'${x.transport}' is not a recognized auth transport`;return(d,g)=>{const k=yx(d,x);Z.getAuthorizers()[x.transport](Z,k,x,j.UserAuthentication,g)}};const wx=(x,d)=>{var g="socket_id="+encodeURIComponent(x.socketId);g+="&channel_name="+encodeURIComponent(x.channelName);for(var k in d.params)g+="&"+encodeURIComponent(k)+"="+encodeURIComponent(d.params[k]);if(d.paramsProvider!=null){let O=d.paramsProvider();for(var k in O)g+="&"+encodeURIComponent(k)+"="+encodeURIComponent(O[k])}return g};var bx=x=>{if(typeof Z.getAuthorizers()[x.transport]>"u")throw`'${x.transport}' is not a recognized auth transport`;return(d,g)=>{const k=wx(d,x);Z.getAuthorizers()[x.transport](Z,k,x,j.ChannelAuthorization,g)}};const _x=(x,d,g)=>{const k={authTransport:d.transport,authEndpoint:d.endpoint,auth:{params:d.params,headers:d.headers}};return(O,L)=>{const M=x.channel(O.channelName);g(M,k).authorize(O.socketId,L)}};function jx(x,d){let g={activityTimeout:x.activityTimeout||c.activityTimeout,cluster:x.cluster,httpPath:x.httpPath||c.httpPath,httpPort:x.httpPort||c.httpPort,httpsPort:x.httpsPort||c.httpsPort,pongTimeout:x.pongTimeout||c.pongTimeout,statsHost:x.statsHost||c.stats_host,unavailableTimeout:x.unavailableTimeout||c.unavailableTimeout,wsPath:x.wsPath||c.wsPath,wsPort:x.wsPort||c.wsPort,wssPort:x.wssPort||c.wssPort,enableStats:Cx(x),httpHost:Sx(x),useTLS:Ex(x),wsHost:Nx(x),userAuthenticator:Ox(x),channelAuthorizer:Px(x,d)};return"disabledTransports"in x&&(g.disabledTransports=x.disabledTransports),"enabledTransports"in x&&(g.enabledTransports=x.enabledTransports),"ignoreNullOrigin"in x&&(g.ignoreNullOrigin=x.ignoreNullOrigin),"timelineParams"in x&&(g.timelineParams=x.timelineParams),"nacl"in x&&(g.nacl=x.nacl),g}function Sx(x){return x.httpHost?x.httpHost:x.cluster?`sockjs-${x.cluster}.pusher.com`:c.httpHost}function Nx(x){return x.wsHost?x.wsHost:kx(x.cluster)}function kx(x){return`ws-${x}.pusher.com`}function Ex(x){return Z.getProtocol()==="https:"?!0:x.forceTLS!==!1}function Cx(x){return"enableStats"in x?x.enableStats:"disableStats"in x?!x.disableStats:!1}function Ox(x){const d=Object.assign(Object.assign({},c.userAuthentication),x.userAuthentication);return"customHandler"in d&&d.customHandler!=null?d.customHandler:xx(d)}function Rx(x,d){let g;return"channelAuthorization"in x?g=Object.assign(Object.assign({},c.channelAuthorization),x.channelAuthorization):(g={transport:x.authTransport||c.authTransport,endpoint:x.authEndpoint||c.authEndpoint},"auth"in x&&("params"in x.auth&&(g.params=x.auth.params),"headers"in x.auth&&(g.headers=x.auth.headers)),"authorizer"in x&&(g.customHandler=_x(d,g,x.authorizer))),g}function Px(x,d){const g=Rx(x,d);return"customHandler"in g&&g.customHandler!=null?g.customHandler:bx(g)}class Tx extends tr{constructor(d){super(function(g,k){xe.debug(`No callbacks on watchlist events for ${g}`)}),this.pusher=d,this.bindWatchlistInternalEvent()}handleEvent(d){d.data.events.forEach(g=>{this.emit(g.name,g)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",d=>{var g=d.event;g==="pusher_internal:watchlist_events"&&this.handleEvent(d)})}}function Ax(){let x,d;return{promise:new Promise((k,O)=>{x=k,d=O}),resolve:x,reject:d}}var Lx=Ax;class Ix extends tr{constructor(d){super(function(g,k){xe.debug("No callbacks on user for "+g)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(g,k)=>{if(g){xe.warn(`Error during signin: ${g}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:k.auth,user_data:k.user_data})},this.pusher=d,this.pusher.connection.bind("state_change",({previous:g,current:k})=>{g!=="connected"&&k==="connected"&&this._signin(),g==="connected"&&k!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Tx(d),this.pusher.connection.bind("message",g=>{var k=g.event;k==="pusher:signin_success"&&this._onSigninSuccess(g.data),this.serverToUserChannel&&this.serverToUserChannel.name===g.channel&&this.serverToUserChannel.handleEvent(g)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(d){try{this.user_data=JSON.parse(d.user_data)}catch{xe.error(`Failed parsing user data after signin: ${d.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){xe.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const d=g=>{g.subscriptionPending&&g.subscriptionCancelled?g.reinstateSubscription():!g.subscriptionPending&&this.pusher.connection.state==="connected"&&g.subscribe()};this.serverToUserChannel=new Xo(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((g,k)=>{g.indexOf("pusher_internal:")===0||g.indexOf("pusher:")===0||this.emit(g,k)}),d(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:d,resolve:g}=Lx();d.done=!1;const k=()=>{d.done=!0};d.then(k).catch(k),this.signinDonePromise=d,this._signinDoneResolve=g}}class Be{static ready(){Be.isReady=!0;for(var d=0,g=Be.instances.length;d<g;d++)Be.instances[d].connect()}static getClientFeatures(){return Pd(Ld({ws:Z.Transports.ws},function(d){return d.isSupported({})}))}constructor(d,g){$x(d),vx(g),this.key=d,this.config=jx(g,this),this.channels=rr.createChannels(),this.global_emitter=new tr,this.sessionID=Z.randomInt(1e9),this.timeline=new hx(this.key,this.sessionID,{cluster:this.config.cluster,features:Be.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Ui.INFO,version:c.VERSION}),this.config.enableStats&&(this.timelineSender=rr.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Z.TimelineTransport.name}));var k=O=>Z.getDefaultStrategy(this.config,O,px);this.connection=rr.createConnectionManager(this.key,{getStrategy:k,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",O=>{var L=O.event,M=L.indexOf("pusher_internal:")===0;if(O.channel){var z=this.channel(O.channel);z&&z.handleEvent(O)}M||this.global_emitter.emit(O.event,O.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",O=>{xe.warn(O)}),Be.instances.push(this),this.timeline.info({instances:Be.instances.length}),this.user=new Ix(this),Be.isReady&&this.connect()}channel(d){return this.channels.find(d)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var d=this.connection.isUsingTLS(),g=this.timelineSender;this.timelineSenderTimer=new Wt(6e4,function(){g.send(d)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(d,g,k){return this.global_emitter.bind(d,g,k),this}unbind(d,g,k){return this.global_emitter.unbind(d,g,k),this}bind_global(d){return this.global_emitter.bind_global(d),this}unbind_global(d){return this.global_emitter.unbind_global(d),this}unbind_all(d){return this.global_emitter.unbind_all(),this}subscribeAll(){var d;for(d in this.channels.channels)this.channels.channels.hasOwnProperty(d)&&this.subscribe(d)}subscribe(d){var g=this.channels.add(d,this);return g.subscriptionPending&&g.subscriptionCancelled?g.reinstateSubscription():!g.subscriptionPending&&this.connection.state==="connected"&&g.subscribe(),g}unsubscribe(d){var g=this.channels.find(d);g&&g.subscriptionPending?g.cancelSubscription():(g=this.channels.remove(d),g&&g.subscribed&&g.unsubscribe())}send_event(d,g,k){return this.connection.send_event(d,g,k)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Be.instances=[],Be.isReady=!1,Be.logToConsole=!1,Be.Runtime=Z,Be.ScriptReceivers=Z.ScriptReceivers,Be.DependenciesReceivers=Z.DependenciesReceivers,Be.auth_callbacks=Z.auth_callbacks;var sl=n.default=Be;function $x(x){if(x==null)throw"You must pass your app key when you instantiate Pusher."}Z.setup(Be)}])})})(fN);class mN{constructor(){this.pusher=null,this.channels=new Map}initialize(){return this.pusher?this.pusher:(console.warn("Pusher key missing  realtime disabled."),null)}subscribe(t,r,n){if(!this.pusher&&!this.initialize())return null;try{if(!this.pusher)return null;const s=this.pusher.subscribe(t);return s.bind(r,n),this.channels.set(`${t}-${r}`,s),s}catch(s){return console.warn(`Pusher subscription error for ${t}:`,s.message),null}}unsubscribe(t,r){const n=`${t}-${r}`,s=this.channels.get(n);s&&(s.unbind(r),this.channels.delete(n))}unsubscribeChannel(t){this.pusher&&this.pusher.unsubscribe(t)}disconnect(){this.pusher&&(this.pusher.disconnect(),this.pusher=null,this.channels.clear())}subscribeToOrderUpdates(t,r){return this.subscribe(`order.${t}`,"status-updated",r)}subscribeToRestaurantOrders(t,r){return this.subscribe(`restaurant.${t}`,"new-order",r)}subscribeToCourierOrders(t,r){return this.subscribe(`courier.${t}`,"order-assigned",r)}subscribeToUserNotifications(t,r){return this.subscribe(`user.${t}`,"notification",r)}}const ha=new mN,pN=N.createContext(),gN=({children:e})=>{const{user:t,isAuthenticated:r}=Ze(),[n,s]=N.useState(!1),[i,a]=N.useState([]);N.useEffect(()=>(r()&&t?l():(ha.disconnect(),s(!1)),()=>{ha.disconnect()}),[t,r]);const l=()=>{{s(!1);return}},m={isConnected:n,notifications:i,subscribeToOrderUpdates:(p,v)=>ha.subscribeToOrderUpdates(p,v),unsubscribeFromOrderUpdates:p=>{ha.unsubscribe(`order.${p}`,"status-updated")},clearNotifications:()=>{a([])}};return o.jsx(pN.Provider,{value:m,children:e})};function vN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const yN=N.forwardRef(vN);function xN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const gv=N.forwardRef(xN);function wN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const bN=N.forwardRef(wN);function _N({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const jN=N.forwardRef(_N);function SN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mn=N.forwardRef(SN);function NN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const kN=N.forwardRef(NN);function EN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const yt=N.forwardRef(EN);function CN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ON=N.forwardRef(CN);function RN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const PN=N.forwardRef(RN);function TN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const jd=N.forwardRef(TN);function AN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const vv=N.forwardRef(AN);function LN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const _t=N.forwardRef(LN);function IN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const jt=N.forwardRef(IN);function $N({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const UN=N.forwardRef($N);function FN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const MN=N.forwardRef(FN);function DN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const BN=N.forwardRef(DN);function zN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const yo=N.forwardRef(zN);function qN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const dt=N.forwardRef(qN);function HN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const WN=N.forwardRef(HN);function VN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const KN=N.forwardRef(VN);function QN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const JN=N.forwardRef(QN);function GN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const nm=N.forwardRef(GN);function XN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Sd=N.forwardRef(XN);function YN({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const ZN=N.forwardRef(YN);function ek({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Nd=N.forwardRef(ek);function tk({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const cr=N.forwardRef(tk);function rk({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const nk=N.forwardRef(rk);function sk({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const os=N.forwardRef(sk);function ik({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const ak=N.forwardRef(ik);function ok({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const lk=N.forwardRef(ok);function ck({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const gr=N.forwardRef(ck);function uk({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const xo=N.forwardRef(uk);function dk({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const hk=N.forwardRef(dk);function fk({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const mk=N.forwardRef(fk);function pk({title:e,titleId:t,...r},n){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?N.createElement("title",{id:t},e):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const yv=N.forwardRef(pk),xv=N.createContext(),kd=()=>{const e=N.useContext(xv);if(!e)throw new Error("useCart must be used within a CartProvider");return e},gk=({children:e})=>{const[t,r]=N.useState([]),[n,s]=N.useState(null),i=(p,v)=>{s(v),r(b=>b.find(_=>_.id===p.id)?b.map(_=>_.id===p.id?{..._,quantity:_.quantity+1}:_):[...b,{...p,quantity:1}])},a=p=>{r(v=>v.filter(b=>b.id!==p)),t.length===1&&s(null)},m={items:t,restaurant:n,addItem:i,removeItem:a,updateQuantity:(p,v)=>{if(v<=0){a(p);return}r(b=>b.map(j=>j.id===p?{...j,quantity:v}:j))},clearCart:()=>{r([]),s(null)},getTotalPrice:()=>t.reduce((p,v)=>p+v.price*v.quantity,0),getTotalItems:()=>t.reduce((p,v)=>p+v.quantity,0)};return o.jsx(xv.Provider,{value:m,children:e})},vk=()=>{const{items:e,restaurant:t,removeItem:r,updateQuantity:n,getTotalPrice:s,getTotalItems:i,clearCart:a}=kd();return e.length===0?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(cr,{className:"mx-auto h-24 w-24 text-gray-400 mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),o.jsx("p",{className:"text-gray-600 mb-6",children:"    "}),o.jsx(te,{to:"/restaurants",className:"btn-primary",children:" "})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"card-header",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["  (",i()," )"]}),t&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" : ",t.name]})]}),o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"space-y-4",children:e.map(l=>o.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse border-b border-gray-200 pb-4",children:[o.jsx("div",{className:"flex-shrink-0 h-20 w-20",children:l.image?o.jsx("img",{className:"h-20 w-20 rounded-lg object-cover",src:l.image,alt:l.name}):o.jsx("div",{className:"h-20 w-20 rounded-lg bg-gray-200 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500 text-sm",children:""})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:l.name}),o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:l.description}),o.jsxs("p",{className:"text-lg font-semibold text-primary-600 mt-1",children:[l.price," ."]})]}),o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[o.jsx("button",{onClick:()=>n(l.id,l.quantity-1),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:o.jsx(WN,{className:"h-5 w-5 text-gray-500"})}),o.jsx("span",{className:"text-lg font-medium text-gray-900 min-w-[2rem] text-center",children:l.quantity}),o.jsx("button",{onClick:()=>n(l.id,l.quantity+1),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:o.jsx(Nd,{className:"h-5 w-5 text-gray-500"})})]}),o.jsx("button",{onClick:()=>r(l.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(lk,{className:"h-5 w-5"})})]},l.id))}),o.jsx("div",{className:"mt-6 flex justify-between",children:o.jsx("button",{onClick:a,className:"text-sm text-red-600 hover:text-red-700 font-medium",children:" "})})]})]})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"card sticky top-8",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsxs("div",{className:"card-body",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:" :"}),o.jsxs("span",{className:"text-gray-900",children:[s()," ."]})]}),t&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:" :"}),o.jsx("span",{className:"text-gray-900",children:t.delivery_fee>0?`${t.delivery_fee} .`:""})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:" (10%):"}),o.jsxs("span",{className:"text-gray-900",children:[(s()*.1).toFixed(2)," ."]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-3",children:o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{className:"text-gray-900",children:" :"}),o.jsxs("span",{className:"text-gray-900",children:[(s()+((t==null?void 0:t.delivery_fee)||0)+s()*.1).toFixed(2)," ."]})]})})]}),o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsx(te,{to:"/checkout",className:"w-full btn-primary text-center block",children:" "}),o.jsx(te,{to:"/restaurants",className:"w-full btn-outline text-center block",children:" "})]})]})]})})]})})})},wv=N.createContext(),Oi=()=>{const e=N.useContext(wv);if(!e)throw new Error("useLocation must be used within a LocationProvider");return e},yk=({children:e})=>{const[t,r]=N.useState(null),[n,s]=N.useState(!1),[i,a]=N.useState(!1);N.useEffect(()=>{const j=localStorage.getItem("userLocation"),_=localStorage.getItem("hasVisitedBefore");if(j)try{const f=JSON.parse(j);r(f)}catch(f){console.error("Error parsing saved location:",f),localStorage.removeItem("userLocation")}(!_||!j)&&(a(!0),setTimeout(()=>{s(!0)},1e3),_||localStorage.setItem("hasVisitedBefore","true"))},[]);const l=j=>{r(j),localStorage.setItem("userLocation",JSON.stringify(j))},c=j=>{l(j),s(!1)},u=()=>{s(!0)},h=()=>{s(!1)},m=()=>{r(null),localStorage.removeItem("userLocation")},p=(j,_,f,y)=>{const S=(f-j)*Math.PI/180,E=(y-_)*Math.PI/180,R=Math.sin(S/2)*Math.sin(S/2)+Math.cos(j*Math.PI/180)*Math.cos(f*Math.PI/180)*Math.sin(E/2)*Math.sin(E/2);return 6371*(2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R)))},b={userLocation:t,isLocationModalOpen:n,isFirstVisit:i,updateLocation:c,openLocationModal:u,closeLocationModal:h,clearLocation:m,calculateDistance:p,filterRestaurantsByDistance:(j,_=5)=>!t||!Array.isArray(j)?j:j.filter(f=>!f.latitude||!f.longitude?!0:p(t.latitude,t.longitude,f.latitude,f.longitude)<=_).map(f=>{if(f.latitude&&f.longitude){const y=p(t.latitude,t.longitude,f.latitude,f.longitude);return{...f,distance:Math.round(y*10)/10}}return f}).sort((f,y)=>f.distance&&y.distance?f.distance-y.distance:f.distance&&!y.distance?-1:!f.distance&&y.distance?1:0)};return o.jsx(wv.Provider,{value:b,children:e})};class xk extends _e.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[o.jsx("div",{className:"text-red-600 mb-4",children:o.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"   "}),o.jsx("p",{className:"text-gray-600 mb-6",children:"    .        ."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"  "}),o.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"  "})]}),!1]})}):this.props.children}}const wk=()=>{const{isLocationModalOpen:e,closeLocationModal:t,updateLocation:r}=Oi(),[n,s]=N.useState(""),[i,a]=N.useState(!1),[l,c]=N.useState(""),[u,h]=N.useState([]);N.useEffect(()=>{const b=j=>{j.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",b),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",b),document.body.style.overflow="unset"}},[e,t]);const m=()=>{if(a(!0),c(""),!navigator.geolocation){c("    "),a(!1);return}navigator.geolocation.getCurrentPosition(async b=>{var j,_,f,y,w;try{const{latitude:S,longitude:E}=b.coords,R=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${S}&longitude=${E}&localityLanguage=ar&localityLanguage=fr`);if(R.ok){const P=await R.json(),C=[],I=((_=(j=P.localityInfo)==null?void 0:j.locality)==null?void 0:_.name)||null;let T=null;if((f=P.localityInfo)!=null&&f.informative&&Array.isArray(P.localityInfo.informative)){const Y=P.localityInfo.informative.find(oe=>oe.description==="Neighborhood"||oe.description==="Sublocality");Y&&(T=Y.name)}const U=((w=(y=P.localityInfo)==null?void 0:y.administrativeArea)==null?void 0:w.name)||null;I&&I!==P.locality&&I!==P.city&&I!==T&&C.push(I),T&&T!==P.locality&&T!==P.city&&T!==U&&C.push(T),U&&U!==P.locality&&U!==P.city&&C.push(U),(P.locality||P.city)&&C.push(P.locality||P.city),P.countryName&&C.push(P.countryName);const D=C.length>0?C.join(", "):" ";console.log("Location API Response:",P),console.log("Extracted Street:",I),console.log("Extracted Neighborhood:",T),console.log("Extracted District:",U),console.log("Address Parts:",C),console.log("Detailed Address:",D),r({latitude:S,longitude:E,address:D,city:P.locality||P.city||" ",country:P.countryName||"",district:U,street:I,neighborhood:T,fullAddress:P.localityInfo||null,accuracy:b.coords.accuracy,timestamp:new Date().toISOString()})}else r({latitude:S,longitude:E,address:" ",city:" ",country:""})}catch(S){console.error("Error getting address:",S),r({latitude:b.coords.latitude,longitude:b.coords.longitude,address:" ",city:" ",country:""})}finally{a(!1)}},b=>{console.error("Geolocation error:",b);let j="    ";switch(b.code){case b.PERMISSION_DENIED:j="    ";break;case b.POSITION_UNAVAILABLE:j="  ";break;case b.TIMEOUT:j="   ";break}c(j),a(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},p=async()=>{var b,j,_,f,y;if(n.trim()){a(!0),c("");try{const w=await fetch(`https://api.bigdatacloud.net/data/forward-geocode-client?query=${encodeURIComponent(n)}&localityLanguage=ar&localityLanguage=fr`);if(w.ok){const S=await w.json();if(S.results&&S.results.length>0){const E=S.results[0],R=[],P=((j=(b=E.localityInfo)==null?void 0:b.locality)==null?void 0:j.name)||null;let C=null;if((_=E.localityInfo)!=null&&_.informative&&Array.isArray(E.localityInfo.informative)){const U=E.localityInfo.informative.find(D=>D.description==="Neighborhood"||D.description==="Sublocality");U&&(C=U.name)}const I=((y=(f=E.localityInfo)==null?void 0:f.administrativeArea)==null?void 0:y.name)||null;P&&P!==E.locality&&P!==E.city&&P!==C&&R.push(P),C&&C!==E.locality&&C!==E.city&&C!==I&&R.push(C),I&&I!==E.locality&&I!==E.city&&R.push(I),(E.locality||E.city)&&R.push(E.locality||E.city),E.countryName&&R.push(E.countryName);const T=R.length>0?R.join(", "):n;console.log("Search API Response:",E),console.log("Search Extracted Street:",P),console.log("Search Extracted Neighborhood:",C),console.log("Search Extracted District:",I),console.log("Search Address Parts:",R),console.log("Search Detailed Address:",T),r({latitude:E.latitude,longitude:E.longitude,address:T,city:E.locality||E.city||n,country:E.countryName||"",district:I,street:P,neighborhood:C,fullAddress:E.localityInfo||null,accuracy:10,timestamp:new Date().toISOString()})}else c("     ")}else c("     ")}catch(w){console.error("Search error:",w),c("     ")}finally{a(!1)}}},v=[{name:" ",emoji:""},{name:"",emoji:""},{name:"",emoji:""},{name:"",emoji:""},{name:"",emoji:""},{name:"",emoji:""},{name:"",emoji:""},{name:"",emoji:""}];return e?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[o.jsx("div",{className:"location-modal-backdrop fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),o.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:o.jsxs("div",{className:"location-modal-content relative bg-white rounded-xl shadow-xl w-full max-w-md transform transition-all",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"  "}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(yv,{className:"h-5 w-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:o.jsx(yo,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"  ...",value:n,onChange:b=>s(b.target.value),onKeyPress:b=>b.key==="Enter"&&p(),className:"block w-full pr-10 pl-3 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"})]}),o.jsx("button",{onClick:p,disabled:!n.trim()||i,className:"w-full mt-3 bg-primary-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-2"})," ..."]}):"  "})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("button",{onClick:m,disabled:i,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:[o.jsx(dt,{className:"h-5 w-5 ml-2"}),i?"  ...":"  "]})}),l&&o.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"h-5 w-5 text-red-400 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),o.jsx("span",{className:"text-sm text-red-700",children:l})]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:" "}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:v.map(b=>o.jsxs("button",{onClick:()=>{s(b.name),setTimeout(()=>p(),100)},disabled:i,className:"flex items-center justify-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-primary-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx("span",{className:"text-lg ml-2",children:b.emoji}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:b.name})]},b.name))})]})]}),o.jsx("div",{className:"px-6 py-4 bg-gray-50 rounded-b-xl",children:o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"         "})})]})})]}):null},bk=()=>{const[e,t]=N.useState(!1),{user:r,isAuthenticated:n,logout:s,hasRole:i}=Ze(),{isDark:a,toggleTheme:l}=dN(),{userLocation:c,openLocationModal:u}=Oi(),h=Tt(),m=yr(),v=(()=>{if(c){if(c.address)return c.address;const w=[];if(c.street&&w.push(c.street),c.neighborhood&&w.push(c.neighborhood),c.city&&w.push(c.city),c.country&&w.push(c.country),w.length>0)return w.join(", ")}if(r!=null&&r.address)return r.address;if(r){const w=[];if(r.street&&w.push(r.street),r.neighborhood&&w.push(r.neighborhood),r.city&&w.push(r.city),w.length>0)return w.join(", ")}return null})(),b=()=>{u()},j=()=>{s(),h("/")},_=()=>i("admin")?"/admin":i("restaurant")?"/restaurant":i("courier")?"/courier":"/dashboard",f=[{name:"",href:"/",icon:BN},{name:"",href:"/restaurants",icon:gv}],y=[{name:" ",href:"/profile",icon:xo},{name:" ",href:_(),icon:ON}];return o.jsx("nav",{className:"bg-white dark:bg-gray-900 shadow-lg sticky top-0 z-50 transition-colors duration-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs(te,{to:"/",className:"flex-shrink-0 flex items-center",children:[o.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),o.jsx("span",{className:"mr-3 text-xl font-bold text-gradient",children:"Eat to Eat"})]})}),o.jsxs("div",{className:"hidden md:flex items-center space-x-8 space-x-reverse",children:[v&&o.jsxs("button",{onClick:b,className:"flex items-center space-x-2 space-x-reverse px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-full text-sm font-semibold text-gray-900 transition-all duration-200 shadow-sm",children:[o.jsx(dt,{className:"h-4 w-4 text-gray-700 flex-shrink-0"}),o.jsx("span",{className:"max-w-[220px] truncate",children:v}),o.jsx(kN,{className:"h-4 w-4 text-gray-500 flex-shrink-0"})]}),f.map(w=>o.jsx(te,{to:w.href,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m.pathname===w.href?"text-primary-600 bg-primary-50 dark:text-primary-400 dark:bg-primary-900/20":"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:w.name},w.name))]}),o.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[o.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),console.log(" Dark mode toggle clicked, current theme:",a?"dark":"light"),l()},className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 dark:text-gray-300 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","aria-label":a?"  ":"  ",title:a?"  ":"  ",children:a?o.jsx(ak,{className:"h-5 w-5"}):o.jsx(KN,{className:"h-5 w-5"})}),o.jsx(te,{to:"/cart",className:"p-2 rounded-md text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors relative",children:o.jsx(nk,{className:"h-5 w-5"})}),n()?o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-2 space-x-reverse p-2 rounded-md text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[o.jsx("div",{className:"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center",children:r!=null&&r.avatar?o.jsx("img",{src:r.avatar,alt:r.name,className:"h-8 w-8 rounded-full object-cover"}):o.jsx(xo,{className:"h-5 w-5 text-primary-600"})}),o.jsx("span",{className:"text-sm font-medium",children:r==null?void 0:r.name})]}),e&&o.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-50 border border-gray-200 dark:border-gray-700",children:[y.map(w=>o.jsxs(te,{to:w.href,className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>t(!1),children:[o.jsx(w.icon,{className:"h-4 w-4 ml-3"}),w.name]},w.name)),o.jsx("button",{onClick:j,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:o.jsx("span",{className:"ml-3",children:" "})})]})]}):o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[o.jsx(te,{to:"/customer/login",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:" "}),o.jsx(te,{to:"/customer/register",className:"btn-primary dark:bg-primary-600 dark:hover:bg-primary-700",children:" "})]}),o.jsx("div",{className:"md:hidden",children:o.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 transition-colors",children:e?o.jsx(yv,{className:"h-6 w-6"}):o.jsx(yN,{className:"h-6 w-6"})})})]})]}),e&&o.jsx("div",{className:"md:hidden",children:o.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50 rounded-lg mt-2",children:[v&&o.jsxs("button",{onClick:()=>{b(),t(!1)},className:"flex items-center w-full px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-100 transition-colors",children:[o.jsx(dt,{className:"h-5 w-5 ml-3"}),o.jsx("span",{className:"truncate",children:v})]}),f.map(w=>o.jsxs(te,{to:w.href,className:`flex items-center px-3 py-2 rounded-md text-base font-medium transition-colors ${m.pathname===w.href?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-100"}`,onClick:()=>t(!1),children:[o.jsx(w.icon,{className:"h-5 w-5 ml-3"}),w.name]},w.name)),n()&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border-t border-gray-200 my-2"}),y.map(w=>o.jsxs(te,{to:w.href,className:"flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-100 transition-colors",onClick:()=>t(!1),children:[o.jsx(w.icon,{className:"h-5 w-5 ml-3"}),w.name]},w.name)),o.jsx("button",{onClick:j,className:"flex items-center w-full px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-100 transition-colors",children:" "})]})]})})]})})},_k=()=>o.jsx("footer",{className:"bg-gray-900 dark:bg-gray-950 text-white transition-colors duration-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"col-span-1 md:col-span-2",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),o.jsx("span",{className:"mr-3 text-xl font-bold",children:"Eat to Eat"})]}),o.jsx("p",{className:"text-gray-300 mb-4 max-w-md",children:"       .           ."}),o.jsxs("div",{className:"flex space-x-4 space-x-reverse",children:[o.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[o.jsx("span",{className:"sr-only",children:"Facebook"}),o.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})]}),o.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[o.jsx("span",{className:"sr-only",children:"Instagram"}),o.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297zm7.83-9.281c-.49 0-.875-.385-.875-.875s.385-.875.875-.875.875.385.875.875-.385.875-.875.875z"})})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(te,{to:"/restaurants",className:"text-gray-300 hover:text-white transition-colors",children:""})}),o.jsx("li",{children:o.jsx(te,{to:"/about",className:"text-gray-300 hover:text-white transition-colors",children:" "})}),o.jsx("li",{children:o.jsx(te,{to:"/contact",className:"text-gray-300 hover:text-white transition-colors",children:" "})}),o.jsx("li",{children:o.jsx(te,{to:"/privacy",className:"text-gray-300 hover:text-white transition-colors",children:" "})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(dt,{className:"h-5 w-5 text-primary-400 ml-2"}),o.jsx("span",{className:"text-gray-300",children:" "})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Sd,{className:"h-5 w-5 text-primary-400 ml-2"}),o.jsx("span",{className:"text-gray-300",children:"+20 123 456 7890"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(vv,{className:"h-5 w-5 text-primary-400 ml-2"}),o.jsx("span",{className:"text-gray-300",children:"info@eattoeat.com"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Eat to Eat.   ."}),o.jsxs("p",{className:"text-gray-400 text-sm flex items-center mt-2 md:mt-0",children:["  ",o.jsx(MN,{className:"h-4 w-4 text-red-500 mx-1"}),"  "]})]})})]})}),jk=()=>o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col transition-colors duration-200",children:[o.jsx(bk,{}),o.jsx("main",{className:"flex-1",children:o.jsx(d_,{})}),o.jsx(_k,{})]}),Sk=async(e,t=null)=>{try{let r=q.from("menu_items").select(`
        *,
        categories (
          id,
          name
        )
      `).eq("restaurant_id",e).eq("is_available",!0);t&&(r=r.eq("category_id",t));const{data:n,error:s}=await r.order("name");if(s)throw s;return{data:n,error:null}}catch(r){return console.error("Error fetching menu items:",r),Q.error("  "),{data:null,error:r}}},Nk=async e=>{try{const{data:t,error:r}=await q.from("categories").select("*").eq("restaurant_id",e).order("display_order").order("name");if(r)throw r;return{data:t,error:null}}catch(t){return console.error("Error fetching categories:",t),{data:null,error:t}}},bv=async(e={})=>{try{if(!q){const s=new Error("Supabase client is not initialized");return console.error(" Error: Supabase client is not initialized"),{data:null,error:s}}console.log(" Fetching restaurants with filters:",e);let t=q.from("restaurants").select("*").eq("is_active",!0);e.cuisine_type&&(t=t.eq("cuisine_type",e.cuisine_type)),e.city&&(t=t.eq("city",e.city)),e.min_rating&&(t=t.gte("rating",e.min_rating));const{data:r,error:n}=await t.order("rating",{ascending:!1});if(n)throw console.error(" Supabase error fetching restaurants:",n),console.error("Error details:",{message:n.message,details:n.details,hint:n.hint,code:n.code}),n;return console.log(` Successfully fetched ${(r==null?void 0:r.length)||0} restaurants`),r&&r.length>0?console.log(" Sample restaurant:",r[0]):console.warn(" No restaurants found in database. Make sure you have run the seed data SQL file."),{data:r||[],error:null}}catch(t){return console.error(" Error fetching restaurants:",t),{data:null,error:t}}},kk=async e=>{try{const{data:t,error:r}=await q.from("restaurants").select("*").eq("id",e).eq("is_active",!0).single();if(r)throw r;return{data:t,error:null}}catch(t){return console.error("Error fetching restaurant:",t),{data:null,error:t}}},Ek=async e=>{try{const t=await q.auth.getUser();if(!t||!t.data||!t.data.user)throw new Error("   ");const r=t.data.user,{data:n,error:s}=await q.from("orders").insert({user_id:r.id,restaurant_id:e.restaurant_id,address_id:e.address_id,total_amount:e.total_amount,delivery_fee:e.delivery_fee||0,payment_method:e.payment_method||"cash",notes:e.notes||null,status:"pending"}).select().single();if(s)throw s;const i=e.items.map(l=>({order_id:n.id,menu_item_id:l.menu_item_id,quantity:l.quantity,price:l.price,subtotal:l.price*l.quantity,special_instructions:l.special_instructions||null})),{error:a}=await q.from("order_items").insert(i);if(a)throw a;return Q.success("   !"),{data:n,error:null}}catch(t){return console.error("Error creating order:",t),Q.error(t.message||"  "),{data:null,error:t}}},Ck=async()=>{try{if(!q)throw new Error("Supabase client is not initialized");const t=await q.auth.getUser();if(t.error)throw new Error("   ");if(!t.data||!t.data.user)throw new Error("   ");const r=t.data.user.id,s=await q.from("orders").select(`
        *,
        restaurants (
          id,
          name,
          image_url
        ),
        addresses (
          id,
          label,
          address
        ),
        order_items (
          *,
          menu_items (
            id,
            name,
            image_url
          )
        )
      `).eq("user_id",r).order("created_at",{ascending:!1});if(s.error)throw s.error;return{data:s.data,error:null}}catch(e){return console.error("Error fetching user orders:",e),{data:null,error:e}}},Ok=async e=>{try{if(!q)throw new Error("Supabase client is not initialized");const r=await q.auth.getUser();if(r.error)throw new Error("   ");if(!r.data||!r.data.user)throw new Error("   ");const n=r.data.user.id,i=await q.from("orders").select(`
        *,
        restaurants (
          id,
          name,
          image_url,
          address,
          latitude,
          longitude
        ),
        addresses (
          id,
          label,
          address,
          latitude,
          longitude
        ),
        order_items (
          *,
          menu_items (
            id,
            name,
            image_url,
            price
          )
        )
      `).eq("id",e).eq("user_id",n).single();if(i.error)throw i.error;return{data:i.data,error:null}}catch(t){return console.error("Error fetching order:",t),{data:null,error:t}}},Rk=async(e,t="images",r="")=>{try{const n=await q.auth.getUser();if(!n||!n.data||!n.data.user)throw new Error("   ");const s=n.data.user,i=e.name.split(".").pop(),a=`${r?r+"/":""}${s.id}-${Date.now()}.${i}`,{error:l}=await q.storage.from(t).upload(a,e,{cacheControl:"3600",upsert:!1});if(l)throw l;const{data:{publicUrl:c}}=q.storage.from(t).getPublicUrl(a);return{data:{url:c,path:a},error:null}}catch(n){return console.error("Error uploading image:",n),Q.error("  "),{data:null,error:n}}},ls=(e,t="")=>{const r={:"https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=800&h=600&fit=crop",:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=600&fit=crop",:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop",:"https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=800&h=600&fit=crop",:"https://images.unsplash.com/photo-1563379091339-03246963d4d0?w=800&h=600&fit=crop"," ":"https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=800&h=600&fit=crop",:"https://images.unsplash.com/photo-1558030006-450675393462?w=800&h=600&fit=crop",:"https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=800&h=600&fit=crop"," ":"https://images.unsplash.com/photo-1559339352-11d035aa65de?w=800&h=600&fit=crop",:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=800&h=600&fit=crop"};if(e&&r[e])return r[e];const n=t.toLowerCase();return n.includes("")||n.includes("")?r.:n.includes("")||n.includes("")?r.:n.includes("")||n.includes("")||n.includes("")?r[" "]:n.includes("")||n.includes("")?r.:n.includes("")||n.includes("")?r.:n.includes("")?r.:n.includes("")||n.includes("")?r[" "]:n.includes("")?r.:r.||"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=600&fit=crop"},sm=(e="")=>(e.toLowerCase(),"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop"),Pk=()=>{const[e,t]=N.useState(""),{userLocation:r}=Oi(),n=yr(),s=r?{latitude:r.latitude,longitude:r.longitude}:null,i=(m,p,v,b)=>{const _=(v-m)*Math.PI/180,f=(b-p)*Math.PI/180,y=Math.sin(_/2)*Math.sin(_/2)+Math.cos(m*Math.PI/180)*Math.cos(v*Math.PI/180)*Math.sin(f/2)*Math.sin(f/2);return 6371*(2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y)))},{data:a,isLoading:l,error:c}=wt(["restaurants",s,e],async()=>{const p=await bv({});if(p.error)throw p.error;let v=p.data||[];if(e&&v.length>0){const b=e.toLowerCase();v=v.filter(j=>{var _,f,y;return((_=j.name)==null?void 0:_.toLowerCase().includes(b))||((f=j.description)==null?void 0:f.toLowerCase().includes(b))||((y=j.cuisine_type)==null?void 0:y.toLowerCase().includes(b))})}return s&&v.length>0&&(v=v.map(b=>{if(b.latitude&&b.longitude){const j=i(s.latitude,s.longitude,b.latitude,b.longitude);return{...b,distance:j}}return b}),v.sort((b,j)=>(b.distance||999)-(j.distance||999))),v},{staleTime:5*60*1e3,retry:1,enabled:!0,onError:m=>{console.error("Error fetching restaurants:",m)}});N.useEffect(()=>{var m;if((m=n.state)!=null&&m.registrationSuccess){const p=n.state.message||"   !    Eat to Eat ";Q.success(p,{duration:5e3,icon:"",style:{background:"#10b981",color:"#fff",fontSize:"16px",padding:"16px"}}),window.history.replaceState({},document.title)}},[n.state]);const u=_e.useMemo(()=>{if(!a)return[];if(Array.isArray(a))return a;const m=a==null?void 0:a.data;return Array.isArray(m)?m:m!=null&&m.data&&Array.isArray(m.data)?m.data:m!=null&&m.restaurants&&Array.isArray(m.restaurants)?m.restaurants:[]},[a]),h=[{icon:gr,title:" ",description:"    30 "},{icon:os,title:" ",description:"  "},{icon:dt,title:" ",description:"    "},{icon:yt,title:" 24/7",description:"    "}];return o.jsxs("div",{className:"min-h-screen",children:[o.jsx("section",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 text-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"   "}),o.jsx("p",{className:"text-xl md:text-2xl mb-8 text-primary-100",children:"       "}),o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:o.jsx(yo,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),o.jsx("input",{type:"text",placeholder:"     ...",value:e,onChange:m=>t(m.target.value),className:"block w-full pr-10 pl-3 py-4 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white dark:focus:ring-primary-500 focus:border-transparent transition-colors"})]})})]})})}),o.jsx("section",{className:"py-16 bg-white dark:bg-gray-800 transition-colors duration-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"  Eat to Eat"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"       "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:h.map((m,p)=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mx-auto h-16 w-16 bg-primary-100 dark:bg-primary-900/30 rounded-full flex items-center justify-center mb-4",children:o.jsx(m.icon,{className:"h-8 w-8 text-primary-600 dark:text-primary-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:m.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:m.description})]},p))})]})}),o.jsx("section",{className:"py-16 bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:" "}),o.jsx(te,{to:"/restaurants",className:"text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium transition-colors",children:" "})]}),l?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,p)=>o.jsxs("div",{className:"card animate-pulse",children:[o.jsx("div",{className:"h-48 bg-gray-300"}),o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-gray-300 rounded w-2/3"})]})]},p))}):c?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-red-600 mb-4",children:o.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"   "}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:(c==null?void 0:c.message)||"    "}),o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700",children:" "})]}):Array.isArray(u)&&u.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"    "}),o.jsx(te,{to:"/restaurants",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:"  "})]}):Array.isArray(u)&&u.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.slice(0,6).map(m=>o.jsxs(te,{to:`/restaurants/${m.id}`,className:"card hover:shadow-lg transition-shadow duration-300",children:[o.jsxs("div",{className:"h-48 bg-gray-200 relative overflow-hidden",children:[o.jsx("img",{src:m.cover_image||ls(m.cuisine_type,m.name),alt:m.name,className:"w-full h-full object-cover",onError:p=>{p.target.src=ls(m.cuisine_type,m.name)}}),o.jsxs("div",{className:"absolute top-2 right-2 bg-white dark:bg-gray-800 rounded-full px-2 py-1 flex items-center shadow-md",children:[o.jsx(os,{className:"h-4 w-4 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mr-1",children:(m.rating||0).toFixed(1)})]})]}),o.jsxs("div",{className:"card-body",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:m.name||""}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-3 line-clamp-2",children:m.description||"   "}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(dt,{className:"h-4 w-4 ml-1"}),o.jsx("span",{children:" "})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(yt,{className:"h-4 w-4 ml-1"}),o.jsx("span",{children:"25-35 "})]})]})]})]},m.id))}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"    "}),o.jsx(te,{to:"/restaurants",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:"  "})]})]})}),o.jsx("section",{className:"bg-primary-600 text-white py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h2",{className:"text-3xl font-bold mb-4",children:"  "}),o.jsx("p",{className:"text-xl text-primary-100 mb-8",children:"       Eat to Eat"}),o.jsx(te,{to:"/restaurants",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-primary-600 bg-white hover:bg-gray-50 transition-colors",children:"  "})]})})]})},Tk=()=>{var p,v;const[e,t]=N.useState({email:"",password:""}),[r,n]=N.useState(!1),[s,i]=N.useState(!1),{login:a}=Ze(),l=Tt(),u=((v=(p=yr().state)==null?void 0:p.from)==null?void 0:v.pathname)||"/",h=b=>{t({...e,[b.target.name]:b.target.value})},m=async b=>{b.preventDefault(),i(!0),(await a(e.email,e.password)).success&&l(u,{replace:!0}),i(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"E"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:" "}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",o.jsx(te,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"  "})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:h,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:h,className:"input pr-10",placeholder:"  "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"remember-me",className:"mr-2 block text-sm text-gray-900",children:""})]}),o.jsx("div",{className:"text-sm",children:o.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"  "})})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):" "})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",o.jsx(te,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"  "})]})})]})]})})},Ak=()=>{const[e,t]=N.useState({name:"",email:"",password:"",password_confirmation:"",role:"customer",phone:"",address:"",latitude:"",longitude:""}),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[a,l]=N.useState(!1),[c,u]=N.useState({}),{register:h}=Ze(),m=Tt(),p=j=>{t({...e,[j.target.name]:j.target.value})},v=async j=>{var E;j.preventDefault(),l(!0),u({});const _=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,f=e.email.trim();if(e.email&&!_.test(f)){let R="   ";f.includes("gamil")||f.includes("gmial")||f.includes("gmai")?R='   .   "gmail.com"':f.includes("@")&&!f.includes(".")?R="        (: example.com)":f.includes("@")||(R="      @"),u({email:[R]}),l(!1);return}const y={"gamil.com":"gmail.com","gmial.com":"gmail.com","gmai.com":"gmail.com","yahooo.com":"yahoo.com","hotmial.com":"hotmail.com","outlok.com":"outlook.com"},w=(E=f.split("@")[1])==null?void 0:E.toLowerCase();if(w&&y[w]){const R=f.replace(w,y[w]);u({email:[`   .   "${R}"`]}),l(!1);return}const S=await h(e);if(S.success)m("/");else if(S.error&&typeof S.error=="object")if(S.error.general){const R=S.error.general[0]||S.error.general;R.includes("email")||R.includes("Email")||R.includes("")?u({email:[R]}):u(S.error)}else u(S.error);else S.error&&u({general:[S.error]});l(!1)},b=()=>{if(!navigator.geolocation){alert("     ");return}const j=document.createElement("div");j.textContent="  ...",j.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #f3f4f6;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      font-family: Arial, sans-serif;
    `,document.body.appendChild(j),navigator.geolocation.getCurrentPosition(_=>{document.body.removeChild(j),t({...e,latitude:_.coords.latitude.toString(),longitude:_.coords.longitude.toString()}),alert("   !")},_=>{document.body.removeChild(j);let f="    ";switch(_.code){case _.PERMISSION_DENIED:f="     ";break;case _.POSITION_UNAVAILABLE:f="   ";break;case _.TIMEOUT:f="   ";break}alert(f),console.error("Error getting location:",_)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"E"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"  "}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",o.jsx(te,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:" "})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[Object.keys(c).length>0&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"mr-3 flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Validation errors"}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(c).map(([j,_])=>o.jsx("li",{children:Array.isArray(_)?_.join(", "):_},j))})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx("button",{type:"button",onClick:()=>u({}),className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:p,className:`mt-1 input ${c.name?"border-red-500":""}`,placeholder:"  "}),c.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.name)?c.name.join(", "):c.name})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:p,className:`mt-1 input ${c.email?"border-red-500":""}`,placeholder:"  "}),c.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.email)?c.email.join(", "):c.email})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("select",{id:"role",name:"role",value:e.role,onChange:p,className:"mt-1 input",children:[o.jsx("option",{value:"customer",children:""}),o.jsx("option",{value:"restaurant",children:" "}),o.jsx("option",{value:"courier",children:" "})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:p,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:""}),o.jsx("textarea",{id:"address",name:"address",rows:3,value:e.address,onChange:p,className:"mt-1 input",placeholder:" "})]}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:b,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-primary-600 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 hover:text-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200",children:[o.jsxs("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"  "]}),e.latitude&&e.longitude&&o.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 text-green-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsxs("span",{className:"text-sm text-green-800",children:["   : ",parseFloat(e.latitude).toFixed(4),", ",parseFloat(e.longitude).toFixed(4)]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:p,className:`input pr-10 ${c.password?"border-red-500":""}`,placeholder:"  "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]}),c.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.password)?c.password.join(", "):c.password})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700",children:"  "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password_confirmation",name:"password_confirmation",type:s?"text":"password",autoComplete:"new-password",required:!0,value:e.password_confirmation,onChange:p,className:`input pr-10 ${c.password_confirmation?"border-red-500":""}`,placeholder:"   "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]}),c.password_confirmation&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.password_confirmation)?c.password_confirmation.join(", "):c.password_confirmation})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):" "})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",o.jsx(te,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:" "})]})})]})]})})},Lk=()=>{const[e,t]=N.useState({email:"",password:""}),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[a,l]=N.useState(""),[c,u]=N.useState(!1),[h,m]=N.useState(!1),{login:p}=Ze(),v=Tt(),b=f=>{t({...e,[f.target.name]:f.target.value})},j=async f=>{var w;f.preventDefault(),i(!0),l("");const y=await p(e.email,e.password);if(y.success)v("/");else{const S=((w=y.error)==null?void 0:w.message)||y.error||"    ";l(S)}i(!1)},_=async()=>{if(!e.email){Q.error("    ");return}u(!0),m(!1),(await lN(e.email)).success&&(m(!0),setTimeout(()=>m(!1),5e3)),u(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-blue-600 to-green-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"E"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"  "}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",o.jsx(te,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"  "})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:j,children:[a&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"mr-3 flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"   "}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:a}),(a.includes(" ")||a.includes("Email confirmations")||a.includes("not confirmed"))&&o.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:[o.jsx("p",{className:"text-xs text-yellow-800 mb-2 font-semibold",children:"   :"}),o.jsxs("div",{className:"space-y-2 mb-3",children:[o.jsx("p",{className:"text-xs text-yellow-800 font-semibold mb-1",children:'   "Confirm email"  :'}),o.jsxs("ol",{className:"text-xs text-yellow-700 list-decimal list-inside space-y-1 mr-4",children:[o.jsxs("li",{children:[" ",o.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Supabase Dashboard"})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Authentication"}),"  ",o.jsx("strong",{children:"Users"})]}),o.jsx("li",{children:"     "}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:'"Email Confirmed"'}),"   ",o.jsx("strong",{children:'"Confirm Email"'})]}),o.jsx("li",{children:"    "})]}),o.jsx("p",{className:"text-xs text-yellow-800 font-semibold mt-2 mb-1",children:'   "Confirm email" :'}),o.jsxs("ol",{className:"text-xs text-yellow-700 list-decimal list-inside space-y-1 mr-4",children:[o.jsxs("li",{children:[" ",o.jsx("a",{href:"https://supabase.com/dashboard",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-semibold",children:"Supabase Dashboard"})]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Authentication"}),"  ",o.jsx("strong",{children:"Providers"}),"  ",o.jsx("strong",{children:"Settings"})]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:'"Confirm email"'})," "]}),o.jsx("li",{children:"    "})]})]}),o.jsxs("div",{className:"mt-2 pt-2 border-t border-yellow-200",children:[o.jsx("p",{className:"text-xs text-yellow-800 mb-2",children:"    :"}),o.jsx("button",{type:"button",onClick:_,disabled:c||!e.email,className:"w-full px-3 py-1.5 text-xs font-medium text-yellow-800 bg-yellow-100 border border-yellow-300 rounded-md hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3 w-3 text-yellow-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):h?o.jsx("span",{className:"text-green-700",children:"   !"}):"   "})]})]}),a.includes("")&&o.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[o.jsx("p",{className:"text-xs text-blue-800 mb-2 font-semibold",children:"     :"}),o.jsxs("ol",{className:"text-xs text-blue-700 list-decimal list-inside space-y-1 mr-4",children:[o.jsx("li",{children:"  Supabase Dashboard"}),o.jsx("li",{children:"Authentication  Providers"}),o.jsx("li",{children:'  "Email"'}),o.jsx("li",{children:' "Enable Email provider"'}),o.jsx("li",{children:" "}),o.jsx("li",{children:" "})]})]})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx("button",{type:"button",onClick:()=>l(""),className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:b,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:b,className:"input pr-10",placeholder:"  "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):" "})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",o.jsx(te,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"  "})]})})]})]})})},Ik=()=>{const[e,t]=N.useState({name:"",email:"",password:"",password_confirmation:"",role:"customer",phone:"",address:"",latitude:"",longitude:""}),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[a,l]=N.useState(!1),[c,u]=N.useState({}),{register:h}=Ze(),{userLocation:m,openLocationModal:p}=Oi(),v=Tt(),b=f=>{t({...e,[f.target.name]:f.target.value})},j=async f=>{var w,S,E;f.preventDefault(),console.log(" Form submitted!"),l(!0),u({});const y={};if(e.name.trim()||(y.name=["  "]),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(y.email=["   "]):y.email=["  "],e.password?e.password.length<8&&(y.password=["     8   "]):y.password=["  "],e.password!==e.password_confirmation&&(y.password_confirmation=["   "]),Object.keys(y).length>0){y.general=["      "],u(y),l(!1),console.log(" Validation failed, stopping loading");return}console.log(" Validation passed, starting registration...");try{const R=new Promise((T,U)=>{setTimeout(()=>{U(new Error("  .    "))},3e4)}),P={name:e.name.trim(),email:e.email.trim(),password:e.password,password_confirmation:e.password_confirmation,role:"customer",phone:e.phone||null,address:e.address||null,latitude:e.latitude?parseFloat(e.latitude):null,longitude:e.longitude?parseFloat(e.longitude):null};console.log(" Form data being sent:",P),console.log(" Starting registration process..."),console.log(" About to call register function...");let C;try{C=await Promise.race([h(P),R]),console.log(" Promise.race completed")}catch(T){throw console.error(" Promise.race error:",T),T}console.log(" Registration result received:",{hasResult:!!C,resultType:typeof C,resultIsNull:C===null,resultIsUndefined:C===void 0,resultKeys:C?Object.keys(C):[],success:C==null?void 0:C.success,successType:typeof(C==null?void 0:C.success),successIsTrue:(C==null?void 0:C.success)===!0,successIsFalse:(C==null?void 0:C.success)===!1,hasError:!!(C!=null&&C.error),errorKeys:C!=null&&C.error?Object.keys(C.error):[],errorMessage:((S=(w=C==null?void 0:C.error)==null?void 0:w.general)==null?void 0:S[0])||((E=C==null?void 0:C.error)==null?void 0:E.message)||"No error message",fullResult:JSON.stringify(C,null,2)});const I=C&&C.success===!0;if(console.log(" Checking success condition:",{hasResult:!!C,resultSuccess:C==null?void 0:C.success,isSuccess:I}),I)console.log(" Registration successful! Redirecting..."),l(!1),v("/",{replace:!0,state:{registrationSuccess:!0,message:"   !    Eat to Eat "}});else{console.error(" Registration failed!"),console.error(" Result is:",C),console.error(" Result type:",typeof C),console.error(" Result keys:",C?Object.keys(C):"null"),console.error(" Success value:",C==null?void 0:C.success),console.error(" Success type:",typeof(C==null?void 0:C.success)),console.error(" Error details:",{result:C,error:C==null?void 0:C.error,errorType:typeof(C==null?void 0:C.error),errorKeys:C!=null&&C.error?Object.keys(C.error):[]});const T={};if(C!=null&&C.error)if(typeof C.error=="object")Object.keys(C.error).forEach(U=>{Array.isArray(C.error[U])?T[U]=C.error[U]:typeof C.error[U]=="string"?T[U]=[C.error[U]]:T[U]=[String(C.error[U])]});else if(typeof C.error=="string"){const U=C.error.toLowerCase();U.includes("email")||U.includes("")?T.email=[C.error]:U.includes("password")||U.includes(" ")?T.password=[C.error]:U.includes("name")||U.includes("")?T.name=[C.error]:T.general=[C.error]}else T.general=["    "];else T.general=["    .    "];u(T)}}catch(R){console.error(" Registration error:",R);const P={};if(R.name==="AbortError")P.general=["  "];else if(R.message){const C=R.message.toLowerCase();C.includes("timeout")||C.includes("")?P.general=["  .        "]:C.includes("email")||C.includes("")?P.email=[R.message]:C.includes("password")||C.includes(" ")?P.password=[R.message]:C.includes("name")||C.includes("")?P.name=[R.message]:P.general=[R.message||"    "]}else P.general=["    .    "];u(P)}finally{console.log(" Stopping loading spinner (finally block)"),l(!1),console.log(" Loading stopped")}},_=()=>{if(!navigator.geolocation){alert("     ");return}const f=document.createElement("div");f.textContent="  ...",f.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #f3f4f6;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      font-family: Arial, sans-serif;
    `,document.body.appendChild(f),navigator.geolocation.getCurrentPosition(y=>{document.body.removeChild(f),t({...e,latitude:y.coords.latitude.toString(),longitude:y.coords.longitude.toString()}),alert("   !")},y=>{document.body.removeChild(f);let w="    ";switch(y.code){case y.PERMISSION_DENIED:w="     ";break;case y.POSITION_UNAVAILABLE:w="   ";break;case y.TIMEOUT:w="   ";break}alert(w),console.error("Error getting location:",y)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-blue-600 to-green-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"E"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"  "}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",o.jsx(te,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:" "})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:j,children:[o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"mr-3 flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-800",children:" "}),o.jsx("div",{className:"mt-2 text-sm text-blue-700",children:o.jsx("p",{children:"   :         "})})]})]})}),Object.keys(c).length>0&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"mr-3 flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800 mb-2",children:c.general?"   ":"   "}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(c).map(([f,y])=>{if(f==="general"&&Object.keys(c).length>1)return null;const S={name:" ",email:" ",password:" ",password_confirmation:"  ",phone:" ",address:"",general:" "}[f]||f,E=Array.isArray(y)?y.join(", "):String(y);return o.jsxs("li",{className:"font-medium",children:[o.jsxs("span",{className:"font-semibold",children:[S,":"]})," ",E]},f)})})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx("button",{type:"button",onClick:()=>u({}),className:"text-red-400 hover:text-red-600","aria-label":"",children:o.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:b,className:`mt-1 input ${c.name?"border-red-500":""}`,placeholder:"  "}),c.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.name)?c.name.join(", "):c.name})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:b,className:`mt-1 input ${c.email?"border-red-500":""}`,placeholder:"  "}),c.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.email)?c.email.join(", "):c.email})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:b,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:""}),o.jsx("textarea",{id:"address",name:"address",rows:3,value:e.address,onChange:b,className:"mt-1 input",placeholder:" "})]}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:_,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 hover:text-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[o.jsxs("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"  "]}),e.latitude&&e.longitude&&o.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 text-green-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsxs("span",{className:"text-sm text-green-800",children:["   : ",parseFloat(e.latitude).toFixed(4),", ",parseFloat(e.longitude).toFixed(4)]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:b,className:`input pr-10 ${c.password?"border-red-500":""}`,placeholder:"  "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]}),c.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.password)?c.password.join(", "):c.password})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700",children:"  "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password_confirmation",name:"password_confirmation",type:s?"text":"password",autoComplete:"new-password",required:!0,value:e.password_confirmation,onChange:b,className:`input pr-10 ${c.password_confirmation?"border-red-500":""}`,placeholder:"   "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]}),c.password_confirmation&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.password_confirmation)?c.password_confirmation.join(", "):c.password_confirmation})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),o.jsx("span",{children:"  ..."})]}):"  "})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",o.jsx(te,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:" "})]})})]})]})})},$k=()=>{const[e,t]=N.useState({email:"",password:""}),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[a,l]=N.useState(""),{login:c}=Ze(),u=Tt(),h=p=>{t({...e,[p.target.name]:p.target.value})},m=async p=>{p.preventDefault(),i(!0),l("");const v=await c(e.email,e.password);v.success?u("/restaurant/dashboard"):l(v.error||"    "),i(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-orange-600 to-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"R"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"   "}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",o.jsx(te,{to:"/restaurant/register",className:"font-medium text-orange-600 hover:text-orange-500",children:"  "})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[a&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"mr-3 flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"   "}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:a})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx("button",{type:"button",onClick:()=>l(""),className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:h,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:h,className:"input pr-10",placeholder:"  "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):" "})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",o.jsx(te,{to:"/restaurant/register",className:"font-medium text-orange-600 hover:text-orange-500",children:"  "})]})})]})]})})},Uk=()=>{const[e,t]=N.useState({name:"",email:"",password:"",password_confirmation:"",role:"restaurant",phone:"",address:"",latitude:"",longitude:"",restaurant_name:"",restaurant_description:"",restaurant_phone:"",cuisine_type:""}),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[a,l]=N.useState(!1),[c,u]=N.useState({}),{register:h}=Ze(),m=Tt(),p=j=>{t({...e,[j.target.name]:j.target.value})},v=async j=>{j.preventDefault(),l(!0),u({});const _={};if(e.name.trim()||(_.name=["  "]),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(_.email=["   "]):_.email=["  "],e.restaurant_name.trim()||(_.restaurant_name=["  "]),e.password?e.password.length<8&&(_.password=["     8   "]):_.password=["  "],e.password!==e.password_confirmation&&(_.password_confirmation=["   "]),Object.keys(_).length>0){_.general=["      "],u(_),l(!1);return}try{console.log("Form data being sent:",e);const f={...e,restaurant_address:e.restaurant_address||e.address||"",restaurant_latitude:e.restaurant_latitude||e.latitude||"0",restaurant_longitude:e.restaurant_longitude||e.longitude||"0",restaurant_phone:e.restaurant_phone||e.phone||"",restaurant_email:e.restaurant_email||e.email||"",delivery_fee:e.delivery_fee||"15.00",delivery_radius:e.delivery_radius||"10",cuisine_type:e.cuisine_type||""};console.log("Complete form data:",f);const y=await h(f);console.log("Registration result:",y),y&&y.success?(alert("   !"),m("/restaurant/dashboard")):(console.log("Registration failed:",y==null?void 0:y.error),y!=null&&y.error&&typeof y.error=="object"?u(y.error):u({general:[(y==null?void 0:y.error)||"    "]}))}catch(f){console.error("Registration error:",f),f.name==="AbortError"?u({general:["  "]}):u({general:["    "]})}finally{l(!1)}},b=()=>{if(!navigator.geolocation){alert("     ");return}const j=document.createElement("div");j.textContent="  ...",j.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #f3f4f6;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      font-family: Arial, sans-serif;
    `,document.body.appendChild(j),navigator.geolocation.getCurrentPosition(_=>{document.body.removeChild(j),t({...e,latitude:_.coords.latitude.toString(),longitude:_.coords.longitude.toString()}),alert("   !")},_=>{document.body.removeChild(j);let f="    ";switch(_.code){case _.PERMISSION_DENIED:f="     ";break;case _.POSITION_UNAVAILABLE:f="   ";break;case _.TIMEOUT:f="   ";break}alert(f),console.error("Error getting location:",_)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-orange-600 to-red-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"R"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"   "}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",o.jsx(te,{to:"/restaurant/login",className:"font-medium text-orange-600 hover:text-orange-500",children:" "})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[Object.keys(c).length>0&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"mr-3 flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Validation errors"}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(c).map(([j,_])=>o.jsx("li",{children:Array.isArray(_)?_.join(", "):_},j))})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx("button",{type:"button",onClick:()=>u({}),className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"  "}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:p,className:`mt-1 input ${c.name?"border-red-500":""}`,placeholder:"  "}),c.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.name)?c.name.join(", "):c.name})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:p,className:`mt-1 input ${c.email?"border-red-500":""}`,placeholder:"  "}),c.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.email)?c.email.join(", "):c.email})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"restaurant_name",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"restaurant_name",name:"restaurant_name",type:"text",required:!0,value:e.restaurant_name,onChange:p,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"cuisine_type",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("select",{id:"cuisine_type",name:"cuisine_type",value:e.cuisine_type,onChange:p,className:"mt-1 input",children:[o.jsx("option",{value:"",children:"  "}),o.jsx("option",{value:"arabic",children:""}),o.jsx("option",{value:"italian",children:""}),o.jsx("option",{value:"chinese",children:""}),o.jsx("option",{value:"indian",children:""}),o.jsx("option",{value:"mexican",children:""}),o.jsx("option",{value:"french",children:""}),o.jsx("option",{value:"japanese",children:""}),o.jsx("option",{value:"thai",children:""}),o.jsx("option",{value:"american",children:""}),o.jsx("option",{value:"other",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"restaurant_description",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("textarea",{id:"restaurant_description",name:"restaurant_description",rows:3,value:e.restaurant_description,onChange:p,className:"mt-1 input",placeholder:"   "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"   "}),o.jsx("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:p,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"restaurant_phone",className:"block text-sm font-medium text-gray-700",children:"  "}),o.jsx("input",{id:"restaurant_phone",name:"restaurant_phone",type:"tel",value:e.restaurant_phone,onChange:p,className:"mt-1 input",placeholder:"   "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("textarea",{id:"address",name:"address",rows:3,value:e.address,onChange:p,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:b,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-orange-600 bg-orange-50 border border-orange-200 rounded-md hover:bg-orange-100 hover:text-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-colors duration-200",children:[o.jsxs("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"  "]}),e.latitude&&e.longitude&&o.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 text-green-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsxs("span",{className:"text-sm text-green-800",children:["   : ",parseFloat(e.latitude).toFixed(4),", ",parseFloat(e.longitude).toFixed(4)]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:p,className:`input pr-10 ${c.password?"border-red-500":""}`,placeholder:"  "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]}),c.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.password)?c.password.join(", "):c.password})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700",children:"  "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password_confirmation",name:"password_confirmation",type:s?"text":"password",autoComplete:"new-password",required:!0,value:e.password_confirmation,onChange:p,className:`input pr-10 ${c.password_confirmation?"border-red-500":""}`,placeholder:"   "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]}),c.password_confirmation&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.password_confirmation)?c.password_confirmation.join(", "):c.password_confirmation})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"   "})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",o.jsx(te,{to:"/restaurant/login",className:"font-medium text-orange-600 hover:text-orange-500",children:" "})]})})]})]})})},Fk=()=>{const[e,t]=N.useState({email:"",password:""}),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[a,l]=N.useState(""),{login:c}=Ze(),u=Tt(),h=p=>{t({...e,[p.target.name]:p.target.value})},m=async p=>{p.preventDefault(),i(!0),l("");const v=await c(e.email,e.password);v.success?u("/courier/dashboard"):l(v.error||"    "),i(!1)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-green-600 to-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"C"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"   "}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",o.jsx(te,{to:"/courier/register",className:"font-medium text-green-600 hover:text-green-500",children:"  "})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[a&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"mr-3 flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"   "}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:a})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx("button",{type:"button",onClick:()=>l(""),className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:h,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:h,className:"input pr-10",placeholder:"  "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):" "})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",o.jsx(te,{to:"/courier/register",className:"font-medium text-green-600 hover:text-green-500",children:"  "})]})})]})]})})},Mk=()=>{const[e,t]=N.useState({name:"",email:"",password:"",password_confirmation:"",role:"courier",phone:"",address:"",latitude:"",longitude:"",vehicle_type:"bike",license_number:"",id_number:""}),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[a,l]=N.useState(!1),[c,u]=N.useState({}),{register:h}=Ze(),m=Tt(),p=j=>{t({...e,[j.target.name]:j.target.value})},v=async j=>{j.preventDefault(),l(!0),u({});const _={};if(e.name.trim()||(_.name=["  "]),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(_.email=["   "]):_.email=["  "],e.password?e.password.length<8&&(_.password=["     8   "]):_.password=["  "],e.password!==e.password_confirmation&&(_.password_confirmation=["   "]),e.license_number.trim()||(_.license_number=["  "]),e.id_number.trim()||(_.id_number=["  "]),Object.keys(_).length>0){_.general=["      "],u(_),l(!1);return}try{console.log("Form data being sent:",e);const f=await h(e);console.log("Registration result:",f),f&&f.success?(alert("   !"),m("/courier/dashboard")):(console.log("Registration failed:",f==null?void 0:f.error),f!=null&&f.error&&typeof f.error=="object"?u(f.error):u({general:[(f==null?void 0:f.error)||"    "]}))}catch(f){console.error("Registration error:",f),f.name==="AbortError"?u({general:["  "]}):u({general:["    "]})}finally{l(!1)}},b=()=>{if(!navigator.geolocation){alert("     ");return}const j=document.createElement("div");j.textContent="  ...",j.style.cssText=`
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #f3f4f6;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      font-family: Arial, sans-serif;
    `,document.body.appendChild(j),navigator.geolocation.getCurrentPosition(_=>{document.body.removeChild(j),t({...e,latitude:_.coords.latitude.toString(),longitude:_.coords.longitude.toString()}),alert("   !")},_=>{document.body.removeChild(j);let f="    ";switch(_.code){case _.PERMISSION_DENIED:f="     ";break;case _.POSITION_UNAVAILABLE:f="   ";break;case _.TIMEOUT:f="   ";break}alert(f),console.error("Error getting location:",_)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-green-600 to-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"C"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"   "}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[""," ",o.jsx(te,{to:"/courier/login",className:"font-medium text-green-600 hover:text-green-500",children:" "})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[Object.keys(c).length>0&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"mr-3 flex-1",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Validation errors"}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("ul",{className:"list-disc list-inside space-y-1",children:Object.entries(c).map(([j,_])=>o.jsx("li",{children:Array.isArray(_)?_.join(", "):_},j))})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx("button",{type:"button",onClick:()=>u({}),className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:p,className:`mt-1 input ${c.name?"border-red-500":""}`,placeholder:"  "}),c.name&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.name)?c.name.join(", "):c.name})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:p,className:`mt-1 input ${c.email?"border-red-500":""}`,placeholder:"  "}),c.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.email)?c.email.join(", "):c.email})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"id_number",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"id_number",name:"id_number",type:"text",required:!0,value:e.id_number,onChange:p,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:e.phone,onChange:p,className:"mt-1 input",placeholder:"  "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"vehicle_type",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("select",{id:"vehicle_type",name:"vehicle_type",value:e.vehicle_type,onChange:p,className:"mt-1 input",children:[o.jsx("option",{value:"bike",children:" "}),o.jsx("option",{value:"motorcycle",children:" "}),o.jsx("option",{value:"car",children:""}),o.jsx("option",{value:"van",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"license_number",className:"block text-sm font-medium text-gray-700",children:"  "}),o.jsx("input",{id:"license_number",name:"license_number",type:"text",required:!0,value:e.license_number,onChange:p,className:"mt-1 input",placeholder:"   "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:""}),o.jsx("textarea",{id:"address",name:"address",rows:3,value:e.address,onChange:p,className:"mt-1 input",placeholder:" "})]}),o.jsxs("div",{children:[o.jsxs("button",{type:"button",onClick:b,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-green-600 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 hover:text-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200",children:[o.jsxs("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"  "]}),e.latitude&&e.longitude&&o.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 text-green-600 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsxs("span",{className:"text-sm text-green-800",children:["   : ",parseFloat(e.latitude).toFixed(4),", ",parseFloat(e.longitude).toFixed(4)]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:" "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,value:e.password,onChange:p,className:`input pr-10 ${c.password?"border-red-500":""}`,placeholder:"  "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]}),c.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.password)?c.password.join(", "):c.password})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700",children:"  "}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password_confirmation",name:"password_confirmation",type:s?"text":"password",autoComplete:"new-password",required:!0,value:e.password_confirmation,onChange:p,className:`input pr-10 ${c.password_confirmation?"border-red-500":""}`,placeholder:"   "}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]}),c.password_confirmation&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(c.password_confirmation)?c.password_confirmation.join(", "):c.password_confirmation})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"  "})}),o.jsx("div",{className:"text-center",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["  "," ",o.jsx(te,{to:"/courier/login",className:"font-medium text-green-600 hover:text-green-500",children:" "})]})})]})]})})},Dk=()=>{var _;const[e,t]=N.useState(""),[r,n]=N.useState(""),[s,i]=N.useState("rating"),{userLocation:a}=Oi(),l=a?{latitude:a.latitude,longitude:a.longitude}:null,c=(f,y,w,S)=>{if(!f||!y||!w||!S)return null;const E=6371,R=(w-f)*Math.PI/180,P=(S-y)*Math.PI/180,C=Math.sin(R/2)*Math.sin(R/2)+Math.cos(f*Math.PI/180)*Math.cos(w*Math.PI/180)*Math.sin(P/2)*Math.sin(P/2),I=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return E*I},{data:u,isLoading:h,error:m}=wt(["restaurants",l,e,r],async()=>{try{console.log(" Starting to fetch restaurants...");const f={};r&&r!==" "&&(f.cuisine_type=r);const y=await bv(f);if(y.error)throw console.error(" Error from getRestaurants:",y.error),y.error;let w=y.data||[];if(console.log(` Found ${w.length} restaurants before filtering`),e&&w.length>0){const S=e.toLowerCase();w=w.filter(E=>{var R,P,C;return((R=E.name)==null?void 0:R.toLowerCase().includes(S))||((P=E.description)==null?void 0:P.toLowerCase().includes(S))||((C=E.cuisine_type)==null?void 0:C.toLowerCase().includes(S))}),console.log(` After search filter: ${w.length} restaurants`)}return a&&a.latitude&&a.longitude&&w.length>0&&(w=w.map(S=>{if(S.latitude&&S.longitude){const E=c(a.latitude,a.longitude,parseFloat(S.latitude),parseFloat(S.longitude));return{...S,distance:E?Math.round(E*10)/10:null}}return{...S,distance:null}})),console.log(` Returning ${w.length} restaurants`),w}catch(f){throw console.error(" Error in restaurants query:",f),console.error("Error details:",{message:f.message,stack:f.stack,name:f.name}),f}},{staleTime:5*60*1e3,retry:1,enabled:!0,onError:f=>{console.error(" Query error callback:",f)}}),p=N.useMemo(()=>{if(!u)return[];if(Array.isArray(u))return u;const f=u==null?void 0:u.data;return Array.isArray(f)?f:f!=null&&f.data&&Array.isArray(f.data)?f.data:[]},[u]),v=[" ","","","",""," "," ","",""],b=[{value:"distance",label:""},{value:"rating",label:" "},{value:"delivery_fee",label:"  "},{value:"name",label:""}],j=N.useMemo(()=>{if(!Array.isArray(p))return[];const f=[...p];switch(s){case"distance":return f;case"rating":return f.sort((y,w)=>{const S=typeof y.rating=="number"?y.rating:parseFloat(y.rating)||0;return(typeof w.rating=="number"?w.rating:parseFloat(w.rating)||0)-S});case"delivery_fee":return f.sort((y,w)=>{const S=parseFloat(y.delivery_fee)||0,E=parseFloat(w.delivery_fee)||0;return S-E});case"name":return f.sort((y,w)=>(y.name||"").localeCompare(w.name||"","ar"));default:return f}},[p,s]);return o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:a?"  ":" "}),o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 transition-colors duration-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:o.jsx(yo,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),o.jsx("input",{type:"text",placeholder:"     ...",value:e,onChange:f=>t(f.target.value),className:"block w-full pr-10 pl-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors"})]})}),o.jsx("div",{children:o.jsx("select",{value:r,onChange:f=>n(f.target.value),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:v.map(f=>o.jsx("option",{value:f===" "?"":f,children:f},f))})}),o.jsx("div",{children:o.jsx("select",{value:s,onChange:f=>i(f.target.value),className:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",children:b.map(f=>o.jsx("option",{value:f.value,children:f.label},f.value))})})]})})]}),o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:h?" ...":`   ${Array.isArray(j)?j.length:0} ${a?" ":""}`}),o.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[o.jsx(UN,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}),o.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[" : ",(_=b.find(f=>f.value===s))==null?void 0:_.label]})]})]}),h?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(9)].map((f,y)=>o.jsxs("div",{className:"card animate-pulse",children:[o.jsx("div",{className:"h-48 bg-gray-300"}),o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-gray-300 rounded w-2/3 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},y))}):m?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"mx-auto h-24 w-24 bg-red-100 rounded-full flex items-center justify-center mb-4",children:o.jsx("svg",{className:"h-12 w-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"   "}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:(m==null?void 0:m.message)||(m==null?void 0:m.details)||"    "}),(m==null?void 0:m.hint)&&o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:[" : ",m.hint]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary-600 dark:bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-700 dark:hover:bg-primary-600 transition-colors",children:" "}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4",children:"        Supabase"})]})]}):Array.isArray(j)&&j.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(f=>o.jsxs(te,{to:`/restaurants/${f.id}`,className:"card hover:shadow-lg transition-shadow duration-300",children:[o.jsxs("div",{className:"h-48 bg-gray-200 relative overflow-hidden",children:[o.jsx("img",{src:f.cover_image||ls(f.cuisine_type,f.name),alt:f.name,className:"w-full h-full object-cover",onError:y=>{y.target.src=ls(f.cuisine_type,f.name)}}),o.jsx("div",{className:"absolute top-2 right-2",children:f.is_open?o.jsx("span",{className:"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200 text-xs font-medium px-2 py-1 rounded-full",children:""}):o.jsx("span",{className:"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-200 text-xs font-medium px-2 py-1 rounded-full",children:""})}),o.jsxs("div",{className:"absolute top-2 left-2 bg-white dark:bg-gray-800 rounded-full px-2 py-1 flex items-center shadow-md",children:[o.jsx(os,{className:"h-4 w-4 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mr-1",children:(typeof f.rating=="number"?f.rating:parseFloat(f.rating)||0).toFixed(1)})]})]}),o.jsxs("div",{className:"card-body",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:f.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-3 line-clamp-2",children:f.description||"   "}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400 flex-1 min-w-0",children:[o.jsx(dt,{className:"h-4 w-4 ml-1 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:f.address||"  "})]}),f.distance!==null&&f.distance!==void 0&&o.jsxs("span",{className:"text-primary-600 dark:text-primary-400 font-medium mr-2 flex items-center whitespace-nowrap",children:[o.jsx(dt,{className:"h-3 w-3 ml-1"}),f.distance," "]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center text-gray-500 dark:text-gray-400",children:[o.jsx(yt,{className:"h-4 w-4 ml-1"}),o.jsx("span",{children:"25-35 "})]}),o.jsx("div",{className:"text-primary-600 dark:text-primary-400 font-medium",children:f.delivery_fee&&parseFloat(f.delivery_fee)>0?`${f.delivery_fee} .`:" "})]})]})]})]},f.id))}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"mx-auto h-24 w-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:o.jsx(yo,{className:"h-12 w-12 text-gray-400 dark:text-gray-500"})}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"    "}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:e||r?"      ":"    "}),!e&&!r&&o.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg text-right max-w-2xl mx-auto",children:[o.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:[o.jsx("strong",{children:" :"}),"          :"]}),o.jsxs("ul",{className:"text-xs text-yellow-700 dark:text-yellow-300 space-y-1 list-disc list-inside text-right",children:[o.jsxs("li",{children:["    ",o.jsx("code",{className:"bg-yellow-100 dark:bg-yellow-900/40 px-1 rounded",children:"database/supabase_seed_data.sql"}),"  Supabase SQL Editor"]}),o.jsx("li",{children:'   RLS policies    (   policy "Anyone can view active restaurants" )'}),o.jsx("li",{children:" Console   (F12)    "}),o.jsxs("li",{children:["      ",o.jsx("code",{className:"bg-yellow-100 dark:bg-yellow-900/40 px-1 rounded",children:"is_active = true"})]})]})]})]})]})})},Bk=()=>{const{id:e}=q0(),{addItem:t}=kd(),[r,n]=N.useState(""),{data:s,isLoading:i}=wt(["restaurant",e],async()=>{const v=await kk(e);if(v.error)throw v.error;return v.data}),{data:a}=wt(["categories",e],async()=>{const v=await Nk(e);return v.error?[]:v.data||[]}),{data:l,isLoading:c}=wt(["products",e,r],async()=>{var j;const v=r&&r!==" "?(j=a==null?void 0:a.find(_=>_.name===r))==null?void 0:j.id:null,b=await Sk(e,v);if(b.error)throw b.error;return b.data||[]},{enabled:!!s}),u=s,h=l||[],m=[" ",...(a==null?void 0:a.map(v=>v.name))||[]],p=v=>{t(v,u)};return i?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):u?o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"aspect-w-16 aspect-h-9",children:o.jsx("img",{className:"w-full h-64 object-cover rounded-lg",src:u.cover_image||ls(u.cuisine_type,u.name),alt:u.name,onError:v=>{v.target.src=ls(u.cuisine_type,u.name)}})})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:u.name}),o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((v,b)=>o.jsx(os,{className:`h-5 w-5 ${b<Math.floor(u.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},b))}),o.jsxs("span",{className:"mr-2 text-sm text-gray-600",children:[u.rating.toFixed(1)," (",u.total_reviews," )"]})]}),o.jsx("p",{className:"text-gray-600 mb-4",children:u.description}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(dt,{className:"h-5 w-5 text-gray-400 ml-2"}),o.jsx("span",{className:"text-gray-600",children:u.address})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(yt,{className:"h-5 w-5 text-gray-400 ml-2"}),o.jsxs("span",{className:"text-gray-600",children:[u.opening_time," - ",u.closing_time]})]}),u.phone&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Sd,{className:"h-5 w-5 text-gray-400 ml-2"}),o.jsx("span",{className:"text-gray-600",children:u.phone})]}),o.jsx("div",{className:"flex items-center",children:o.jsxs("span",{className:"text-gray-600",children:[" : ",u.delivery_fee>0?`${u.delivery_fee} .`:""]})})]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${u.is_open?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.is_open?"":""})})]})})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(v=>o.jsx("button",{onClick:()=>n(v===" "?"":v),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${r===""&&v===" "||r===v?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300"}`,children:v},v))})}),c?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((v,b)=>o.jsxs("div",{className:"card animate-pulse",children:[o.jsx("div",{className:"h-48 bg-gray-300"}),o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),o.jsx("div",{className:"h-3 bg-gray-300 rounded w-2/3 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2"})]})]},b))}):h.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(v=>{var b;return o.jsxs("div",{className:"card hover:shadow-lg transition-shadow duration-300",children:[o.jsxs("div",{className:"h-48 bg-gray-200 relative overflow-hidden",children:[o.jsx("img",{src:v.image_url||sm(v.name),alt:v.name,className:"w-full h-full object-cover",onError:j=>{j.target.src=sm(v.name)}}),!v.is_available&&o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:o.jsx("span",{className:"text-white font-semibold",children:" "})})]}),o.jsxs("div",{className:"card-body",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:v.name}),o.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:v.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-lg font-semibold text-primary-600",children:[(b=v.price)==null?void 0:b.toFixed(2)," ."]}),o.jsx("div",{className:"flex items-center space-x-2 space-x-reverse",children:o.jsxs("button",{onClick:()=>p(v),disabled:!v.is_available,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Nd,{className:"h-4 w-4 ml-1"}),""]})})]}),v.preparation_time&&o.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[" : ",v.preparation_time," "]})]})]},v.id)})}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),o.jsx("p",{className:"text-gray-600",children:"       "})]})]})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"  "}),o.jsx("p",{className:"text-gray-600",children:"    "})]})})};var im;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(im||(im={}));const _v=({center:e={lat:30.0444,lng:31.2357},zoom:t=13,markers:r=[],onLocationSelect:n=null,height:s="400px",className:i="",showCurrentLocation:a=!0,draggable:l=!0,clickable:c=!0})=>{const u=N.useRef(null),h=N.useRef(null),m=N.useRef([]),[p,v]=N.useState(!1),[b,j]=N.useState(null),[_,f]=N.useState(null);return N.useEffect(()=>{(async()=>{{console.warn(" Google Maps API key not found. Map will not be loaded."),console.warn(" To enable Google Maps, add VITE_GOOGLE_MAPS_API_KEY to your .env file"),j(" Google Maps API  .     .env");return}})()},[]),N.useEffect(()=>{h.current&&p&&(m.current.forEach(y=>y.setMap(null)),m.current=[],r.forEach((y,w)=>{const S=new google.maps.Marker({position:y.position,map:h.current,title:y.title||` ${w+1}`,icon:y.icon||void 0});if(y.infoWindow){const E=new google.maps.InfoWindow({content:y.infoWindow});S.addListener("click",()=>{E.open(h.current,S)})}m.current.push(S)}))},[r,p]),N.useEffect(()=>{h.current&&p&&(h.current.setCenter(e),h.current.setZoom(t))},[e,t,p]),b?o.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-100 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-red-500 text-lg mb-2",children:""}),o.jsx("p",{className:"text-red-600",children:b}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"   Google Maps API key   .env"})]})}):o.jsxs("div",{className:`relative ${i}`,children:[!p&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg z-10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600",children:"  ..."})]})}),o.jsx("div",{ref:u,style:{height:s},className:"w-full rounded-lg shadow-lg"}),p&&o.jsx("div",{className:"absolute top-2 right-2 bg-white rounded-lg shadow-lg p-2",children:o.jsxs("div",{className:"text-xs text-gray-600",children:[a&&_&&o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full ml-1"})," "]}),c&&n&&o.jsx("div",{className:"text-gray-500",children:"    "})]})})]})},zk=()=>{const e=Tt(),{user:t}=Ze(),{items:r,restaurant:n,getTotalPrice:s,clearCart:i}=kd(),[a,l]=N.useState((t==null?void 0:t.address)||""),[c,u]=N.useState({latitude:(t==null?void 0:t.latitude)||30.0444,longitude:(t==null?void 0:t.longitude)||31.2357}),[h,m]=N.useState(""),[p,v]=N.useState("cash"),b=Pr(Ek,{onSuccess:E=>{if(E.error){Q.error(E.error.message||"    ");return}Q.success("   !"),i(),e(`/order-tracking/${E.data.id}`)},onError:E=>{Q.error(E.message||"    ")}}),j=E=>{u(E)},_=async E=>{if(E.preventDefault(),!n){Q.error("   ");return}if(r.length===0){Q.error(" ");return}const R={restaurant_id:n.id,address_id:null,items:r.map(P=>({menu_item_id:P.id,quantity:P.quantity,price:P.price,special_instructions:""})),total_amount:S,delivery_fee:y,payment_method:p,notes:h};b.mutate(R)},f=s(),y=(n==null?void 0:n.delivery_fee)||0,w=f*.1,S=f+y+w;return r.length===0?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:" "}),o.jsx("p",{className:"text-gray-600 mb-6",children:"    "}),o.jsx("button",{onClick:()=>e("/restaurants"),className:"btn-primary",children:" "})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("form",{onSubmit:_,className:"space-y-8",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[o.jsx(gr,{className:"h-5 w-5 ml-2"})," "]})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"delivery_address",className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsx("textarea",{id:"delivery_address",rows:3,value:a,onChange:E=>l(E.target.value),className:"input",placeholder:"   ",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),o.jsx(_v,{center:c,zoom:15,onLocationSelect:j,className:"h-64 w-full"}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"      "})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"  ()"}),o.jsx("textarea",{id:"notes",rows:3,value:h,onChange:E=>m(E.target.value),className:"input",placeholder:"   ..."})]})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[o.jsx(PN,{className:"h-5 w-5 ml-2"})," "]})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"cash",name:"payment_method",type:"radio",value:"cash",checked:p==="cash",onChange:E=>v(E.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),o.jsx("label",{htmlFor:"cash",className:"mr-3 block text-sm font-medium text-gray-700",children:"  "})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"card",name:"payment_method",type:"radio",value:"card",checked:p==="card",onChange:E=>v(E.target.value),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300",disabled:!0}),o.jsx("label",{htmlFor:"card",className:"mr-3 block text-sm font-medium text-gray-500",children:"  ()"})]})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",disabled:b.isLoading,className:"btn-primary px-8 py-3 text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:b.isLoading?o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-2"}),"  ..."]}):" "})})]})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"card sticky top-8",children:[o.jsxs("div",{className:"card-header",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "}),n&&o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[" : ",n.name]})]}),o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"space-y-3",children:r.map(E=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-12 w-12 ml-3",children:E.image?o.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:E.image,alt:E.name}):o.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500 text-xs",children:""})})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:E.name}),o.jsxs("p",{className:"text-gray-500",children:[": ",E.quantity]})]})]}),o.jsxs("div",{className:"text-gray-900 font-medium",children:[E.price*E.quantity," ."]})]},E.id))}),o.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:" :"}),o.jsxs("span",{className:"text-gray-900",children:[f.toFixed(2)," ."]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:" :"}),o.jsx("span",{className:"text-gray-900",children:y>0?`${y} .`:""})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:" (10%):"}),o.jsxs("span",{className:"text-gray-900",children:[w.toFixed(2)," ."]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-2",children:o.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[o.jsx("span",{className:"text-gray-900",children:" :"}),o.jsxs("span",{className:"text-gray-900",children:[S.toFixed(2)," ."]})]})})]})]})]})})]})})})},qk=()=>{var h,m,p,v,b,j,_,f,y,w,S,E,R;const{orderId:e}=q0(),[t,r]=N.useState(null),{data:n,isLoading:s}=wt(["order",e],async()=>{const P=await Ok(e);if(P.error)throw P.error;return P.data},{refetchInterval:5e3}),i=n,a=[{key:"pending",label:" ",icon:yt},{key:"confirmed",label:" ",icon:mn},{key:"preparing",label:" ",icon:yt},{key:"ready",label:" ",icon:mn},{key:"picked_up",label:" ",icon:gr},{key:"delivered",label:" ",icon:mn},{key:"cancelled",label:"",icon:mk}],l=P=>a.findIndex(C=>C.key===P),c=P=>({pending:"text-yellow-600 bg-yellow-100",confirmed:"text-blue-600 bg-blue-100",preparing:"text-orange-600 bg-orange-100",ready:"text-purple-600 bg-purple-100",picked_up:"text-indigo-600 bg-indigo-100",delivered:"text-green-600 bg-green-100",cancelled:"text-red-600 bg-red-100"})[P]||"text-gray-600 bg-gray-100",u=[];return i!=null&&i.restaurant&&u.push({position:{lat:parseFloat(i.restaurant.latitude),lng:parseFloat(i.restaurant.longitude)},title:i.restaurant.name,infoWindow:`
        <div class="p-2">
          <h3 class="font-semibold">${i.restaurant.name}</h3>
          <p class="text-sm text-gray-600">${i.restaurant.address}</p>
        </div>
      `,icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}}),(h=i==null?void 0:i.addresses)!=null&&h.latitude&&((m=i==null?void 0:i.addresses)!=null&&m.longitude)&&u.push({position:{lat:parseFloat(i.addresses.latitude),lng:parseFloat(i.addresses.longitude)},title:" ",infoWindow:`
        <div class="p-2">
          <h3 class="font-semibold"> </h3>
          <p class="text-sm text-gray-600">${i.addresses.address||"  "}</p>
        </div>
      `,icon:{url:"https://maps.google.com/mapfiles/ms/icons/blue-dot.png"}}),(p=i==null?void 0:i.courier)!=null&&p.latitude&&((v=i==null?void 0:i.courier)!=null&&v.longitude)&&u.push({position:{lat:parseFloat(i.courier.latitude),lng:parseFloat(i.courier.longitude)},title:`: ${(b=i.courier.user)==null?void 0:b.name}`,infoWindow:`
        <div class="p-2">
          <h3 class="font-semibold">: ${(j=i.courier.user)==null?void 0:j.name}</h3>
          <p class="text-sm text-gray-600">${i.courier.vehicle_type}</p>
        </div>
      `,icon:{url:"https://maps.google.com/mapfiles/ms/icons/green-dot.png"}}),s?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):i?o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["  #",((_=i.id)==null?void 0:_.substring(0,8))||" "]}),o.jsxs("p",{className:"text-gray-600",children:[" : ",o.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${c(i.status)}`,children:(f=a.find(P=>P.key===i.status))==null?void 0:f.label})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsx("div",{className:"card-body",children:o.jsx("div",{className:"flow-root",children:o.jsx("ul",{className:"-mb-8",children:a.map((P,C)=>{const I=l(i.status)>=l(P.key),T=P.key===i.status;return o.jsx("li",{children:o.jsxs("div",{className:"relative pb-8",children:[C!==a.length-1?o.jsx("span",{className:`absolute top-4 right-4 -ml-px h-full w-0.5 ${I?"bg-primary-200":"bg-gray-200"}`,"aria-hidden":"true"}):null,o.jsxs("div",{className:"relative flex space-x-3 space-x-reverse",children:[o.jsx("div",{children:o.jsx("span",{className:`h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white ${I||T?"bg-primary-500":"bg-gray-300"}`,children:o.jsx(P.icon,{className:`h-5 w-5 ${I||T?"text-white":"text-gray-500"}`,"aria-hidden":"true"})})}),o.jsx("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4 space-x-reverse",children:o.jsx("div",{children:o.jsx("p",{className:`text-sm font-medium ${I||T?"text-primary-500":"text-gray-500"}`,children:P.label})})})]})]})},P.key)})})})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsxs("div",{className:"card-body",children:[o.jsx("div",{className:"space-y-4",children:(y=i.order_items)==null?void 0:y.map(P=>{var C,I;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:(C=P.menu_items)!=null&&C.image_url?o.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:P.menu_items.image_url,alt:P.menu_items.name}):o.jsx("div",{className:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500 text-sm",children:""})})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:(I=P.menu_items)==null?void 0:I.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:[": ",P.quantity]})]})]}),o.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[P.subtotal||P.price*P.quantity," ."]})]},P.id)})}),o.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:" :"}),o.jsxs("span",{className:"text-gray-900",children:[(i.total_amount-(i.delivery_fee||0)).toFixed(2)," ."]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:" :"}),o.jsxs("span",{className:"text-gray-900",children:[(i.delivery_fee||0).toFixed(2)," ."]})]}),o.jsxs("div",{className:"flex justify-between text-lg font-semibold border-t border-gray-200 pt-2 mt-2",children:[o.jsx("span",{className:"text-gray-900",children:" :"}),o.jsxs("span",{className:"text-gray-900",children:[(i.total_amount||0).toFixed(2)," ."]})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx(dt,{className:"h-5 w-5 text-gray-400 mt-0.5 ml-2"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:((w=i.addresses)==null?void 0:w.address)||"  "})]})]}),i.courier&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(gr,{className:"h-5 w-5 text-gray-400 mt-0.5 ml-2"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:""}),o.jsx("p",{className:"text-sm text-gray-600",children:(S=i.courier.user)==null?void 0:S.name}),o.jsx("p",{className:"text-sm text-gray-500",children:i.courier.vehicle_type})]})]}),i.estimated_delivery_time&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(yt,{className:"h-5 w-5 text-gray-400 mt-0.5 ml-2"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:"  "}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(i.estimated_delivery_time).toLocaleString("ar-EG")})]})]}),i.created_at&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(yt,{className:"h-5 w-5 text-gray-400 mt-0.5 ml-2"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(i.created_at).toLocaleString("ar-EG")})]})]})]})})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsx("div",{className:"card-body p-0",children:o.jsx(_v,{center:{lat:(E=i.addresses)!=null&&E.latitude?parseFloat(i.addresses.latitude):30.0444,lng:(R=i.addresses)!=null&&R.longitude?parseFloat(i.addresses.longitude):31.2357},zoom:15,markers:u,className:"h-96 w-full"})})]})]})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"  "}),o.jsx("p",{className:"text-gray-600",children:"    "})]})})},Hk=()=>{var f,y,w,S,E,R,P;const{user:e,profile:t,updateUser:r}=Ze(),n=ki(),[s,i]=N.useState(!1),[a,l]=N.useState(!1),[c,u]=N.useState({name:"",email:"",phone:"",address:"",current_password:"",password:"",password_confirmation:""}),{data:h,isLoading:m}=wt(["profile",e==null?void 0:e.id],async()=>{if(!(e!=null&&e.id))return null;const{data:C,error:I}=await q.from("profiles").select("*").eq("id",e.id).single();if(I)throw I;let T=null;const{data:U}=await q.from("addresses").select("*").eq("user_id",e.id).eq("is_default",!0).limit(1);if(U&&U.length>0)T=U[0];else{const{data:D}=await q.from("addresses").select("*").eq("user_id",e.id).limit(1);D&&D.length>0&&(T=D[0])}return{profile:C,address:T}},{enabled:!!(e!=null&&e.id),onSuccess:C=>{var I,T,U,D;C&&u({name:((I=C.profile)==null?void 0:I.name)||"",email:((T=C.profile)==null?void 0:T.email)||(e==null?void 0:e.email)||"",phone:((U=C.profile)==null?void 0:U.phone)||"",address:((D=C.address)==null?void 0:D.address)||"",current_password:"",password:"",password_confirmation:""})}}),p=Pr(async C=>{if(!(e!=null&&e.id))throw new Error("  ");const{error:I}=await q.from("profiles").update({name:C.name,phone:C.phone||null}).eq("id",e.id);if(I)throw I;if(C.address){const{data:T}=await q.from("addresses").select("id").eq("user_id",e.id).eq("is_default",!0).limit(1);if(T&&T.length>0){const{error:U}=await q.from("addresses").update({address:C.address}).eq("id",T[0].id);if(U)throw U}else{const{error:U}=await q.from("addresses").insert({user_id:e.id,label:"",address:C.address,city:" ",region:" ",is_default:!0});if(U)throw U}}return{success:!0}},{onSuccess:()=>{n.invalidateQueries(["profile"]),i(!1),Q.success("    ")},onError:C=>{Q.error(C.message||"     ")}}),v=Pr(async C=>{if(!(e!=null&&e.id))throw new Error("  ");const I=await Rk(C,"avatars","users");if(I.error)throw I.error;const{error:T}=await q.from("profiles").update({avatar_url:I.data.url}).eq("id",e.id);if(T)throw T;return{avatar_url:I.data.url}},{onSuccess:C=>{r({avatar_url:C.avatar_url}),n.invalidateQueries(["profile"]),Q.success("    ")},onError:C=>{Q.error(C.message||"    ")}}),b=C=>{u({...c,[C.target.name]:C.target.value})},j=C=>{if(C.preventDefault(),c.password){if(c.password.length<8){Q.error("     8   ");return}if(c.password!==c.password_confirmation){Q.error("   ");return}q.auth.updateUser({password:c.password}).then(({error:I})=>{if(I)throw I;Q.success("    ")}).catch(I=>{Q.error(I.message||"   ")})}p.mutate({name:c.name,phone:c.phone,address:c.address})},_=C=>{const I=C.target.files[0];I&&v.mutate(I)};return m?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative inline-block",children:[o.jsx("div",{className:"h-32 w-32 rounded-full overflow-hidden bg-gray-200 mx-auto",children:(f=h==null?void 0:h.profile)!=null&&f.avatar_url||t!=null&&t.avatar_url?o.jsx("img",{src:((y=h==null?void 0:h.profile)==null?void 0:y.avatar_url)||(t==null?void 0:t.avatar_url),alt:c.name||(e==null?void 0:e.email),className:"h-full w-full object-cover"}):o.jsx("div",{className:"h-full w-full flex items-center justify-center",children:o.jsx(xo,{className:"h-16 w-16 text-gray-400"})})}),o.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white rounded-full p-2 cursor-pointer hover:bg-primary-700 transition-colors",children:[o.jsx(bN,{className:"h-4 w-4"}),o.jsx("input",{type:"file",accept:"image/*",onChange:_,className:"hidden"})]})]}),o.jsx("h2",{className:"mt-4 text-xl font-semibold text-gray-900",children:c.name||((w=h==null?void 0:h.profile)==null?void 0:w.name)||(e==null?void 0:e.email)}),o.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[((S=h==null?void 0:h.profile)==null?void 0:S.role)==="admin"&&"",((E=h==null?void 0:h.profile)==null?void 0:E.role)==="restaurant"&&" ",((R=h==null?void 0:h.profile)==null?void 0:R.role)==="courier"&&" ",((P=h==null?void 0:h.profile)==null?void 0:P.role)==="customer"&&""]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(xo,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",id:"name",name:"name",value:c.name,onChange:b,disabled:!s,className:"input pr-10",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(vv,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:b,disabled:!s,className:"input pr-10",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),o.jsxs("div",{className:"relative",children:[o.jsx(Sd,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"tel",id:"phone",name:"phone",value:c.phone,onChange:b,disabled:!s,className:"input pr-10"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:""}),o.jsxs("div",{className:"relative",children:[o.jsx(dt,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"}),o.jsx("textarea",{id:"address",name:"address",rows:3,value:c.address,onChange:b,disabled:!s,className:"input pr-10"})]})]})]}),s&&o.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"  "}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:a?"text":"password",id:"current_password",name:"current_password",value:c.current_password,onChange:b,className:"input pr-10"}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!a),children:a?o.jsx(_t,{className:"h-5 w-5 text-gray-400"}):o.jsx(jt,{className:"h-5 w-5 text-gray-400"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"  "}),o.jsx("input",{type:"password",id:"password",name:"password",value:c.password,onChange:b,className:"input"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700 mb-2",children:"   "}),o.jsx("input",{type:"password",id:"password_confirmation",name:"password_confirmation",value:c.password_confirmation,onChange:b,className:"input"})]})]})]}),o.jsx("div",{className:"flex justify-end space-x-3 space-x-reverse",children:s?o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn-outline",children:""}),o.jsx("button",{type:"submit",disabled:p.isLoading,className:"btn-primary",children:p.isLoading?" ...":" "})]}):o.jsx("button",{type:"button",onClick:()=>i(!0),className:"btn-primary",children:"  "})})]})})]})})]})})})},Wk=()=>{const{user:e,hasRole:t}=Ze(),{data:r,isLoading:n}=wt(["user-orders"],async()=>{const u=await Ck();if(u.error)throw u.error;return u.data||[]},{enabled:!!e}),s=r||[],i=[{name:" ",value:s.length,icon:cr,color:"text-blue-600 bg-blue-100"},{name:" ",value:s.filter(u=>["pending","confirmed","preparing"].includes(u.status)).length,icon:yt,color:"text-yellow-600 bg-yellow-100"},{name:" ",value:s.filter(u=>u.status==="delivered").length,icon:mn,color:"text-green-600 bg-green-100"},{name:"  ",value:s.filter(u=>["ready","picked_up"].includes(u.status)).length,icon:gr,color:"text-purple-600 bg-purple-100"}],a=s.slice(0,5),l=u=>({pending:"text-yellow-600 bg-yellow-100",confirmed:"text-blue-600 bg-blue-100",preparing:"text-orange-600 bg-orange-100",ready:"text-purple-600 bg-purple-100",picked_up:"text-indigo-600 bg-indigo-100",delivered:"text-green-600 bg-green-100",cancelled:"text-red-600 bg-red-100"})[u]||"text-gray-600 bg-gray-100",c=u=>({pending:" ",confirmed:" ",preparing:" ",ready:" ",picked_up:" ",delivered:" ",cancelled:""})[u]||u;return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[" ",e==null?void 0:e.name]}),o.jsx("p",{className:"text-gray-600 mt-2",children:"      Eat to Eat"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:i.map(u=>o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`p-3 rounded-full ${u.color}`,children:o.jsx(u.icon,{className:"h-6 w-6"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:u.name}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:u.value})]})]})})},u.name))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsx("div",{className:"card-body",children:a.length>0?o.jsx("div",{className:"space-y-4",children:a.map(u=>{var h,m;return o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"flex-shrink-0 h-12 w-12 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(cr,{className:"h-6 w-6 text-primary-600"})}),o.jsxs("div",{className:"mr-4",children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["#",((h=u.id)==null?void 0:h.substring(0,8))||" "]}),o.jsx("p",{className:"text-sm text-gray-600",children:((m=u.restaurants)==null?void 0:m.name)||"  "})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(u.status)}`,children:c(u.status)}),o.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:[(u.total_amount||0).toFixed(2)," ."]})]})]},u.id)})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(cr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),o.jsx("p",{className:"text-gray-600",children:"    "})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("a",{href:"/restaurants",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(cr,{className:"h-5 w-5 text-primary-600"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]}),o.jsxs("a",{href:"/profile",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-secondary-100 rounded-lg flex items-center justify-center",children:o.jsx(os,{className:"h-5 w-5 text-secondary-600"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]}),t("restaurant")&&o.jsxs("a",{href:"/restaurant",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(jd,{className:"h-5 w-5 text-green-600"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]}),t("courier")&&o.jsxs("a",{href:"/courier",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(gr,{className:"h-5 w-5 text-purple-600"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]}),t("admin")&&o.jsxs("a",{href:"/admin",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(os,{className:"h-5 w-5 text-red-600"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]})]})})]})]})]})})};function jv(e,t){return function(){return e.apply(t,arguments)}}const{toString:Vk}=Object.prototype,{getPrototypeOf:Ed}=Object,{iterator:qo,toStringTag:Sv}=Symbol,Ho=(e=>t=>{const r=Vk.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ht=e=>(e=e.toLowerCase(),t=>Ho(t)===e),Wo=e=>t=>typeof t===e,{isArray:ws}=Array,cs=Wo("undefined");function Ri(e){return e!==null&&!cs(e)&&e.constructor!==null&&!cs(e.constructor)&&ht(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Nv=Ht("ArrayBuffer");function Kk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Nv(e.buffer),t}const Qk=Wo("string"),ht=Wo("function"),kv=Wo("number"),Pi=e=>e!==null&&typeof e=="object",Jk=e=>e===!0||e===!1,Pa=e=>{if(Ho(e)!=="object")return!1;const t=Ed(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Sv in e)&&!(qo in e)},Gk=e=>{if(!Pi(e)||Ri(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Xk=Ht("Date"),Yk=Ht("File"),Zk=Ht("Blob"),eE=Ht("FileList"),tE=e=>Pi(e)&&ht(e.pipe),rE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ht(e.append)&&((t=Ho(e))==="formdata"||t==="object"&&ht(e.toString)&&e.toString()==="[object FormData]"))},nE=Ht("URLSearchParams"),[sE,iE,aE,oE]=["ReadableStream","Request","Response","Headers"].map(Ht),lE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ti(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),ws(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Ri(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(n=0;n<a;n++)l=i[n],t.call(null,e[l],l,e)}}function Ev(e,t){if(Ri(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const dn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Cv=e=>!cs(e)&&e!==dn;function lu(){const{caseless:e,skipUndefined:t}=Cv(this)&&this||{},r={},n=(s,i)=>{const a=e&&Ev(r,i)||i;Pa(r[a])&&Pa(s)?r[a]=lu(r[a],s):Pa(s)?r[a]=lu({},s):ws(s)?r[a]=s.slice():(!t||!cs(s))&&(r[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ti(arguments[s],n);return r}const cE=(e,t,r,{allOwnKeys:n}={})=>(Ti(t,(s,i)=>{r&&ht(s)?e[i]=jv(s,r):e[i]=s},{allOwnKeys:n}),e),uE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dE=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},hE=(e,t,r,n)=>{let s,i,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!n||n(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=r!==!1&&Ed(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},fE=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},mE=e=>{if(!e)return null;if(ws(e))return e;let t=e.length;if(!kv(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},pE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ed(Uint8Array)),gE=(e,t)=>{const n=(e&&e[qo]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},vE=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},yE=Ht("HTMLFormElement"),xE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),am=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wE=Ht("RegExp"),Ov=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ti(r,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(n[i]=a||s)}),Object.defineProperties(e,n)},bE=e=>{Ov(e,(t,r)=>{if(ht(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ht(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_E=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return ws(e)?n(e):n(String(e).split(t)),r},jE=()=>{},SE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function NE(e){return!!(e&&ht(e.append)&&e[Sv]==="FormData"&&e[qo])}const kE=e=>{const t=new Array(10),r=(n,s)=>{if(Pi(n)){if(t.indexOf(n)>=0)return;if(Ri(n))return n;if(!("toJSON"in n)){t[s]=n;const i=ws(n)?[]:{};return Ti(n,(a,l)=>{const c=r(a,s+1);!cs(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},EE=Ht("AsyncFunction"),CE=e=>e&&(Pi(e)||ht(e))&&ht(e.then)&&ht(e.catch),Rv=((e,t)=>e?setImmediate:t?((r,n)=>(dn.addEventListener("message",({source:s,data:i})=>{s===dn&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),dn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ht(dn.postMessage)),OE=typeof queueMicrotask<"u"?queueMicrotask.bind(dn):typeof process<"u"&&process.nextTick||Rv,RE=e=>e!=null&&ht(e[qo]),A={isArray:ws,isArrayBuffer:Nv,isBuffer:Ri,isFormData:rE,isArrayBufferView:Kk,isString:Qk,isNumber:kv,isBoolean:Jk,isObject:Pi,isPlainObject:Pa,isEmptyObject:Gk,isReadableStream:sE,isRequest:iE,isResponse:aE,isHeaders:oE,isUndefined:cs,isDate:Xk,isFile:Yk,isBlob:Zk,isRegExp:wE,isFunction:ht,isStream:tE,isURLSearchParams:nE,isTypedArray:pE,isFileList:eE,forEach:Ti,merge:lu,extend:cE,trim:lE,stripBOM:uE,inherits:dE,toFlatObject:hE,kindOf:Ho,kindOfTest:Ht,endsWith:fE,toArray:mE,forEachEntry:gE,matchAll:vE,isHTMLForm:yE,hasOwnProperty:am,hasOwnProp:am,reduceDescriptors:Ov,freezeMethods:bE,toObjectSet:_E,toCamelCase:xE,noop:jE,toFiniteNumber:SE,findKey:Ev,global:dn,isContextDefined:Cv,isSpecCompliantForm:NE,toJSONObject:kE,isAsyncFn:EE,isThenable:CE,setImmediate:Rv,asap:OE,isIterable:RE};function ee(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}A.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const Pv=ee.prototype,Tv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Tv[e]={value:e}});Object.defineProperties(ee,Tv);Object.defineProperty(Pv,"isAxiosError",{value:!0});ee.from=(e,t,r,n,s,i)=>{const a=Object.create(Pv);A.toFlatObject(e,a,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ee.call(a,l,c,r,n,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const PE=null;function cu(e){return A.isPlainObject(e)||A.isArray(e)}function Av(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function om(e,t,r){return e?e.concat(t).map(function(s,i){return s=Av(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function TE(e){return A.isArray(e)&&!e.some(cu)}const AE=A.toFlatObject(A,{},null,function(t){return/^is[A-Z]/.test(t)});function Vo(e,t,r){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=A.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,_){return!A.isUndefined(_[j])});const n=r.metaTokens,s=r.visitor||h,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(t);if(!A.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(A.isDate(b))return b.toISOString();if(A.isBoolean(b))return b.toString();if(!c&&A.isBlob(b))throw new ee("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(b)||A.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,j,_){let f=b;if(b&&!_&&typeof b=="object"){if(A.endsWith(j,"{}"))j=n?j:j.slice(0,-2),b=JSON.stringify(b);else if(A.isArray(b)&&TE(b)||(A.isFileList(b)||A.endsWith(j,"[]"))&&(f=A.toArray(b)))return j=Av(j),f.forEach(function(w,S){!(A.isUndefined(w)||w===null)&&t.append(a===!0?om([j],S,i):a===null?j:j+"[]",u(w))}),!1}return cu(b)?!0:(t.append(om(_,j,i),u(b)),!1)}const m=[],p=Object.assign(AE,{defaultVisitor:h,convertValue:u,isVisitable:cu});function v(b,j){if(!A.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+j.join("."));m.push(b),A.forEach(b,function(f,y){(!(A.isUndefined(f)||f===null)&&s.call(t,f,A.isString(y)?y.trim():y,j,p))===!0&&v(f,j?j.concat(y):[y])}),m.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return v(e),t}function lm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Cd(e,t){this._pairs=[],e&&Vo(e,this,t)}const Lv=Cd.prototype;Lv.append=function(t,r){this._pairs.push([t,r])};Lv.toString=function(t){const r=t?function(n){return t.call(this,n,lm)}:lm;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function LE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Iv(e,t,r){if(!t)return e;const n=r&&r.encode||LE;A.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=A.isURLSearchParams(t)?t.toString():new Cd(t,r).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class cm{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){A.forEach(this.handlers,function(n){n!==null&&t(n)})}}const $v={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IE=typeof URLSearchParams<"u"?URLSearchParams:Cd,$E=typeof FormData<"u"?FormData:null,UE=typeof Blob<"u"?Blob:null,FE={isBrowser:!0,classes:{URLSearchParams:IE,FormData:$E,Blob:UE},protocols:["http","https","file","blob","url","data"]},Od=typeof window<"u"&&typeof document<"u",uu=typeof navigator=="object"&&navigator||void 0,ME=Od&&(!uu||["ReactNative","NativeScript","NS"].indexOf(uu.product)<0),DE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BE=Od&&window.location.href||"http://localhost",zE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Od,hasStandardBrowserEnv:ME,hasStandardBrowserWebWorkerEnv:DE,navigator:uu,origin:BE},Symbol.toStringTag,{value:"Module"})),Xe={...zE,...FE};function qE(e,t){return Vo(e,new Xe.classes.URLSearchParams,{visitor:function(r,n,s,i){return Xe.isNode&&A.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function HE(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function WE(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function Uv(e){function t(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=r.length;return a=!a&&A.isArray(s)?s.length:a,c?(A.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!A.isObject(s[a]))&&(s[a]=[]),t(r,n,s[a],i)&&A.isArray(s[a])&&(s[a]=WE(s[a])),!l)}if(A.isFormData(e)&&A.isFunction(e.entries)){const r={};return A.forEachEntry(e,(n,s)=>{t(HE(n),s,r,0)}),r}return null}function VE(e,t,r){if(A.isString(e))try{return(t||JSON.parse)(e),A.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ai={transitional:$v,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=A.isObject(t);if(i&&A.isHTMLForm(t)&&(t=new FormData(t)),A.isFormData(t))return s?JSON.stringify(Uv(t)):t;if(A.isArrayBuffer(t)||A.isBuffer(t)||A.isStream(t)||A.isFile(t)||A.isBlob(t)||A.isReadableStream(t))return t;if(A.isArrayBufferView(t))return t.buffer;if(A.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return qE(t,this.formSerializer).toString();if((l=A.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Vo(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),VE(t)):t}],transformResponse:[function(t){const r=this.transitional||Ai.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(A.isResponse(t)||A.isReadableStream(t))return t;if(t&&A.isString(t)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?ee.from(l,ee.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xe.classes.FormData,Blob:Xe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{Ai.headers[e]={}});const KE=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QE=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||t[r]&&KE[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},um=Symbol("internals");function As(e){return e&&String(e).trim().toLowerCase()}function Ta(e){return e===!1||e==null?e:A.isArray(e)?e.map(Ta):String(e)}function JE(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const GE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ql(e,t,r,n,s){if(A.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!A.isString(t)){if(A.isString(n))return t.indexOf(n)!==-1;if(A.isRegExp(n))return n.test(t)}}function XE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function YE(e,t){const r=A.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,a){return this[n].call(this,t,s,i,a)},configurable:!0})})}let ft=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const h=As(c);if(!h)throw new Error("header name must be a non-empty string");const m=A.findKey(s,h);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||c]=Ta(l))}const a=(l,c)=>A.forEach(l,(u,h)=>i(u,h,c));if(A.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(A.isString(t)&&(t=t.trim())&&!GE(t))a(QE(t),r);else if(A.isObject(t)&&A.isIterable(t)){let l={},c,u;for(const h of t){if(!A.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?A.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}a(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=As(t),t){const n=A.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return JE(s);if(A.isFunction(r))return r.call(this,s,n);if(A.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=As(t),t){const n=A.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ql(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(a){if(a=As(a),a){const l=A.findKey(n,a);l&&(!r||ql(n,n[l],l,r))&&(delete n[l],s=!0)}}return A.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||ql(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return A.forEach(this,(s,i)=>{const a=A.findKey(n,i);if(a){r[a]=Ta(s),delete r[i];return}const l=t?XE(i):String(i).trim();l!==i&&delete r[i],r[l]=Ta(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return A.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&A.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[um]=this[um]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=As(a);n[l]||(YE(s,a),n[l]=!0)}return A.isArray(t)?t.forEach(i):i(t),this}};ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(ft.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});A.freezeMethods(ft);function Hl(e,t){const r=this||Ai,n=t||r,s=ft.from(n.headers);let i=n.data;return A.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Fv(e){return!!(e&&e.__CANCEL__)}function bs(e,t,r){ee.call(this,e??"canceled",ee.ERR_CANCELED,t,r),this.name="CanceledError"}A.inherits(bs,ee,{__CANCEL__:!0});function Mv(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ee("Request failed with status code "+r.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ZE(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function e4(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=n[i];a||(a=u),r[s]=c,n[s]=u;let m=i,p=0;for(;m!==s;)p+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-a<t)return;const v=h&&u-h;return v?Math.round(p*1e3/v):void 0}}function t4(e,t){let r=0,n=1e3/t,s,i;const a=(u,h=Date.now())=>{r=h,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const h=Date.now(),m=h-r;m>=n?a(u,h):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},n-m)))},()=>s&&a(s)]}const wo=(e,t,r=3)=>{let n=0;const s=e4(50,250);return t4(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-n,u=s(c),h=a<=l;n=a;const m={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},dm=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},hm=e=>(...t)=>A.asap(()=>e(...t)),r4=Xe.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Xe.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Xe.origin),Xe.navigator&&/(msie|trident)/i.test(Xe.navigator.userAgent)):()=>!0,n4=Xe.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const a=[e+"="+encodeURIComponent(t)];A.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),A.isString(n)&&a.push("path="+n),A.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function s4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function i4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Dv(e,t,r){let n=!s4(t);return e&&(n||r==!1)?i4(e,t):t}const fm=e=>e instanceof ft?{...e}:e;function bn(e,t){t=t||{};const r={};function n(u,h,m,p){return A.isPlainObject(u)&&A.isPlainObject(h)?A.merge.call({caseless:p},u,h):A.isPlainObject(h)?A.merge({},h):A.isArray(h)?h.slice():h}function s(u,h,m,p){if(A.isUndefined(h)){if(!A.isUndefined(u))return n(void 0,u,m,p)}else return n(u,h,m,p)}function i(u,h){if(!A.isUndefined(h))return n(void 0,h)}function a(u,h){if(A.isUndefined(h)){if(!A.isUndefined(u))return n(void 0,u)}else return n(void 0,h)}function l(u,h,m){if(m in t)return n(u,h);if(m in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,h,m)=>s(fm(u),fm(h),m,!0)};return A.forEach(Object.keys({...e,...t}),function(h){const m=c[h]||s,p=m(e[h],t[h],h);A.isUndefined(p)&&m!==l||(r[h]=p)}),r}const Bv=e=>{const t=bn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=ft.from(a),t.url=Iv(Dv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),A.isFormData(r)){if(Xe.hasStandardBrowserEnv||Xe.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(A.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([h,m])=>{u.includes(h.toLowerCase())&&a.set(h,m)})}}if(Xe.hasStandardBrowserEnv&&(n&&A.isFunction(n)&&(n=n(t)),n||n!==!1&&r4(t.url))){const c=s&&i&&n4.read(i);c&&a.set(s,c)}return t},a4=typeof XMLHttpRequest<"u",o4=a4&&function(e){return new Promise(function(r,n){const s=Bv(e);let i=s.data;const a=ft.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,h,m,p,v,b;function j(){v&&v(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let _=new XMLHttpRequest;_.open(s.method.toUpperCase(),s.url,!0),_.timeout=s.timeout;function f(){if(!_)return;const w=ft.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:w,config:e,request:_};Mv(function(P){r(P),j()},function(P){n(P),j()},E),_=null}"onloadend"in _?_.onloadend=f:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(f)},_.onabort=function(){_&&(n(new ee("Request aborted",ee.ECONNABORTED,e,_)),_=null)},_.onerror=function(S){const E=S&&S.message?S.message:"Network Error",R=new ee(E,ee.ERR_NETWORK,e,_);R.event=S||null,n(R),_=null},_.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||$v;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new ee(S,E.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,e,_)),_=null},i===void 0&&a.setContentType(null),"setRequestHeader"in _&&A.forEach(a.toJSON(),function(S,E){_.setRequestHeader(E,S)}),A.isUndefined(s.withCredentials)||(_.withCredentials=!!s.withCredentials),l&&l!=="json"&&(_.responseType=s.responseType),u&&([p,b]=wo(u,!0),_.addEventListener("progress",p)),c&&_.upload&&([m,v]=wo(c),_.upload.addEventListener("progress",m),_.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=w=>{_&&(n(!w||w.type?new bs(null,e,_):w),_.abort(),_=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const y=ZE(s.url);if(y&&Xe.protocols.indexOf(y)===-1){n(new ee("Unsupported protocol "+y+":",ee.ERR_BAD_REQUEST,e));return}_.send(i||null)})},l4=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;n.abort(h instanceof ee?h:new bs(h instanceof Error?h.message:h))}};let a=t&&setTimeout(()=>{a=null,i(new ee(`timeout ${t} of ms exceeded`,ee.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>A.asap(l),c}},c4=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},u4=async function*(e,t){for await(const r of d4(e))yield*c4(r,t)},d4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},mm=(e,t,r,n)=>{const s=u4(e,t);let i=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await s.next();if(u){l(),c.close();return}let m=h.byteLength;if(r){let p=i+=m;r(p)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},pm=64*1024,{isFunction:fa}=A,h4=(({Request:e,Response:t})=>({Request:e,Response:t}))(A.global),{ReadableStream:gm,TextEncoder:vm}=A.global,ym=(e,...t)=>{try{return!!e(...t)}catch{return!1}},f4=e=>{e=A.merge.call({skipUndefined:!0},h4,e);const{fetch:t,Request:r,Response:n}=e,s=t?fa(t):typeof fetch=="function",i=fa(r),a=fa(n);if(!s)return!1;const l=s&&fa(gm),c=s&&(typeof vm=="function"?(b=>j=>b.encode(j))(new vm):async b=>new Uint8Array(await new r(b).arrayBuffer())),u=i&&l&&ym(()=>{let b=!1;const j=new r(Xe.origin,{body:new gm,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!j}),h=a&&l&&ym(()=>A.isReadableStream(new n("").body)),m={stream:h&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!m[b]&&(m[b]=(j,_)=>{let f=j&&j[b];if(f)return f.call(j);throw new ee(`Response type '${b}' is not supported`,ee.ERR_NOT_SUPPORT,_)})});const p=async b=>{if(b==null)return 0;if(A.isBlob(b))return b.size;if(A.isSpecCompliantForm(b))return(await new r(Xe.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(A.isArrayBufferView(b)||A.isArrayBuffer(b))return b.byteLength;if(A.isURLSearchParams(b)&&(b=b+""),A.isString(b))return(await c(b)).byteLength},v=async(b,j)=>{const _=A.toFiniteNumber(b.getContentLength());return _??p(j)};return async b=>{let{url:j,method:_,data:f,signal:y,cancelToken:w,timeout:S,onDownloadProgress:E,onUploadProgress:R,responseType:P,headers:C,withCredentials:I="same-origin",fetchOptions:T}=Bv(b),U=t||fetch;P=P?(P+"").toLowerCase():"text";let D=l4([y,w&&w.toAbortSignal()],S),Y=null;const oe=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let Ve;try{if(R&&u&&_!=="get"&&_!=="head"&&(Ve=await v(C,f))!==0){let se=new r(j,{method:"POST",body:f,duplex:"half"}),ie;if(A.isFormData(f)&&(ie=se.headers.get("content-type"))&&C.setContentType(ie),se.body){const[Wt,it]=dm(Ve,wo(hm(R)));f=mm(se.body,pm,Wt,it)}}A.isString(I)||(I=I?"include":"omit");const K=i&&"credentials"in r.prototype,fe={...T,signal:D,method:_.toUpperCase(),headers:C.normalize().toJSON(),body:f,duplex:"half",credentials:K?I:void 0};Y=i&&new r(j,fe);let F=await(i?U(Y,T):U(j,fe));const V=h&&(P==="stream"||P==="response");if(h&&(E||V&&oe)){const se={};["status","statusText","headers"].forEach(ye=>{se[ye]=F[ye]});const ie=A.toFiniteNumber(F.headers.get("content-length")),[Wt,it]=E&&dm(ie,wo(hm(E),!0))||[];F=new n(mm(F.body,pm,Wt,()=>{it&&it(),oe&&oe()}),se)}P=P||"text";let G=await m[A.findKey(m,P)||"text"](F,b);return!V&&oe&&oe(),await new Promise((se,ie)=>{Mv(se,ie,{data:G,headers:ft.from(F.headers),status:F.status,statusText:F.statusText,config:b,request:Y})})}catch(K){throw oe&&oe(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new ee("Network Error",ee.ERR_NETWORK,b,Y),{cause:K.cause||K}):ee.from(K,K&&K.code,b,Y)}}},m4=new Map,zv=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let a=i.length,l=a,c,u,h=m4;for(;l--;)c=i[l],u=h.get(c),u===void 0&&h.set(c,u=l?new Map:f4(t)),h=u;return u};zv();const du={http:PE,xhr:o4,fetch:{get:zv}};A.forEach(du,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xm=e=>`- ${e}`,p4=e=>A.isFunction(e)||e===null||e===!1,qv={getAdapter:(e,t)=>{e=A.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let a=0;a<r;a++){n=e[a];let l;if(s=n,!p4(n)&&(s=du[(l=String(n)).toLowerCase()],s===void 0))throw new ee(`Unknown adapter '${l}'`);if(s&&(A.isFunction(s)||(s=s.get(t))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?a.length>1?`since :
`+a.map(xm).join(`
`):" "+xm(a[0]):"as no adapter specified";throw new ee("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:du};function Wl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bs(null,e)}function wm(e){return Wl(e),e.headers=ft.from(e.headers),e.data=Hl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qv.getAdapter(e.adapter||Ai.adapter,e)(e).then(function(n){return Wl(e),n.data=Hl.call(e,e.transformResponse,n),n.headers=ft.from(n.headers),n},function(n){return Fv(n)||(Wl(e),n&&n.response&&(n.response.data=Hl.call(e,e.transformResponse,n.response),n.response.headers=ft.from(n.response.headers))),Promise.reject(n)})}const Hv="1.12.2",Ko={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ko[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const bm={};Ko.transitional=function(t,r,n){function s(i,a){return"[Axios v"+Hv+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(t===!1)throw new ee(s(a," has been removed"+(r?" in "+r:"")),ee.ERR_DEPRECATED);return r&&!bm[a]&&(bm[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,l):!0}};Ko.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function g4(e,t,r){if(typeof e!="object")throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],a=t[i];if(a){const l=e[i],c=l===void 0||a(l,i,e);if(c!==!0)throw new ee("option "+i+" must be "+c,ee.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ee("Unknown option "+i,ee.ERR_BAD_OPTION)}}const Aa={assertOptions:g4,validators:Ko},Kt=Aa.validators;let pn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new cm,response:new cm}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=bn(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Aa.assertOptions(n,{silentJSONParsing:Kt.transitional(Kt.boolean),forcedJSONParsing:Kt.transitional(Kt.boolean),clarifyTimeoutError:Kt.transitional(Kt.boolean)},!1),s!=null&&(A.isFunction(s)?r.paramsSerializer={serialize:s}:Aa.assertOptions(s,{encode:Kt.function,serialize:Kt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Aa.assertOptions(r,{baseUrl:Kt.spelling("baseURL"),withXsrfToken:Kt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&A.merge(i.common,i[r.method]);i&&A.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),r.headers=ft.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(c=c&&j.synchronous,l.unshift(j.fulfilled,j.rejected))});const u=[];this.interceptors.response.forEach(function(j){u.push(j.fulfilled,j.rejected)});let h,m=0,p;if(!c){const b=[wm.bind(this),void 0];for(b.unshift(...l),b.push(...u),p=b.length,h=Promise.resolve(r);m<p;)h=h.then(b[m++],b[m++]);return h}p=l.length;let v=r;for(;m<p;){const b=l[m++],j=l[m++];try{v=b(v)}catch(_){j.call(this,_);break}}try{h=wm.call(this,v)}catch(b){return Promise.reject(b)}for(m=0,p=u.length;m<p;)h=h.then(u[m++],u[m++]);return h}getUri(t){t=bn(this.defaults,t);const r=Dv(t.baseURL,t.url,t.allowAbsoluteUrls);return Iv(r,t.params,t.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(t){pn.prototype[t]=function(r,n){return this.request(bn(n||{},{method:t,url:r,data:(n||{}).data}))}});A.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,l){return this.request(bn(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}pn.prototype[t]=r(),pn.prototype[t+"Form"]=r(!0)});let v4=class Wv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,l){n.reason||(n.reason=new bs(i,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Wv(function(s){t=s}),cancel:t}}};function y4(e){return function(r){return e.apply(null,r)}}function x4(e){return A.isObject(e)&&e.isAxiosError===!0}const hu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hu).forEach(([e,t])=>{hu[t]=e});function Vv(e){const t=new pn(e),r=jv(pn.prototype.request,t);return A.extend(r,pn.prototype,t,{allOwnKeys:!0}),A.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return Vv(bn(e,s))},r}const Pe=Vv(Ai);Pe.Axios=pn;Pe.CanceledError=bs;Pe.CancelToken=v4;Pe.isCancel=Fv;Pe.VERSION=Hv;Pe.toFormData=Vo;Pe.AxiosError=ee;Pe.Cancel=Pe.CanceledError;Pe.all=function(t){return Promise.all(t)};Pe.spread=y4;Pe.isAxiosError=x4;Pe.mergeConfig=bn;Pe.AxiosHeaders=ft;Pe.formToJSON=e=>Uv(A.isHTMLForm(e)?new FormData(e):e);Pe.getAdapter=qv.getAdapter;Pe.HttpStatusCode=hu;Pe.default=Pe;const{Axios:F4,AxiosError:M4,CanceledError:D4,isCancel:B4,CancelToken:z4,VERSION:q4,all:H4,Cancel:W4,isAxiosError:V4,spread:K4,toFormData:Q4,AxiosHeaders:J4,HttpStatusCode:G4,formToJSON:X4,getAdapter:Y4,mergeConfig:Z4}=Pe,w4="http://localhost:8000/api",Oe=Pe.create({baseURL:w4,timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});Oe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Oe.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),console.log("Unauthorized - token removed")),Promise.reject(e)});const b4={getAll:e=>Oe.get("/products",{params:e}),getById:e=>Oe.get(`/products/${e}`),create:e=>Oe.post("/products",e),update:(e,t)=>Oe.put(`/products/${e}`,t),delete:e=>Oe.delete(`/products/${e}`)},bo={getAll:e=>Oe.get("/orders",{params:e}),getById:e=>Oe.get(`/orders/${e}`),create:e=>Oe.post("/orders",e),updateStatus:(e,t)=>Oe.put(`/orders/${e}/status`,{status:t})},ma={getAvailableOrders:()=>Oe.get("/courier/available-orders"),acceptOrder:e=>Oe.post(`/courier/accept-order/${e}`),updateLocation:e=>Oe.put("/courier/update-location",e),toggleAvailability:()=>Oe.put("/courier/toggle-availability")},_4={getDashboard:()=>Oe.get("/admin/dashboard"),getAllUsers:()=>Oe.get("/admin/users"),toggleUserStatus:e=>Oe.put(`/admin/users/${e}/toggle-status`),getAllOrders:()=>Oe.get("/admin/orders"),getAllRestaurants:()=>Oe.get("/admin/restaurants"),getAllCouriers:()=>Oe.get("/admin/couriers")},j4=()=>{var s;const{data:e,isLoading:t}=wt(["admin-dashboard"],()=>_4.getDashboard()),r=((s=e==null?void 0:e.data)==null?void 0:s.data)||{},n=[{name:" ",value:r.total_users||0,icon:hk,color:"text-blue-600 bg-blue-100"},{name:" ",value:r.total_restaurants||0,icon:gv,color:"text-green-600 bg-green-100"},{name:" ",value:r.total_couriers||0,icon:gr,color:"text-purple-600 bg-purple-100"},{name:" ",value:r.total_orders||0,icon:cr,color:"text-orange-600 bg-orange-100"},{name:" ",value:r.today_orders||0,icon:jN,color:"text-indigo-600 bg-indigo-100"},{name:" ",value:r.total_revenue||0,icon:jd,color:"text-yellow-600 bg-yellow-100"}];return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "}),o.jsx("p",{className:"text-gray-600 mt-2",children:"     "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:n.map(i=>o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`p-3 rounded-full ${i.color}`,children:o.jsx(i.icon,{className:"h-6 w-6"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:i.name}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:i.name.includes("")?`${i.value} .`:i.value})]})]})})},i.name))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"       "}),o.jsx("a",{href:"/admin/users",className:"btn-primary",children:" "})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),o.jsx("a",{href:"/admin/restaurants",className:"btn-primary",children:" "})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"     "}),o.jsx("a",{href:"/admin/couriers",className:"btn-primary",children:" "})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"    "}),o.jsx("a",{href:"/admin/orders",className:"btn-primary",children:" "})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"   "}),o.jsx("a",{href:"/admin/reports",className:"btn-primary",children:" "})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsxs("div",{className:"card-body",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"   "}),o.jsx("a",{href:"/admin/settings",className:"btn-primary",children:""})]})]})]})]})})},S4=()=>{var w;const{user:e,loading:t}=Ze(),r=ki(),[n,s]=N.useState("all");console.log("RestaurantDashboard - user:",e),console.log("RestaurantDashboard - loading:",t),console.log("RestaurantDashboard - user.restaurant:",e==null?void 0:e.restaurant);const i=[{id:1,order_number:"ORD-001",status:"pending",total_price:150,user:{name:" "},order_items:[{id:1,product:{name:" "},quantity:2,price:75}],delivery_address:"   ",notes:" "},{id:2,order_number:"ORD-002",status:"confirmed",total_price:200,user:{name:" "},order_items:[{id:2,product:{name:" "},quantity:1,price:200}],delivery_address:"  ",notes:""}],a=[{id:1,name:" ",price:75,description:"  "},{id:2,name:" ",price:200,description:"  "},{id:3,name:" ",price:45,description:"  "}],{data:l,isLoading:c}=wt(["restaurant-orders"],()=>bo.getAll(),{enabled:!!(e!=null&&e.restaurant),retry:!1,onError:S=>{console.error("Error fetching orders:",S)}}),{data:u,isLoading:h}=wt(["restaurant-products"],()=>{var S;return b4.getAll({restaurant_id:(S=e==null?void 0:e.restaurant)==null?void 0:S.id})},{enabled:!!(e!=null&&e.restaurant),retry:!1,onError:S=>{console.error("Error fetching products:",S)}}),m=Pr(({orderId:S,status:E})=>bo.updateStatus(S,{status:E}),{onSuccess:()=>{r.invalidateQueries(["restaurant-orders"]),Q.success("    ")},onError:S=>{var E,R;Q.error(((R=(E=S.response)==null?void 0:E.data)==null?void 0:R.message)||"     ")}}),p=N.useMemo(()=>{if(!l)return i;const S=l==null?void 0:l.data;return Array.isArray(S)?S:S!=null&&S.data&&Array.isArray(S.data)?S.data:S!=null&&S.orders&&Array.isArray(S.orders)?S.orders:i},[l]),v=N.useMemo(()=>{if(!u)return a;const S=u==null?void 0:u.data;return Array.isArray(S)?S:S!=null&&S.data&&Array.isArray(S.data)?S.data:S!=null&&S.products&&Array.isArray(S.products)?S.products:a},[u]),b=N.useMemo(()=>Array.isArray(p)?n==="all"?p:p.filter(S=>S.status===n):[],[p,n]),j=N.useMemo(()=>{const S=Array.isArray(p)?p:[],E=Array.isArray(v)?v:[];return[{name:" ",value:S.length,icon:cr,color:"text-blue-600 bg-blue-100"},{name:" ",value:S.filter(R=>["pending","confirmed"].includes(R.status)).length,icon:yt,color:"text-yellow-600 bg-yellow-100"},{name:"  ",value:S.filter(R=>R.status==="preparing").length,icon:yt,color:"text-orange-600 bg-orange-100"},{name:" ",value:S.filter(R=>R.status==="ready").length,icon:mn,color:"text-green-600 bg-green-100"},{name:" ",value:S.filter(R=>R.status==="delivered").length,icon:mn,color:"text-green-600 bg-green-100"},{name:" ",value:E.length,icon:cr,color:"text-purple-600 bg-purple-100"}]},[p,v]),_=S=>({pending:"text-yellow-600 bg-yellow-100",confirmed:"text-blue-600 bg-blue-100",preparing:"text-orange-600 bg-orange-100",ready:"text-purple-600 bg-purple-100",picked_up:"text-indigo-600 bg-indigo-100",delivered:"text-green-600 bg-green-100",cancelled:"text-red-600 bg-red-100"})[S]||"text-gray-600 bg-gray-100",f=S=>({pending:" ",confirmed:" ",preparing:" ",ready:" ",picked_up:" ",delivered:" ",cancelled:""})[S]||S,y=(S,E)=>{m.mutate({orderId:S,status:E})};return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e?e.restaurant?o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["  - ",(w=e==null?void 0:e.restaurant)==null?void 0:w.name]}),o.jsx("p",{className:"text-gray-600 mt-2",children:"  "})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:j.map(S=>o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`p-3 rounded-full ${S.color}`,children:o.jsx(S.icon,{className:"h-6 w-6"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:S.name}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:S.value})]})]})})},S.name))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),o.jsxs("select",{value:n,onChange:S=>s(S.target.value),className:"input py-1 text-sm",children:[o.jsx("option",{value:"all",children:" "}),o.jsx("option",{value:"pending",children:" "}),o.jsx("option",{value:"confirmed",children:" "}),o.jsx("option",{value:"preparing",children:" "}),o.jsx("option",{value:"ready",children:" "}),o.jsx("option",{value:"picked_up",children:" "}),o.jsx("option",{value:"delivered",children:" "}),o.jsx("option",{value:"cancelled",children:""})]})]})}),o.jsx("div",{className:"card-body",children:c?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),o.jsx("p",{className:"text-gray-600 mt-4",children:"  ..."})]}):Array.isArray(b)&&b.length>0?o.jsx("div",{className:"space-y-4",children:b.map(S=>{var E,R;return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["#",S.order_number]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[(E=S.user)==null?void 0:E.name," - ",S.total_price," ."]})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(S.status)}`,children:f(S.status)})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:":"}),o.jsx("div",{className:"space-y-1",children:(R=S.order_items)==null?void 0:R.map(P=>{var C;return o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{className:"text-gray-600",children:[(C=P.product)==null?void 0:C.name," x ",P.quantity]}),o.jsxs("span",{className:"text-gray-900",children:[P.price*P.quantity," ."]})]},P.id)})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsxs("p",{children:[": ",S.delivery_address]}),S.notes&&o.jsxs("p",{children:[": ",S.notes]})]}),o.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[S.status==="pending"&&o.jsx("button",{onClick:()=>y(S.id,"confirmed"),className:"btn-primary text-xs px-3 py-1",children:""}),S.status==="confirmed"&&o.jsx("button",{onClick:()=>y(S.id,"preparing"),className:"btn-primary text-xs px-3 py-1",children:" "}),S.status==="preparing"&&o.jsx("button",{onClick:()=>y(S.id,"ready"),className:"btn-primary text-xs px-3 py-1",children:""}),S.status==="pending"&&o.jsx("button",{onClick:()=>y(S.id,"cancelled"),className:"btn-danger text-xs px-3 py-1",children:""})]})]})]},S.id)})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(cr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),o.jsx("p",{className:"text-gray-600",children:"     "})]})})]})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs(te,{to:"/restaurant/products",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Nd,{className:"h-5 w-5 text-primary-600"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:"   "})]})]}),o.jsxs(te,{to:"/restaurant/products",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-secondary-100 rounded-lg flex items-center justify-center",children:o.jsx(nm,{className:"h-5 w-5 text-secondary-600"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]}),o.jsxs(te,{to:"/restaurant/profile",className:"flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(nm,{className:"h-5 w-5 text-green-600"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:" "}),o.jsx("p",{className:"text-sm text-gray-600",children:"  "})]})]})]})})]})})]})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:" !"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"      "}),o.jsx(te,{to:"/restaurant/register",className:"btn-primary",children:"  "})]})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"   "}),o.jsx("p",{className:"text-gray-600",children:"   "})]})})},N4=()=>{var w,S,E,R,P,C,I;const{user:e}=Ze(),t=ki(),[r,n]=N.useState(!1),{data:s,isLoading:i}=wt(["available-orders"],()=>ma.getAvailableOrders(),{enabled:!!((w=e==null?void 0:e.courier)!=null&&w.is_available),refetchInterval:1e4}),{data:a,isLoading:l}=wt(["courier-orders"],()=>bo.getAll(),{enabled:!!(e!=null&&e.courier)}),c=Pr(T=>ma.acceptOrder(T),{onSuccess:()=>{t.invalidateQueries(["available-orders"]),t.invalidateQueries(["courier-orders"]),Q.success("   ")},onError:T=>{var U,D;Q.error(((D=(U=T.response)==null?void 0:U.data)==null?void 0:D.message)||"    ")}}),u=Pr(ma.updateLocation,{onSuccess:()=>{Q.success("   ")},onError:T=>{var U,D;Q.error(((D=(U=T.response)==null?void 0:U.data)==null?void 0:D.message)||"    ")}}),h=Pr(ma.toggleAvailability,{onSuccess:()=>{t.invalidateQueries(["available-orders"]),Q.success("   ")},onError:T=>{var U,D;Q.error(((D=(U=T.response)==null?void 0:U.data)==null?void 0:D.message)||"     ")}}),m=Pr(({orderId:T,status:U})=>bo.updateStatus(T,{status:U}),{onSuccess:()=>{t.invalidateQueries(["courier-orders"]),Q.success("    ")},onError:T=>{var U,D;Q.error(((D=(U=T.response)==null?void 0:U.data)==null?void 0:D.message)||"     ")}}),p=((S=s==null?void 0:s.data)==null?void 0:S.data)||[],v=((E=a==null?void 0:a.data)==null?void 0:E.data)||[],b=[{name:" ",value:p.length,icon:yt,color:"text-blue-600 bg-blue-100"},{name:" ",value:v.filter(T=>["picked_up"].includes(T.status)).length,icon:gr,color:"text-orange-600 bg-orange-100"},{name:" ",value:v.filter(T=>T.status==="delivered").length,icon:mn,color:"text-green-600 bg-green-100"},{name:" ",value:((R=e==null?void 0:e.courier)==null?void 0:R.total_earnings)||0,icon:jd,color:"text-yellow-600 bg-yellow-100"}],j=()=>{navigator.geolocation?(n(!0),navigator.geolocation.getCurrentPosition(T=>{u.mutate({latitude:T.coords.latitude,longitude:T.coords.longitude}),n(!1)},T=>{console.error("Error getting location:",T),Q.error("     "),n(!1)})):Q.error("    ")},_=T=>{c.mutate(T)},f=()=>{h.mutate()},y=(T,U)=>{m.mutate({orderId:T,status:U})};return i||l?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["  - ",e==null?void 0:e.name]}),o.jsx("p",{className:"text-gray-600 mt-2",children:"    "})]}),o.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[o.jsx("button",{onClick:j,disabled:r,className:"btn-outline",children:r?" ...":" "}),o.jsx("button",{onClick:f,disabled:h.isLoading,className:`${(P=e==null?void 0:e.courier)!=null&&P.is_available?"btn-danger":"btn-primary"}`,children:(C=e==null?void 0:e.courier)!=null&&C.is_available?o.jsxs(o.Fragment,{children:[o.jsx(JN,{className:"h-4 w-4 ml-1"})," "]}):o.jsxs(o.Fragment,{children:[o.jsx(ZN,{className:"h-4 w-4 ml-1"})," "]})})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:b.map(T=>o.jsx("div",{className:"card",children:o.jsx("div",{className:"card-body",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`p-3 rounded-full ${T.color}`,children:o.jsx(T.icon,{className:"h-6 w-6"})}),o.jsxs("div",{className:"mr-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:T.name}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:T.name.includes("")?`${T.value} .`:T.value})]})]})})},T.name))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "})}),o.jsx("div",{className:"card-body",children:p.length>0?o.jsx("div",{className:"space-y-4",children:p.map(T=>{var U,D,Y,oe;return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["#",T.order_number]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[(U=T.restaurant)==null?void 0:U.name," - ",T.total_price," ."]})]}),o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" "})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[o.jsx(dt,{className:"h-4 w-4 ml-1"}),o.jsxs("span",{children:[": ",(D=T.restaurant)==null?void 0:D.address]})]}),o.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[o.jsx(dt,{className:"h-4 w-4 ml-1"}),o.jsxs("span",{children:[": ",T.delivery_address]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-gray-600",children:o.jsxs("p",{children:[": ",(oe=(Y=T.calculateDistance)==null?void 0:Y.call(T))==null?void 0:oe.toFixed(1)," "]})}),o.jsx("button",{onClick:()=>_(T.id),disabled:c.isLoading,className:"btn-primary text-xs px-3 py-1",children:" "})]})]},T.id)})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(yt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"   "}),o.jsx("p",{className:"text-gray-600",children:(I=e==null?void 0:e.courier)!=null&&I.is_available?"    ":"     "})]})})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"card-header",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""})}),o.jsx("div",{className:"card-body",children:v.length>0?o.jsx("div",{className:"space-y-4",children:v.map(T=>{var U,D,Y;return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:["#",T.order_number]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[(U=T.restaurant)==null?void 0:U.name," - ",T.total_price," ."]})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.status==="picked_up"?"bg-orange-100 text-orange-800":T.status==="delivered"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.status==="picked_up"?" ":T.status==="delivered"?" ":T.status})]}),o.jsx("div",{className:"mb-3",children:o.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[o.jsx(dt,{className:"h-4 w-4 ml-1"}),o.jsxs("span",{children:[": ",T.delivery_address]})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm text-gray-600",children:o.jsxs("p",{children:[": ",(Y=(D=T.calculateDistance)==null?void 0:D.call(T))==null?void 0:Y.toFixed(1)," "]})}),T.status==="picked_up"&&o.jsx("button",{onClick:()=>y(T.id,"delivered"),disabled:m.isLoading,className:"btn-primary text-xs px-3 py-1",children:" "})]})]},T.id)})}):o.jsxs("div",{className:"text-center py-8",children:[o.jsx(gr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"  "}),o.jsx("p",{className:"text-gray-600",children:"     "})]})})]})]})]})})},Vl=({children:e,role:t})=>{const{isAuthenticated:r,hasRole:n,loading:s,user:i}=Ze(),a=yr();return console.log("ProtectedRoute - loading:",s,"isAuthenticated:",r(),"user:",i,"role:",t),s?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):r()?t&&!n(t)?(console.log("User does not have required role:",t,"user role:",i==null?void 0:i.role),o.jsx(vf,{to:"/",replace:!0})):(console.log("Access granted"),e):(console.log("Not authenticated, redirecting to login"),o.jsx(vf,{to:"/login",state:{from:a},replace:!0}))},k4=()=>{const e=q!==null;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-orange-400 via-pink-500 to-purple-600",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full mx-4",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-5xl font-bold text-orange-600 mb-2 flex items-center justify-center gap-3",children:"Eat to Eat "}),o.jsx("p",{className:"text-gray-600 text-lg",children:"     "})]}),o.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm",children:""})}),o.jsx("span",{className:"text-blue-800 font-medium",children:" :   "})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:" Supabase:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50",children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Supabase URL:"}),o.jsx("span",{className:"font-bold text-red-600",children:"  "})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-red-50",children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Supabase Key:"}),o.jsx("span",{className:"font-bold text-red-600",children:"  "})]}),o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${e?"bg-green-50":"bg-red-50"}`,children:[o.jsx("span",{className:"font-medium text-gray-700",children:"Supabase Client:"}),o.jsx("span",{className:`font-bold ${e?"text-green-600":"text-red-600"}`,children:e?" ":"  "})]})]})]}),e?o.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-green-800 font-medium",children:"   !    "}),o.jsx("a",{href:"/customer/register",className:"mt-4 inline-block bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition",children:"  "})]}):o.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-800 font-medium mb-2",children:" Supabase  "}),o.jsx("p",{className:"text-red-600 text-sm",children:"    .env   frontend"}),o.jsx("p",{className:"text-red-600 text-sm mt-2",children:"  : VITE_SUPABASE_URL  VITE_SUPABASE_ANON_KEY"})]}),o.jsx("p",{className:"text-center text-gray-500 text-sm mt-6",children:"        "})]})})};function E4(){return o.jsx(xk,{children:o.jsx(hN,{children:o.jsx(yk,{children:o.jsx(uN,{children:o.jsx(gN,{children:o.jsxs(gk,{children:[o.jsxs(f_,{children:[o.jsx(ke,{path:"/login",element:o.jsx(Tk,{})}),o.jsx(ke,{path:"/register",element:o.jsx(Ak,{})}),o.jsx(ke,{path:"/customer/login",element:o.jsx(Lk,{})}),o.jsx(ke,{path:"/customer/register",element:o.jsx(Ik,{})}),o.jsx(ke,{path:"/restaurant/login",element:o.jsx($k,{})}),o.jsx(ke,{path:"/restaurant/register",element:o.jsx(Uk,{})}),o.jsx(ke,{path:"/courier/login",element:o.jsx(Fk,{})}),o.jsx(ke,{path:"/courier/register",element:o.jsx(Mk,{})}),o.jsx(ke,{path:"/test",element:o.jsx(k4,{})}),o.jsxs(ke,{path:"/",element:o.jsx(jk,{}),children:[o.jsx(ke,{index:!0,element:o.jsx(Pk,{})}),o.jsx(ke,{path:"restaurants",element:o.jsx(Dk,{})}),o.jsx(ke,{path:"restaurants/:id",element:o.jsx(Bk,{})}),o.jsx(ke,{path:"cart",element:o.jsx(vk,{})}),o.jsx(ke,{path:"checkout",element:o.jsx(zk,{})}),o.jsx(ke,{path:"order-tracking/:orderId",element:o.jsx(qk,{})}),o.jsx(ke,{path:"profile",element:o.jsx(Hk,{})}),o.jsx(ke,{path:"dashboard",element:o.jsx(Wk,{})}),o.jsx(ke,{path:"admin/*",element:o.jsx(Vl,{role:"admin",children:o.jsx(j4,{})})}),o.jsx(ke,{path:"restaurant/*",element:o.jsx(Vl,{role:"restaurant",children:o.jsx(S4,{})})}),o.jsx(ke,{path:"courier/*",element:o.jsx(Vl,{role:"courier",children:o.jsx(N4,{})})})]})]}),o.jsx(wk,{})]})})})})})})}const C4=new z_({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});Kl.createRoot(document.getElementById("root")).render(o.jsx(_e.StrictMode,{children:o.jsx(Q_,{client:C4,children:o.jsxs(w_,{children:[o.jsx(E4,{}),o.jsx(Dj,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}));
//# sourceMappingURL=index-CMIY62GC.js.map
